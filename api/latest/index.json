{"repository_name":"crinja","body":"# crinja\n\n[![Build Status](https://travis-ci.org/straight-shoota/crinja.svg?branch=master)](https://travis-ci.org/straight-shoota/crinja)\n[![CircleCI](https://circleci.com/gh/straight-shoota/crinja.svg?style=svg)](https://circleci.com/gh/straight-shoota/crinja)\n[![Open Source Helpers](https://www.codetriage.com/straight-shoota/crinja/badges/users.svg)](https://www.codetriage.com/straight-shoota/crinja)\n\nCrinja is an implementation of the [Jinja2 template engine](http://jinja.pocoo.org) written in [Crystal](https://crystal-lang.org/). Templates are parsed and evaluated at runtime (see [Background](#background)). It includes a script runtime for evaluation of dynamic python-like expressions used by the Jinja2 syntax.\n\n**[API Documentation](https://straight-shoota.github.io/crinja/api/latest/)** ·\n**[Github Repo](https://github.com/straight-shoota/crinja)** ·\n**[Template Syntax](https://github.com/straight-shoota/crinja/blob/master/TEMPLATE_SYNTAX.md)**\n\n## Features\n\nCrinja tries to stay close to the Jinja2 language design and implementation. It currently provides most features of the original template language, such as:\n\n* all basic language features like control structures and expressions\n* template inheritance\n* block scoping\n* custom tags, filters, functions, operators and tests\n* autoescape by default\n* template cache\n\nFrom Jinja2 all builtin [control structures (tags)](http://jinja.pocoo.org/docs/2.9/templates/#list-of-control-structures), [tests](http://jinja.pocoo.org/docs/2.9/templates/#list-of-builtin-tests), [global functions](http://jinja.pocoo.org/docs/2.9/templates/#list-of-global-functions), [operators](http://jinja.pocoo.org/docs/2.9/templates/#expressions) and [filters](http://jinja.pocoo.org/docs/2.9/templates/#list-of-builtin-filters) have been ported to Crinja. See `Crinja::Filter`, `Crinja::Test`, `Crinja::Function`, `Crinja::Tag`, `Crinja::Operator` for lists of builtin features.\n\nCurrently, template errors fail fast raising an exception. It is considered to change this behaviour to collect multiple errors, similar to what Jinjava does.\n\n## Installation\n\nAdd this to your application's `shard.yml`:\n\n```yaml\ndependencies:\n  crinja:\n    github: straight-shoota/crinja\n```\n\n## Usage\n\n### Simple string template\n```crystal\nrequire \"crinja\"\n\nCrinja.render(\"Hello, {{ name }}!\", {\"name\" => \"John\"}) # => \"Hello, John!\"\n```\n\n### File loader\n\nWith this template file:\n```html\n# views/index.html.j2\n<p>Hello {{ name | default('World') }}</p>\n```\n\nIt can be loaded with a `FileSystemLoader`:\n\n```crystal\nrequire \"crinja\"\n\nenv = Crinja.new\nenv.loader = Crinja::Loader::FileSystemLoader.new(\"views/\")\ntemplate = env.get_template(\"index.html.j2\")\ntemplate.render # => \"Hello, World!\"\ntemplate.render({ \"name\" => \"John\" }) # => \"Hello, John!\"\n```\n\n### Crystal Playground\n\nRun the **Crystal playground** inside this repostitory and the server is prepared with examples of using Crinja's API (check the `Workbooks` section).\n\n```shell\n$ crystal play\n```\n\nYou can also browse the examples and documentation online (without the interactive playground): [objects](https://straight-shoota.github.io/crinja/api/latest/playground/objects.html) & [features](https://straight-shoota.github.io/crinja/api/latest/playground/features.html)\n\n### Crinja Playground\n\nThe **Crinja Example Server** in [`examples/server`](https://github.com/straight-shoota/crinja/tree/master/examples/server) is an HTTP server which renders Crinja templates from `examples/server/pages`. It has also an interactive playground for Crinja template testing at `/play`.\n\n```shell\n$ cd examples/server && crystal server.cr\n```\n\nOther examples can be found in the [`examples` folder](https://github.com/straight-shoota/crinja/tree/master/examples).\n\n## Template Syntax\n\nThe following is a quick overview of the template language to get you started.\n\nMore details can be found in **[the template guide](https://github.com/straight-shoota/crinja/blob/master/TEMPLATE_SYNTAX.md)**.\nThe original [Jinja2 template reference](http://jinja.pocoo.org/docs/2.9/templates/) can also be helpful, Crinja templates are mostly similar.\n\n### Expressions\n\nIn a template, **expressions** inside double curly braces (`{{` ... `}}`) will be evaluated and printed to the template output.\n\nAssuming there is a variable `name` with value `\"World\"`, the following template renders `Hello, World!`.\n\n```html+jinja\nHello, {{ name }}!\n```\n\nProperties of an object can be accessed by dot (`.`) or square brackets (`[]`). Filters modify the value of an expression.\n\n```html+jinja\nHello, {{ current_user.name | default(\"World\") | titelize }}!\n```\n\nTests are similar to filters, but are used in the context of a boolean expression, for example as condition of an `if` tag.\n\n```html+jinja\n{% if current_user is logged_in %}\n  Hello, {{ current_user.name }}!\n{% else %}\n  Hey, stranger!\n{% end %}\n```\n\n### Tags\n\n**Tags** control the logic of the template. They are enclosed in `{%` and `%}`.\n\n```html+jinja\n{% if is_morning %}\n  Good Morning, {{ name }}!\n{% else %}\n  Hello, {{ name }}!\n{% end %}\n```\n\nThe `for` tag allows looping over a collection.\n\n```html+jinja\n{% for name in users %}\n  {{ user.name }}\n{% endfor %}\n```\n\nOther templates can be included using the `include` tag:\n\n```html+jinja\n{% include \"header.html\" %}\n\n<main>\n  Content\n</main>\n\n{% include \"footer.html\" %}\n```\n\n### Macros\n\nMacros are similar to functions in other programming languages.\n\n```html+jinja\n{% macro say_hello(name) %}Hello, {{ name | default(\"stranger\") }}!{% endmacro %}\n{{ say_hello('Peter') }}\n{{ say_hello('Paul') }}\n```\n\n### Template Inheritance\nTemplate inheritance enables the use of `block` tags in parent templates that can be overwritten by child templates. This is useful for implementating layouts:\n\n```html+jinja\n{# layout.html #}\n\n<h1>{% block page_title %}{% endblock %}</h1>\n\n<main>\n  {% block body %}\n    {# This block is typically overwritten by child templates #}\n  {% endblock %}\n</main>\n\n{% block footer %}\n  {% include \"footer.html\" %}\n{% endblock %}\n```\n\n```html+jinja\n{# page.html #}\n{% extends \"layout.html\" %}\n\n{% block page_title %}Blog Index{% endblock %}\n{% block body %}\n  <ul>\n    {% for article in articles if article.published %}\n    <div class=\"article\">\n      <li>\n        <a href=\"{{ article.href | escape }}\">{{ article.title | escape }}</a>\n        written by <a href=\"{{ article.user.href | escape}}\">{{ article.user.username | escape }}</a>\n      </li>\n    {%- endfor %}\n  </ul>\n{% endblock %}\n```\n\n## Crystal API\n\nThe API tries to stick ot the original [Jinja2 API](http://jinja.pocoo.org/docs/2.9/api/) which is written in Python.\n\n**[API Documentation](https://straight-shoota.github.io/crinja/api/latest/)**\n\n### Configuration\n\nCurrently the following configuration options for `Config` are supported:\n\n<dl>\n  <dt>autoescape</dt>\n  <dd>\n  <p>This config allows the same settings as <code><a href=\"http://jinja.pocoo.org/docs/2.9/api/#jinja2.select_autoescape\">select_autoescape</a></code> in Jinja 2.9.</p>\n  <p>It intelligently sets the initial value of autoescaping based on the filename of the template.</p>\n  <p>When set to a boolean value, <code>false</code> deactivates any autoescape and <code>true</code> activates autoescape for any template.\n  It also allows more detailed configuration:</p>\n  <dl>\n    <dt>enabled_extensions</dt>\n    <dd>List of filename extensions that autoescape should be enabled for. Default: <code>[\"html\", \"htm\", \"xml\"]</code></dd>\n    <dt>disabled_extensions</dt>\n    <dd>List of filename extensions that autoescape should be disabled for. Default: <code>[] of String</code></dd>\n    <dt>default_for_string</dt>\n    <dd>Determines autoescape default value for templates loaded from a string (without a filename). Default: <code>false</code></dd>\n    <dt>default</dt>\n    <dd>If nothing matches, this will be the default autoescape value. Default: <code>false</code></dd>\n  </dl>\n  <p>Note: <em>The default configuration of Crinja differs from that of Jinja 2.9, that autoescape is activated by default for HTML and XML files. This will most likely be changed by Jinja2 in the future, too.</em></p>\n  </dd>\n  <dt>disabled_filters</dt>\n  <dd>A list of *disabled_filters* that will raise a `SecurityError` when invoked.</dd>\n  <dt>disabled_functions</dt>\n  <dd>A list of *disabled_functions* that will raise a `SecurityError` when invoked.</dd>\n  <dt>disabled_operators</dt>\n  <dd>A list of *disabled_operators* that will raise a `SecurityError` when invoked.</dd>\n  <dt>disabled_tags</dt>\n  <dd>A list of *disabled_tags* that will raise a `SecurityError` when invoked.</dd>\n  <dt>disabled_tests</dt>\n  <dd>A list of *disabled_tests* that will raise a `SecurityError` when invoked.</dd>\n  <dt>keep_trailing_newline</dt>\n  <dd>Preserve the trailing newline when rendering templates. If set to `false`, a single newline, if present, will be stripped from the end of the template. Default: <code>false</code></dd>\n  <dt>trim_blocks</dt>\n  <dd>If this is set to <code>true</code>, the first newline after a block is removed. This only applies to blocks, not expression tags. Default: <code>false</code>.</dd>\n  <dt>lstrip_blocks</dt>\n  <dd>If this is set to <code>true</code>, leading spaces and tabs are stripped from the start of a line to a block. Default: <code>false</code>.</dd>\n  <td>register_defaults</td>\n  <dd>If <code>register_defaults</code> is set to <code>true</code>, all feature libraries will be populated with the defaults (Crinja standards and registered custom features).\n  Otherwise the libraries will be empty. They can be manually populated with <code>library.register_defaults</code>.\n  This setting needs to be set at the creation of an environment.</dd>\n</dl>\n\nSee also the original [Jinja2 API Documentation](http://jinja.pocoo.org/docs/2.9/api/).\n\n### Custom features\n\nYou can provide custom tags, filters, functions, operators and tests. Create an implementation using the macros `Crinja.filter`, `Crinja.function`, `Crinja.test`. They need to be passed a block which will be converted to a Proc. Optional arguments are a `Hash` or `NamedTuple` with default arguments and a name. If a name is provided, it will be added to the feature library defaults and available in every environment which uses the registered defaults.\n\nExample with macro `Crinja.filter`:\n\n```crystal\nenv = Crinja.new\n\nmyfilter = Crinja.filter({ attribute: nil }) do\n  \"#{target} is #{arguments[\"attribute\"]}!\"\nend\n\nenv.filters[\"customfilter\"] = myfilter\n\ntemplate = env.from_string(%({{ \"Hello World\" | customfilter(attribute=\"super\") }}))\ntemplate.render # => \"Hello World is super!\"\n```\n\nOr you can define a class for more complex features:\n```crystal\nclass Customfilter\n  include Crinja::Callable\n\n  getter name = \"customfilter\"\n\n  getter defaults = Crinja.variables({\n    \"attribute\" => \"great\"\n  })\n\n  def call(arguments)\n    \"#{arguments.target} is #{arguments[\"attribute\"]}!\"\n  end\nend\n\nenv = Crinja.new\nenv.filters << Customfilter.new\n\ntemplate = env.from_string(%({{ \"Hello World\" | customfilter(attribute=\"super\") }}))\ntemplate.render # => \"Hello World is super!\"\n```\n\nCustom tags and operator can be implemented through subclassing `Crinja::Operator` and  `Crinja:Tag` and adding an instance to the feature library defaults (`Crinja::Operator::Library.defaults << MyTag.new`) or to a specific environment (`env.tags << MyTag.new`).\n\n## Differences from Jinja2\n\nThis is an incomplete list of **Differences to the original Jinja2**:\n\n* **Python expressions:** Because templates are evaluated inside a compiled Crystal program, it's not possible to use ordinary Python expressions in Crinja. But it might be considered to implement some of the Python stdlib like `Dict#iteritems()` which is often used to make dicts iterable.\n* **Line statements and line comments**: Are not supported, because their usecase is negligible.\n* **String representation:** Some objects will have slightly different representation as string or JSON. Crinja uses Crystal internals, while Jinja uses Python internals. For example, an array with strings like `{{ [\"foo\", \"bar\"] }}` will render as `[u'foo', u'bar']` in Jinja2 and as `['foo', 'bar']` in Crinja.\n* **Double escape:** `{{ '<html>'|escape|escape }}` will render as `&lt;html&gt;` in Jinja2, but `&amp;lt;html&amp;gt;`. Should we change that behaviour?\n* **Complex numbers**: Complex numbers are not supported yet.\n* **Configurable syntax**: It is not possible to reconfigure the syntax symbols. This makes the parser less complex and faster.\n\nThe following features are not yet fully implemented, but on the [roadmap](ROADMAP.md):\n\n* Sandboxed execution.\n* Some in-depth features like extended macro reflection, reusable blocks.\n\n## Background\n\nCrystal is a great programming language with a clean syntax inspired by Ruby, but it is compiled and runs incredibly fast.\n\nThere are already some [template engines for crystal](https://github.com/veelenga/awesome-crystal#template-engine). But if you want control structures and dynamic expressions without some sort of Domain Specific Language, there is only [Embedded Crystal (ECR)](https://crystal-lang.org/api/0.21.1/ECR.html), which is a part of Crystal's standard library. It uses macros to convert templates to Crystal code and embed them into the source at compile time. So for every change in a template, you have to recompile the binary. This approach is certainly applicable for many projects and provides very fast template rendering. The downside is, you need a crystal build stack for template design. This makes it impossible to render dynamic, user defined templates, that can be changed at runtime.\n\nJinja2 is a powerful, mature template engine with a great syntax and proven language design. Its philosophy is:\n\n> Application logic is for the controller, but don't make the template designer's life difficult by restricting functionality too much.\n\nJinja derived from the [Django Template Language](http://docs.djangoproject.com/en/dev/ref/templates/builtins/). While it comes from web development and is heavily used there ([Flask](http://flask.pocoo.org/))\n[Ansible](https://ansible.com/) and [Salt](http://www.saltstack.com/) use it for dynamic enhancements of configuration data. It has quite a number of implementations and adaptations in other languages:\n\n* [Jinjava](https://github.com/HubSpot/jinjava) - Jinja2 implementation in Java using [Unified Expression Language](https://uel.java.net/) (`javaex.el`) for expression resolving. It served as an inspiration for some parts of Crinja.\n* [Liquid](https://shopify.github.io/liquid/) - Jinja2-inspired template engine in Ruby\n* [Liquid.cr](https://github.com/TechMagister/liquid.cr) - Liquid implementation in Crystal\n* [Twig](https://twig.symfony.com/) - Jinja2-inspired template engine in PHP\n* [ginger](https://hackage.haskell.org/package/ginger) - Jinja2 implementation in Haskell\n* [Jinja-Js](https://github.com/sstur/jinja-js) - Jinja2-inspired template engin in Javascript\n* [jigo](https://github.com/jmoiron/jigo) - Jinja2 implementation in Go\n* [tera](https://github.com/Keats/tera) - Jinja2 implementation in Rust\n* [jingoo](https://github.com/tategakibunko/jingoo) - Jinja2 implementation in OCaml\n* [nunjucks](https://mozilla.github.io/nunjucks/) - Jinja2 inspired template engine in Javascript\n\n## Contributing\n\n1. Fork it (<https://github.com/straight-shoota/crinja/fork>)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## Contributors\n\n- [straight-shoota](https://github.com/straight-shoota) Johannes Müller - creator, maintainer\n","program":{"html_id":"crinja/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"locations":[],"repository_name":"crinja","program":true,"enum":false,"alias":false,"const":false,"types":[{"html_id":"crinja/Crinja","path":"Crinja.html","kind":"class","full_name":"Crinja","name":"Crinja","abstract":false,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Crinja/Resolver","kind":"module","full_name":"Crinja::Resolver","name":"Resolver"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/crinja.cr","line_number":12,"url":null},{"filename":"src/environment.cr","line_number":7,"url":null},{"filename":"src/object.cr","line_number":3,"url":null},{"filename":"src/runtime/callable.cr","line_number":1,"url":null},{"filename":"src/runtime/callable.cr","line_number":99,"url":null},{"filename":"src/runtime/safe_string.cr","line_number":3,"url":null},{"filename":"src/runtime/undefined.cr","line_number":1,"url":null},{"filename":"src/runtime/value.cr","line_number":1,"url":null},{"filename":"src/runtime/value.cr","line_number":11,"url":null},{"filename":"src/visitor/html.cr","line_number":3,"url":null},{"filename":"src/visitor/inspector.cr","line_number":3,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"Log","name":"Log","value":"::Log.for(self)"},{"id":"UNDEFINED","name":"UNDEFINED","value":"Undefined.new(\"UNDEFINED\")"},{"id":"VERSION","name":"VERSION","value":"{{ (`shards version /root/project/src`).chomp.stringify }}"}],"included_modules":[{"html_id":"crinja/Crinja/Resolver","kind":"module","full_name":"Crinja::Resolver","name":"Resolver"}],"doc":"This class represents the core component of the Crinja template engine.\n\nIt contains the *runtime environment* including configuration, global variables\nas well as loading and rendering templates.\n\nInstances of this class may be modified if they are not shared and if no template\nwas loaded so far. Modifications on environments after the first template was\nloaded will lead to surprising effects and undefined behavior.\n\nIt also contains macros to easily define custom template features such as filters, tests\nand functions.","summary":"<p>This class represents the core component of the Crinja template engine.</p>","class_methods":[{"html_id":"dictionary(object):Dictionary-class-method","name":"dictionary","doc":"Casts an object with hash-like interface to `Dictionary`.","summary":"<p>Casts an object with hash-like interface to <code><a href=\"Crinja/Dictionary.html\">Dictionary</a></code>.</p>","abstract":false,"args":[{"name":"object","external_name":"object","restriction":""}],"args_string":"(object) : Dictionary","args_html":"(object) : <a href=\"Crinja/Dictionary.html\">Dictionary</a>","location":{"filename":"src/runtime/value.cr","line_number":32,"url":null},"def":{"name":"dictionary","args":[{"name":"object","external_name":"object","restriction":""}],"return_type":"Dictionary","visibility":"Public","body":"Dictionary.new.tap do |dict|\n  object.each do |key, value|\n    dict[Value.new(key)] = Value.new(value)\n  end\nend"},"external_var":false},{"html_id":"render(io:IO,template,variables=nil,loader=Loader::FileSystemLoader.new,config=Config.new)-class-method","name":"render","doc":"Render Crinja template *template* to an `IO` *io*.\n\nVariables for the template can be assigned as parameter *variables*.\n\nThis uses default *loader* and *config* unless these are provided as\noptional parameters.\n\nA new `Crinja` instance will be created for each invocation and it will\nparse the *template*. To parse the same template once and invoke it multiple\ntimes, it needs to be created directly (using `Crinja#from_string` or\n`Template.new`) and stored in a variable.","summary":"<p>Render Crinja template <em>template</em> to an <code>IO</code> <em>io</em>.</p>","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"},{"name":"template","external_name":"template","restriction":""},{"name":"variables","default_value":"nil","external_name":"variables","restriction":""},{"name":"loader","default_value":"Loader::FileSystemLoader.new","external_name":"loader","restriction":""},{"name":"config","default_value":"Config.new","external_name":"config","restriction":""}],"args_string":"(io : IO, template, variables = nil, loader = Loader::FileSystemLoader.new, config = Config.new)","args_html":"(io : IO, template, variables = <span class=\"n\">nil</span>, loader = <span class=\"t\">Loader</span><span class=\"t\">::</span><span class=\"t\">FileSystemLoader</span>.new, config = <span class=\"t\">Config</span>.new)","location":{"filename":"src/crinja.cr","line_number":43,"url":null},"def":{"name":"render","args":[{"name":"io","external_name":"io","restriction":"IO"},{"name":"template","external_name":"template","restriction":""},{"name":"variables","default_value":"nil","external_name":"variables","restriction":""},{"name":"loader","default_value":"Loader::FileSystemLoader.new","external_name":"loader","restriction":""},{"name":"config","default_value":"Config.new","external_name":"config","restriction":""}],"visibility":"Public","body":"env = Crinja.new(config: config, loader: loader)\n\n(env.from_string(template.to_s)).render(io, variables)\n"},"external_var":false},{"html_id":"render(template,variables=nil,loader=Loader::FileSystemLoader.new,config=Config.new):String-class-method","name":"render","doc":"Render Crinja template *template* to a String.\n\nVariables for the template can be assigned as parameter *variables*.\n\nThis uses default *loader* and *config* unless these are provided as\noptional parameters.\n\nA new `Crinja` instance will be created for each invocation and it will\nparse the *template*. To parse the same template once and invoke it multiple\ntimes, it needs to be created directly (using `Crinja#from_string` or\n`Template.new`) and stored in a variable.","summary":"<p>Render Crinja template <em>template</em> to a String.</p>","abstract":false,"args":[{"name":"template","external_name":"template","restriction":""},{"name":"variables","default_value":"nil","external_name":"variables","restriction":""},{"name":"loader","default_value":"Loader::FileSystemLoader.new","external_name":"loader","restriction":""},{"name":"config","default_value":"Config.new","external_name":"config","restriction":""}],"args_string":"(template, variables = nil, loader = Loader::FileSystemLoader.new, config = Config.new) : String","args_html":"(template, variables = <span class=\"n\">nil</span>, loader = <span class=\"t\">Loader</span><span class=\"t\">::</span><span class=\"t\">FileSystemLoader</span>.new, config = <span class=\"t\">Config</span>.new) : <a href=\"String.html\">String</a>","location":{"filename":"src/crinja.cr","line_number":26,"url":null},"def":{"name":"render","args":[{"name":"template","external_name":"template","restriction":""},{"name":"variables","default_value":"nil","external_name":"variables","restriction":""},{"name":"loader","default_value":"Loader::FileSystemLoader.new","external_name":"loader","restriction":""},{"name":"config","default_value":"Config.new","external_name":"config","restriction":""}],"return_type":"String","visibility":"Public","body":"String.build do |io|\n  render(io, template, variables, loader, config)\nend"},"external_var":false},{"html_id":"value(value):Value-class-method","name":"value","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value) : Value","args_html":"(value) : <a href=\"Crinja/Value.html\">Value</a>","location":{"filename":"src/runtime/value.cr","line_number":59,"url":null},"def":{"name":"value","args":[{"name":"value","external_name":"value","restriction":""}],"return_type":"Value","visibility":"Public","body":"case value\nwhen Hash\n  Value.new(Crinja.dictionary(value))\nwhen NamedTuple\n  dict = Dictionary.new\n  value.each do |k, v|\n    dict[Value.new(k.to_s)] = value(v)\n  end\n  Value.new(dict)\nwhen ::Tuple\n  Value.new(Crinja::Tuple.from(value))\nwhen Array\n  array = value.map do |item|\n    (value(item)).as(Value)\n  end\n  Value.new(array)\nwhen Range\n  Value.new(value.to_a)\nwhen Iterator(Value)\n  Value.new(value)\nwhen Iterator\n  Value.new(Value::Iterator.new(value))\nwhen Char\n  Value.new(value.to_s)\nwhen Value\n  value\nwhen Raw\n  Value.new(value)\nelse\n  raise(\"type error: can't wrap #{value.class} in Crinja::Value\")\nend"},"external_var":false},{"html_id":"variables(object):Variables-class-method","name":"variables","doc":"Casts an object with hash-like interface to `Variables`, which can be\nused for name lookup.","summary":"<p>Casts an object with hash-like interface to <code><a href=\"Crinja/Variables.html\">Variables</a></code>, which can be used for name lookup.</p>","abstract":false,"args":[{"name":"object","external_name":"object","restriction":""}],"args_string":"(object) : Variables","args_html":"(object) : <a href=\"Crinja/Variables.html\">Variables</a>","location":{"filename":"src/runtime/value.cr","line_number":51,"url":null},"def":{"name":"variables","args":[{"name":"object","external_name":"object","restriction":""}],"return_type":"Variables","visibility":"Public","body":"Variables.new.tap do |variables|\n  object.each do |k, v|\n    variables[k.to_s] = Value.new(v)\n  end\nend"},"external_var":false}],"constructors":[{"html_id":"new(context=Context.new,config=Config.new,loader=Loader::FileSystemLoader.new,cache=TemplateCache::InMemory.new,&)-class-method","name":"new","doc":"Creates a new environment and yields `self` for configuration.","summary":"<p>Creates a new environment and yields <code>self</code> for configuration.</p>","abstract":false,"args":[{"name":"context","default_value":"Context.new","external_name":"context","restriction":""},{"name":"config","default_value":"Config.new","external_name":"config","restriction":""},{"name":"loader","default_value":"Loader::FileSystemLoader.new","external_name":"loader","restriction":""},{"name":"cache","default_value":"TemplateCache::InMemory.new","external_name":"cache","restriction":""}],"args_string":"(context = Context.new, config = Config.new, loader = Loader::FileSystemLoader.new, cache = TemplateCache::InMemory.new, &)","args_html":"(context = <span class=\"t\">Context</span>.new, config = <span class=\"t\">Config</span>.new, loader = <span class=\"t\">Loader</span><span class=\"t\">::</span><span class=\"t\">FileSystemLoader</span>.new, cache = <span class=\"t\">TemplateCache</span><span class=\"t\">::</span><span class=\"t\">InMemory</span>.new, &)","location":{"filename":"src/environment.cr","line_number":60,"url":null},"def":{"name":"new","args":[{"name":"context","default_value":"Context.new","external_name":"context","restriction":""},{"name":"config","default_value":"Config.new","external_name":"config","restriction":""},{"name":"loader","default_value":"Loader::FileSystemLoader.new","external_name":"loader","restriction":""},{"name":"cache","default_value":"TemplateCache::InMemory.new","external_name":"cache","restriction":""}],"yields":1,"block_arity":1,"visibility":"Public","body":"env = new(context, config, loader, cache)\nyield env\nenv\n"},"external_var":false},{"html_id":"new(original:Crinja)-class-method","name":"new","doc":"Creates a new environment with the context and configuration from the *original* environment.","summary":"<p>Creates a new environment with the context and configuration from the <em>original</em> environment.</p>","abstract":false,"args":[{"name":"original","external_name":"original","restriction":"Crinja"}],"args_string":"(original : Crinja)","args_html":"(original : <a href=\"Crinja.html\">Crinja</a>)","location":{"filename":"src/environment.cr","line_number":84,"url":null},"def":{"name":"new","args":[{"name":"original","external_name":"original","restriction":"Crinja"}],"visibility":"Public","body":"new(Context.new(original.context), original.config, original.loader)"},"external_var":false},{"html_id":"new(config:Config,loader=Loader::FileSystemLoader.new,cache=TemplateCache::InMemory.new)-class-method","name":"new","doc":"Creates a new environment from *config*.","summary":"<p>Creates a new environment from <em>config</em>.</p>","abstract":false,"args":[{"name":"config","external_name":"config","restriction":"Config"},{"name":"loader","default_value":"Loader::FileSystemLoader.new","external_name":"loader","restriction":""},{"name":"cache","default_value":"TemplateCache::InMemory.new","external_name":"cache","restriction":""}],"args_string":"(config : Config, loader = Loader::FileSystemLoader.new, cache = TemplateCache::InMemory.new)","args_html":"(config : <a href=\"Crinja/Config.html\">Config</a>, loader = <span class=\"t\">Loader</span><span class=\"t\">::</span><span class=\"t\">FileSystemLoader</span>.new, cache = <span class=\"t\">TemplateCache</span><span class=\"t\">::</span><span class=\"t\">InMemory</span>.new)","location":{"filename":"src/environment.cr","line_number":89,"url":null},"def":{"name":"new","args":[{"name":"config","external_name":"config","restriction":"Config"},{"name":"loader","default_value":"Loader::FileSystemLoader.new","external_name":"loader","restriction":""},{"name":"cache","default_value":"TemplateCache::InMemory.new","external_name":"cache","restriction":""}],"visibility":"Public","body":"new(Context.new, config, loader, cache)"},"external_var":false},{"html_id":"new(context:Crinja::Context=Context.new,config:Crinja::Config=Config.new,loader:Crinja::Loader=Loader::FileSystemLoader.new,cache:Crinja::TemplateCache=TemplateCache::InMemory.new)-class-method","name":"new","doc":"Creates a new environment with default values. The *context* becomes both `#global_context`\nas well as current ``#context`.","summary":"<p>Creates a new environment with default values.</p>","abstract":false,"args":[{"name":"context","default_value":"Context.new","external_name":"context","restriction":"::Crinja::Context"},{"name":"config","default_value":"Config.new","external_name":"config","restriction":"::Crinja::Config"},{"name":"loader","default_value":"Loader::FileSystemLoader.new","external_name":"loader","restriction":"::Crinja::Loader"},{"name":"cache","default_value":"TemplateCache::InMemory.new","external_name":"cache","restriction":"::Crinja::TemplateCache"}],"args_string":"(context : Crinja::Context = Context.new, config : Crinja::Config = Config.new, loader : Crinja::Loader = Loader::FileSystemLoader.new, cache : Crinja::TemplateCache = TemplateCache::InMemory.new)","args_html":"(context : <a href=\"Crinja/Context.html\">Crinja::Context</a> = <span class=\"t\">Context</span>.new, config : <a href=\"Crinja/Config.html\">Crinja::Config</a> = <span class=\"t\">Config</span>.new, loader : <a href=\"Crinja/Loader.html\">Crinja::Loader</a> = <span class=\"t\">Loader</span><span class=\"t\">::</span><span class=\"t\">FileSystemLoader</span>.new, cache : <a href=\"Crinja/TemplateCache.html\">Crinja::TemplateCache</a> = <span class=\"t\">TemplateCache</span><span class=\"t\">::</span><span class=\"t\">InMemory</span>.new)","location":{"filename":"src/environment.cr","line_number":69,"url":null},"def":{"name":"new","args":[{"name":"context","default_value":"Context.new","external_name":"context","restriction":"::Crinja::Context"},{"name":"config","default_value":"Config.new","external_name":"config","restriction":"::Crinja::Config"},{"name":"loader","default_value":"Loader::FileSystemLoader.new","external_name":"loader","restriction":"::Crinja::Loader"},{"name":"cache","default_value":"TemplateCache::InMemory.new","external_name":"cache","restriction":"::Crinja::TemplateCache"}],"visibility":"Public","body":"_ = allocate\n_.initialize(context, config, loader, cache)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"cache:TemplateCache-instance-method","name":"cache","doc":"A cache where parsed templates are stored. Defaults to `TemplateCache::InMemory`.","summary":"<p>A cache where parsed templates are stored.</p>","abstract":false,"location":{"filename":"src/environment.cr","line_number":27,"url":null},"def":{"name":"cache","return_type":"TemplateCache","visibility":"Public","body":"@cache"},"external_var":false},{"html_id":"cache=(cache:TemplateCache)-instance-method","name":"cache=","doc":"A cache where parsed templates are stored. Defaults to `TemplateCache::InMemory`.","summary":"<p>A cache where parsed templates are stored.</p>","abstract":false,"args":[{"name":"cache","external_name":"cache","restriction":"TemplateCache"}],"args_string":"(cache : TemplateCache)","args_html":"(cache : <a href=\"Crinja/TemplateCache.html\">TemplateCache</a>)","location":{"filename":"src/environment.cr","line_number":27,"url":null},"def":{"name":"cache=","args":[{"name":"cache","external_name":"cache","restriction":"TemplateCache"}],"visibility":"Public","body":"@cache = cache"},"external_var":false},{"html_id":"config:Config-instance-method","name":"config","doc":"The configuration for this environment.","summary":"<p>The configuration for this environment.</p>","abstract":false,"location":{"filename":"src/environment.cr","line_number":17,"url":null},"def":{"name":"config","return_type":"Config","visibility":"Public","body":"@config"},"external_var":false},{"html_id":"context:Context-instance-method","name":"context","doc":"The current context in which evaluation happens. It can only be changed by `#with_context`.","summary":"<p>The current context in which evaluation happens.</p>","abstract":false,"location":{"filename":"src/environment.cr","line_number":11,"url":null},"def":{"name":"context","return_type":"Context","visibility":"Public","body":"@context"},"external_var":false},{"html_id":"errors:Array(Exception)-instance-method","name":"errors","abstract":false,"location":{"filename":"src/environment.cr","line_number":29,"url":null},"def":{"name":"errors","return_type":"Array(Exception)","visibility":"Public","body":"@errors"},"external_var":false},{"html_id":"errors=(errors:Array(Exception))-instance-method","name":"errors=","abstract":false,"args":[{"name":"errors","external_name":"errors","restriction":"Array(Exception)"}],"args_string":"(errors : Array(Exception))","args_html":"(errors : Array(Exception))","location":{"filename":"src/environment.cr","line_number":29,"url":null},"def":{"name":"errors=","args":[{"name":"errors","external_name":"errors","restriction":"Array(Exception)"}],"visibility":"Public","body":"@errors = errors"},"external_var":false},{"html_id":"evaluate(expression:AST::ExpressionNode,bindings):Value-instance-method","name":"evaluate","doc":"Evaluates a Crinja expression with `#evaluator` and returns the resulting raw value.","summary":"<p>Evaluates a Crinja expression with <code><a href=\"Crinja.html#evaluator-instance-method\">#evaluator</a></code> and returns the resulting raw value.</p>","abstract":false,"args":[{"name":"expression","external_name":"expression","restriction":"AST::ExpressionNode"},{"name":"bindings","external_name":"bindings","restriction":""}],"args_string":"(expression : AST::ExpressionNode, bindings) : Value","args_html":"(expression : AST::ExpressionNode, bindings) : <a href=\"Crinja/Value.html\">Value</a>","location":{"filename":"src/environment.cr","line_number":100,"url":null},"def":{"name":"evaluate","args":[{"name":"expression","external_name":"expression","restriction":"AST::ExpressionNode"},{"name":"bindings","external_name":"bindings","restriction":""}],"return_type":"Value","visibility":"Public","body":"with_scope(bindings) do\n  evaluate(expression)\nend"},"external_var":false},{"html_id":"evaluate(expression:AST::ExpressionNode):Value-instance-method","name":"evaluate","abstract":false,"args":[{"name":"expression","external_name":"expression","restriction":"AST::ExpressionNode"}],"args_string":"(expression : AST::ExpressionNode) : Value","args_html":"(expression : AST::ExpressionNode) : <a href=\"Crinja/Value.html\">Value</a>","location":{"filename":"src/environment.cr","line_number":106,"url":null},"def":{"name":"evaluate","args":[{"name":"expression","external_name":"expression","restriction":"AST::ExpressionNode"}],"return_type":"Value","visibility":"Public","body":"evaluator.value(expression)"},"external_var":false},{"html_id":"evaluate(expression,bindings=nil):String-instance-method","name":"evaluate","doc":"Parses and evaluates a Crinja expression with `#evaluator`. Returns a string which will be\nauto-escaped if `config.autoescape?` is `true`.","summary":"<p>Parses and evaluates a Crinja expression with <code><a href=\"Crinja.html#evaluator-instance-method\">#evaluator</a></code>.</p>","abstract":false,"args":[{"name":"expression","external_name":"expression","restriction":""},{"name":"bindings","default_value":"nil","external_name":"bindings","restriction":""}],"args_string":"(expression, bindings = nil) : String","args_html":"(expression, bindings = <span class=\"n\">nil</span>) : <a href=\"String.html\">String</a>","location":{"filename":"src/environment.cr","line_number":112,"url":null},"def":{"name":"evaluate","args":[{"name":"expression","external_name":"expression","restriction":""},{"name":"bindings","default_value":"nil","external_name":"bindings","restriction":""}],"return_type":"String","visibility":"Public","body":"lexer = Parser::ExpressionLexer.new(config, expression)\nparser = Parser::ExpressionParser.new(lexer)\n\nexpression = parser.parse\n\n@context.autoescape = @config.autoescape?\n\nresult = evaluate(expression, bindings)\n\nstringify(result)\n"},"external_var":false},{"html_id":"evaluator-instance-method","name":"evaluator","doc":"Returns an `Crinja::Evaluator` which allows evaluation of expressions.","summary":"<p>Returns an <code>Crinja::Evaluator</code> which allows evaluation of expressions.</p>","abstract":false,"location":{"filename":"src/environment.cr","line_number":95,"url":null},"def":{"name":"evaluator","visibility":"Public","body":"@evaluator || (@evaluator = Evaluator.new(self))"},"external_var":false},{"html_id":"filters:Crinja::Filter::Library-instance-method","name":"filters","doc":"Filter library for this environment.\n\nSee `Crinja::Filter` for a list of builtin filters.","summary":"<p>Filter library for this environment.</p>","abstract":false,"location":{"filename":"src/environment.cr","line_number":39,"url":null},"def":{"name":"filters","visibility":"Public","body":"@filters"},"external_var":false},{"html_id":"from_string(string:String)-instance-method","name":"from_string","doc":"Loads a template from *string.* This parses the given string and returns a `Template` object.","summary":"<p>Loads a template from <em>string.</em> This parses the given string and returns a <code><a href=\"Crinja/Template.html\">Template</a></code> object.</p>","abstract":false,"args":[{"name":"string","external_name":"string","restriction":"String"}],"args_string":"(string : String)","args_html":"(string : <a href=\"String.html\">String</a>)","location":{"filename":"src/environment.cr","line_number":126,"url":null},"def":{"name":"from_string","args":[{"name":"string","external_name":"string","restriction":"String"}],"visibility":"Public","body":"Template.new(string, self)"},"external_var":false},{"html_id":"functions:Crinja::Function::Library-instance-method","name":"functions","doc":"Function library for this environment.\n\nSee `Crinja::Function` for a list of builtin functions.","summary":"<p>Function library for this environment.</p>","abstract":false,"location":{"filename":"src/environment.cr","line_number":44,"url":null},"def":{"name":"functions","visibility":"Public","body":"@functions"},"external_var":false},{"html_id":"get_template(name:String,parent=nil,globals=nil)-instance-method","name":"get_template","doc":"Loads a template from the loader. If a loader is configured this method ask the loader for the template and returns a `Template`.\nIf the parent parameter is not None, join_path() is called to get the real template name before loading.\nTODO: *parent* parameter is not implemented.\nThe *globals* parameter can be used to provide template wide globals. These variables are available in the context at render time.\nIf the template does not exist a `TemplateNotFoundError` is raised.","summary":"<p>Loads a template from the loader.</p>","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"parent","default_value":"nil","external_name":"parent","restriction":""},{"name":"globals","default_value":"nil","external_name":"globals","restriction":""}],"args_string":"(name : String, parent = nil, globals = nil)","args_html":"(name : <a href=\"String.html\">String</a>, parent = <span class=\"n\">nil</span>, globals = <span class=\"n\">nil</span>)","location":{"filename":"src/environment.cr","line_number":135,"url":null},"def":{"name":"get_template","args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"parent","default_value":"nil","external_name":"parent","restriction":""},{"name":"globals","default_value":"nil","external_name":"globals","restriction":""}],"visibility":"Public","body":"loader.load(self, name)"},"external_var":false},{"html_id":"get_template(names:Iterable(String),parent=nil,globals=nil)-instance-method","name":"get_template","doc":"Works like `#get_template(String)` but tries a number of templates before it fails. If it cannot find any of the templates, it will raise a `TemplateNotFoundError`.","summary":"<p>Works like <code>#get_template(String)</code> but tries a number of templates before it fails.</p>","abstract":false,"args":[{"name":"names","external_name":"names","restriction":"Iterable(String)"},{"name":"parent","default_value":"nil","external_name":"parent","restriction":""},{"name":"globals","default_value":"nil","external_name":"globals","restriction":""}],"args_string":"(names : Iterable(String), parent = nil, globals = nil)","args_html":"(names : Iterable(<a href=\"String.html\">String</a>), parent = <span class=\"n\">nil</span>, globals = <span class=\"n\">nil</span>)","location":{"filename":"src/environment.cr","line_number":140,"url":null},"def":{"name":"get_template","args":[{"name":"names","external_name":"names","restriction":"Iterable(String)"},{"name":"parent","default_value":"nil","external_name":"parent","restriction":""},{"name":"globals","default_value":"nil","external_name":"globals","restriction":""}],"visibility":"Public","body":"names.each do |name|\n  begin\n    return get_template(name)\n  rescue TemplateNotFoundError\n  end\nend\n\nraise(TemplateNotFoundError.new(names, self))\n"},"external_var":false},{"html_id":"global_context:Context-instance-method","name":"global_context","doc":"The global context.","summary":"<p>The global context.</p>","abstract":false,"location":{"filename":"src/environment.cr","line_number":14,"url":null},"def":{"name":"global_context","return_type":"Context","visibility":"Public","body":"@global_context"},"external_var":false},{"html_id":"loader:Loader-instance-method","name":"loader","doc":"The loader through which `#get_template` loads a template.\nDefaults to `Loader::FileSystemLoader` with searchpath of the current working directory.","summary":"<p>The loader through which <code><a href=\"Crinja.html#get_template%28name%3AString%2Cparent%3Dnil%2Cglobals%3Dnil%29-instance-method\">#get_template</a></code> loads a template.</p>","abstract":false,"location":{"filename":"src/environment.cr","line_number":24,"url":null},"def":{"name":"loader","return_type":"Loader","visibility":"Public","body":"@loader"},"external_var":false},{"html_id":"loader=(loader:Loader)-instance-method","name":"loader=","doc":"The loader through which `#get_template` loads a template.\nDefaults to `Loader::FileSystemLoader` with searchpath of the current working directory.","summary":"<p>The loader through which <code><a href=\"Crinja.html#get_template%28name%3AString%2Cparent%3Dnil%2Cglobals%3Dnil%29-instance-method\">#get_template</a></code> loads a template.</p>","abstract":false,"args":[{"name":"loader","external_name":"loader","restriction":"Loader"}],"args_string":"(loader : Loader)","args_html":"(loader : <a href=\"Crinja/Loader.html\">Loader</a>)","location":{"filename":"src/environment.cr","line_number":24,"url":null},"def":{"name":"loader=","args":[{"name":"loader","external_name":"loader","restriction":"Loader"}],"visibility":"Public","body":"@loader = loader"},"external_var":false},{"html_id":"logger:::Log-instance-method","name":"logger","doc":"The logger for this environment.","summary":"<p>The logger for this environment.</p>","abstract":false,"location":{"filename":"src/environment.cr","line_number":20,"url":null},"def":{"name":"logger","return_type":"::Log","visibility":"Public","body":"@logger"},"external_var":false},{"html_id":"operators:Crinja::Operator::Library-instance-method","name":"operators","doc":"Operator library for this environment.\n\nSee `Crinja::Operator` for a list of builtin operators.","summary":"<p>Operator library for this environment.</p>","abstract":false,"location":{"filename":"src/environment.cr","line_number":34,"url":null},"def":{"name":"operators","visibility":"Public","body":"@operators"},"external_var":false},{"html_id":"policies:Hash(String,Crinja::Value)-instance-method","name":"policies","doc":"Policies for this environment.","summary":"<p>Policies for this environment.</p>","abstract":false,"location":{"filename":"src/environment.cr","line_number":57,"url":null},"def":{"name":"policies","visibility":"Public","body":"@policies"},"external_var":false},{"html_id":"select_template(names,parent=nil,globals=nil)-instance-method","name":"select_template","doc":"Alias for `#get_template(Iterable(String))`.","summary":"<p>Alias for <code>#get_template(Iterable(String))</code>.</p>","abstract":false,"args":[{"name":"names","external_name":"names","restriction":""},{"name":"parent","default_value":"nil","external_name":"parent","restriction":""},{"name":"globals","default_value":"nil","external_name":"globals","restriction":""}],"args_string":"(names, parent = nil, globals = nil)","args_html":"(names, parent = <span class=\"n\">nil</span>, globals = <span class=\"n\">nil</span>)","location":{"filename":"src/environment.cr","line_number":152,"url":null},"def":{"name":"select_template","args":[{"name":"names","external_name":"names","restriction":""},{"name":"parent","default_value":"nil","external_name":"parent","restriction":""},{"name":"globals","default_value":"nil","external_name":"globals","restriction":""}],"visibility":"Public","body":"get_template(names, parent, globals)"},"external_var":false},{"html_id":"stringify(object,pretty=false)-instance-method","name":"stringify","doc":"Turns *object* into a string represenation using `Crinja::Finalizer`.","summary":"<p>Turns <em>object</em> into a string represenation using <code><a href=\"Crinja/Finalizer.html\">Crinja::Finalizer</a></code>.</p>","abstract":false,"args":[{"name":"object","external_name":"object","restriction":""},{"name":"pretty","default_value":"false","external_name":"pretty","restriction":""}],"args_string":"(object, pretty = false)","args_html":"(object, pretty = <span class=\"n\">false</span>)","location":{"filename":"src/environment.cr","line_number":183,"url":null},"def":{"name":"stringify","args":[{"name":"object","external_name":"object","restriction":""},{"name":"pretty","default_value":"false","external_name":"pretty","restriction":""}],"visibility":"Public","body":"@finalizer.stringify(object, context.autoescape?)"},"external_var":false},{"html_id":"tags:Crinja::Tag::Library-instance-method","name":"tags","doc":"Tag library for this environment.\n\nSee `Crinja::Tag` for a list of builtin tags.","summary":"<p>Tag library for this environment.</p>","abstract":false,"location":{"filename":"src/environment.cr","line_number":49,"url":null},"def":{"name":"tags","visibility":"Public","body":"@tags"},"external_var":false},{"html_id":"tests:Crinja::Test::Library-instance-method","name":"tests","doc":"Test library for this environment.\n\nSee `Crinja::Test` for a list of builtin tests.","summary":"<p>Test library for this environment.</p>","abstract":false,"location":{"filename":"src/environment.cr","line_number":54,"url":null},"def":{"name":"tests","visibility":"Public","body":"@tests"},"external_var":false},{"html_id":"undefined(name=nil)-instance-method","name":"undefined","doc":"Creates a new `undefined`.","summary":"<p>Creates a new <code><a href=\"Crinja.html#undefined%28name%3Dnil%29-instance-method\">#undefined</a></code>.</p>","abstract":false,"args":[{"name":"name","default_value":"nil","external_name":"name","restriction":""}],"args_string":"(name = nil)","args_html":"(name = <span class=\"n\">nil</span>)","location":{"filename":"src/environment.cr","line_number":188,"url":null},"def":{"name":"undefined","args":[{"name":"name","default_value":"nil","external_name":"name","restriction":""}],"visibility":"Public","body":"Value.new(Undefined.new(name))"},"external_var":false},{"html_id":"with_scope(ctx:Context,&)-instance-method","name":"with_scope","doc":"Executes the block inside the context `ctx` and returns to the previous context afterwards.","summary":"<p>Executes the block inside the context <code>ctx</code> and returns to the previous context afterwards.</p>","abstract":false,"args":[{"name":"ctx","external_name":"ctx","restriction":"Context"}],"args_string":"(ctx : Context, &)","args_html":"(ctx : <a href=\"Crinja/Context.html\">Context</a>, &)","location":{"filename":"src/environment.cr","line_number":157,"url":null},"def":{"name":"with_scope","args":[{"name":"ctx","external_name":"ctx","restriction":"Context"}],"yields":1,"block_arity":1,"visibility":"Public","body":"begin\n  former_scope = self.context\n\n  if ctx.parent != @context\n    logger.debug do \"new context #{ctx} is not the child of former context\" end\n  end\n  @context = ctx\n\n  yield @context\nensure\n  @context = former_scope.not_nil!\nend"},"external_var":false},{"html_id":"with_scope(bindings=nil,&)-instance-method","name":"with_scope","doc":"Executes the block inside a new sub-context with optional local scoped *bindings*.\nReturns to the previous context afterwards.","summary":"<p>Executes the block inside a new sub-context with optional local scoped <em>bindings</em>.</p>","abstract":false,"args":[{"name":"bindings","default_value":"nil","external_name":"bindings","restriction":""}],"args_string":"(bindings = nil, &)","args_html":"(bindings = <span class=\"n\">nil</span>, &)","location":{"filename":"src/environment.cr","line_number":170,"url":null},"def":{"name":"with_scope","args":[{"name":"bindings","default_value":"nil","external_name":"bindings","restriction":""}],"yields":1,"block_arity":1,"visibility":"Public","body":"ctx = Context.new(self.context)\n\nif bindings.nil?\nelse\n  ctx.merge!(bindings)\nend\n\nwith_scope(ctx) do |c|\n  yield c\nend\n"},"external_var":false}],"macros":[{"html_id":"filter(defaults=nil,name=nil,&block)-macro","name":"filter","doc":"This macro returns a `Crinja::Callable` proc which implements a `Crinja::Filter`.\n\n*defaults* are set as default values in the `Crinja::Arguments` object,\nwhich a call to this proc receives.\n\nIf a *name* is provided, the created proc will automatically be registered as a default filter\nat `Crinja::Filter::Library`.\n\nThe macro takes a *block* which will be the main body for the proc. There, the following\nvariables are available:\n* *arguments* : `Crinja::Arguments` - Call arguments from the caller including *defaults*.\n* *env* : `Crinja` - The current environment.\n* *target* : `Crinja::Value` - The value which is to be filtered. Short cut for `arguments.target`.","summary":"<p>This macro returns a <code><a href=\"Crinja/Callable.html\">Crinja::Callable</a></code> proc which implements a <code><a href=\"Crinja/Filter.html\">Crinja::Filter</a></code>.</p>","abstract":false,"args":[{"name":"defaults","default_value":"nil","external_name":"defaults","restriction":""},{"name":"name","default_value":"nil","external_name":"name","restriction":""}],"args_string":"(defaults = nil, name = nil, &block)","args_html":"(defaults = <span class=\"n\">nil</span>, name = <span class=\"n\">nil</span>, &block)","location":{"filename":"src/runtime/callable.cr","line_number":67,"url":null},"def":{"name":"filter","args":[{"name":"defaults","default_value":"nil","external_name":"defaults","restriction":""},{"name":"name","default_value":"nil","external_name":"name","restriction":""}],"block_arg":{"name":"block","external_name":"block","restriction":""},"visibility":"Public","body":"    Crinja.callable(Crinja::Filter, \n{{ defaults }}\n, \n{{ name }}\n) do\n      target = arguments.target!\n\n      \n{{ yield }}\n\n    \nend\n  \n"}},{"html_id":"function(defaults=nil,name=nil,&block)-macro","name":"function","doc":"This macro returns a `Crinja::Callable` proc which implements a `Crinja::Function`.\n\n*defaults* are set as default values in the `Crinja::Arguments` object,\nwhich a call to this proc receives.\n\nIf a *name* is provided, the created proc will automatically be registered as a default golbal\nfunction at `Crinja::Function::Library`.\n\nThe macro takes a *block* which will be the main body for the proc. There, the following\nvariables are available:\n* *arguments* : `Crinja::Arguments` - Call arguments from the caller including *defaults*.\n* *env* : `Crinja` - The current environment.","summary":"<p>This macro returns a <code><a href=\"Crinja/Callable.html\">Crinja::Callable</a></code> proc which implements a <code><a href=\"Crinja/Function.html\">Crinja::Function</a></code>.</p>","abstract":false,"args":[{"name":"defaults","default_value":"nil","external_name":"defaults","restriction":""},{"name":"name","default_value":"nil","external_name":"name","restriction":""}],"args_string":"(defaults = nil, name = nil, &block)","args_html":"(defaults = <span class=\"n\">nil</span>, name = <span class=\"n\">nil</span>, &block)","location":{"filename":"src/runtime/callable.cr","line_number":87,"url":null},"def":{"name":"function","args":[{"name":"defaults","default_value":"nil","external_name":"defaults","restriction":""},{"name":"name","default_value":"nil","external_name":"name","restriction":""}],"block_arg":{"name":"block","external_name":"block","restriction":""},"visibility":"Public","body":"    Crinja.callable(Crinja::Function, \n{{ defaults }}\n, \n{{ name }}\n) do\n      \n{{ block.body }}\n\n    \nend\n  \n"}},{"html_id":"test(defaults=nil,name=nil,&block)-macro","name":"test","doc":"This macro returns a `Crinja::Callable` proc which implements a `Crinja::Test`.\n\n*defaults* are set as default values in the `Crinja::Arguments` object,\nwhich a call to this proc receives.\n\nIf a *name* is provided, the created proc will automatically be registered as a default test\nat `Crinja::Test::Library`.\n\nThe macro takes a *block* which will be the main body for the proc. There, the following\nvariables are available:\n* *arguments* : `Crinja::Arguments` - Call arguments from the caller including *defaults*.\n* *env* : `Crinja` - The current environment.\n* *target* : `Crinja::Value` - The subject of the test. Short cut for `arguments.target`.","summary":"<p>This macro returns a <code><a href=\"Crinja/Callable.html\">Crinja::Callable</a></code> proc which implements a <code><a href=\"Crinja/Test.html\">Crinja::Test</a></code>.</p>","abstract":false,"args":[{"name":"defaults","default_value":"nil","external_name":"defaults","restriction":""},{"name":"name","default_value":"nil","external_name":"name","restriction":""}],"args_string":"(defaults = nil, name = nil, &block)","args_html":"(defaults = <span class=\"n\">nil</span>, name = <span class=\"n\">nil</span>, &block)","location":{"filename":"src/runtime/callable.cr","line_number":46,"url":null},"def":{"name":"test","args":[{"name":"defaults","default_value":"nil","external_name":"defaults","restriction":""},{"name":"name","default_value":"nil","external_name":"name","restriction":""}],"block_arg":{"name":"block","external_name":"block","restriction":""},"visibility":"Public","body":"    Crinja.callable(Crinja::Test, \n{{ defaults }}\n, \n{{ name }}\n) do\n      target = arguments.target!\n\n      \n{{ block.body }}\n\n    \nend\n  \n"}}],"types":[{"html_id":"crinja/Crinja/Arguments","path":"Crinja/Arguments.html","kind":"struct","full_name":"Crinja::Arguments","name":"Arguments","abstract":false,"superclass":{"html_id":"crinja/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"crinja/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"crinja/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/arguments.cr","line_number":5,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"doc":"This holds arguments and environment information for function, filter, test and macro calls.","summary":"<p>This holds arguments and environment information for function, filter, test and macro calls.</p>","constructors":[{"html_id":"new(env:Crinja,varargs:Array(Crinja::Value)=[]ofValue,kwargs:Hash(String,Crinja::Value)=Hash(String,Value).new,defaults:Hash(String,Crinja::Value)=Variables.new,target:Crinja::Value|Nil=nil)-class-method","name":"new","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"::Crinja"},{"name":"varargs","default_value":"[] of Value","external_name":"varargs","restriction":"::Array(::Crinja::Value)"},{"name":"kwargs","default_value":"Hash(String, Value).new","external_name":"kwargs","restriction":"::Hash(::String, ::Crinja::Value)"},{"name":"defaults","default_value":"Variables.new","external_name":"defaults","restriction":"::Hash(::String, ::Crinja::Value)"},{"name":"target","default_value":"nil","external_name":"target","restriction":"::Crinja::Value | ::Nil"}],"args_string":"(env : Crinja, varargs : Array(Crinja::Value) = [] of Value, kwargs : Hash(String, Crinja::Value) = Hash(String, Value).new, defaults : Hash(String, Crinja::Value) = Variables.new, target : Crinja::Value | Nil = nil)","args_html":"(env : <a href=\"../Crinja.html\">Crinja</a>, varargs : Array(<a href=\"../Crinja/Value.html\">Crinja::Value</a>) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Value</span>, kwargs : Hash(<a href=\"../String.html\">String</a>, <a href=\"../Crinja/Value.html\">Crinja::Value</a>) = <span class=\"t\">Hash</span>(<span class=\"t\">String</span>, <span class=\"t\">Value</span>).new, defaults : Hash(<a href=\"../String.html\">String</a>, <a href=\"../Crinja/Value.html\">Crinja::Value</a>) = <span class=\"t\">Variables</span>.new, target : <a href=\"../Crinja/Value.html\">Crinja::Value</a> | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/arguments.cr","line_number":24,"url":null},"def":{"name":"new","args":[{"name":"env","external_name":"env","restriction":"::Crinja"},{"name":"varargs","default_value":"[] of Value","external_name":"varargs","restriction":"::Array(::Crinja::Value)"},{"name":"kwargs","default_value":"Hash(String, Value).new","external_name":"kwargs","restriction":"::Hash(::String, ::Crinja::Value)"},{"name":"defaults","default_value":"Variables.new","external_name":"defaults","restriction":"::Hash(::String, ::Crinja::Value)"},{"name":"target","default_value":"nil","external_name":"target","restriction":"::Crinja::Value | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(env, varargs, kwargs, defaults, target)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"[](name:String):Value-instance-method","name":"[]","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"}],"args_string":"(name : String) : Value","args_html":"(name : <a href=\"../String.html\">String</a>) : <a href=\"../Crinja/Value.html\">Value</a>","location":{"filename":"src/arguments.cr","line_number":27,"url":null},"def":{"name":"[]","args":[{"name":"name","external_name":"name","restriction":"String"}],"return_type":"Value","visibility":"Public","body":"if kwargs.has_key?(name)\n  kwargs[name]\nelsif index = defaults.index do |k, v| k == name end\n  if varargs.size > index\n    varargs[index]\n  else\n    default(name)\n  end\nelse\n  raise(UnknownArgumentError.new(name, self))\nend"},"external_var":false},{"html_id":"default(name:Symbol)-instance-method","name":"default","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","args_html":"(name : Symbol)","location":{"filename":"src/arguments.cr","line_number":80,"url":null},"def":{"name":"default","args":[{"name":"name","external_name":"name","restriction":"Symbol"}],"visibility":"Public","body":"default(name.to_s)"},"external_var":false},{"html_id":"default(name:String)-instance-method","name":"default","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"}],"args_string":"(name : String)","args_html":"(name : <a href=\"../String.html\">String</a>)","location":{"filename":"src/arguments.cr","line_number":84,"url":null},"def":{"name":"default","args":[{"name":"name","external_name":"name","restriction":"String"}],"visibility":"Public","body":"Value.new(defaults[name])"},"external_var":false},{"html_id":"defaults:Variables-instance-method","name":"defaults","doc":"Default argument values defined by the call implementation.","summary":"<p>Default argument values defined by the call implementation.</p>","abstract":false,"location":{"filename":"src/arguments.cr","line_number":16,"url":null},"def":{"name":"defaults","return_type":"Variables","visibility":"Public","body":"@defaults"},"external_var":false},{"html_id":"env:Crinja-instance-method","name":"env","doc":"Returns the crinja environment.","summary":"<p>Returns the crinja environment.</p>","abstract":false,"location":{"filename":"src/arguments.cr","line_number":22,"url":null},"def":{"name":"env","return_type":"Crinja","visibility":"Public","body":"@env"},"external_var":false},{"html_id":"fetch(name,default:Value)-instance-method","name":"fetch","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""},{"name":"default","external_name":"default","restriction":"Value"}],"args_string":"(name, default : Value)","args_html":"(name, default : <a href=\"../Crinja/Value.html\">Value</a>)","location":{"filename":"src/arguments.cr","line_number":41,"url":null},"def":{"name":"fetch","args":[{"name":"name","external_name":"name","restriction":""},{"name":"default","external_name":"default","restriction":"Value"}],"visibility":"Public","body":"fetch(name) do default end"},"external_var":false},{"html_id":"fetch(name,default=nil)-instance-method","name":"fetch","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""},{"name":"default","default_value":"nil","external_name":"default","restriction":""}],"args_string":"(name, default = nil)","args_html":"(name, default = <span class=\"n\">nil</span>)","location":{"filename":"src/arguments.cr","line_number":45,"url":null},"def":{"name":"fetch","args":[{"name":"name","external_name":"name","restriction":""},{"name":"default","default_value":"nil","external_name":"default","restriction":""}],"visibility":"Public","body":"fetch(name, Value.new(default))"},"external_var":false},{"html_id":"fetch(name,&)-instance-method","name":"fetch","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""}],"args_string":"(name, &)","args_html":"(name, &)","location":{"filename":"src/arguments.cr","line_number":49,"url":null},"def":{"name":"fetch","args":[{"name":"name","external_name":"name","restriction":""}],"yields":0,"block_arity":0,"visibility":"Public","body":"value = self[name]\nif value.raw.nil?\n  Value.new(yield)\nelse\n  value\nend\n"},"external_var":false},{"html_id":"is_set?(name:Symbol)-instance-method","name":"is_set?","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"Symbol"}],"args_string":"(name : Symbol)","args_html":"(name : Symbol)","location":{"filename":"src/arguments.cr","line_number":72,"url":null},"def":{"name":"is_set?","args":[{"name":"name","external_name":"name","restriction":"Symbol"}],"visibility":"Public","body":"is_set?(name.to_s)"},"external_var":false},{"html_id":"is_set?(name:String)-instance-method","name":"is_set?","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"}],"args_string":"(name : String)","args_html":"(name : <a href=\"../String.html\">String</a>)","location":{"filename":"src/arguments.cr","line_number":76,"url":null},"def":{"name":"is_set?","args":[{"name":"name","external_name":"name","restriction":"String"}],"visibility":"Public","body":"(kwargs.has_key?(name)) || ((index = defaults.index do |k, v| k == name end) && varargs.size > index)"},"external_var":false},{"html_id":"kwargs:Hash(String,Value)-instance-method","name":"kwargs","doc":"Returns the keyword arguments of the call.","summary":"<p>Returns the keyword arguments of the call.</p>","abstract":false,"location":{"filename":"src/arguments.cr","line_number":13,"url":null},"def":{"name":"kwargs","return_type":"Hash(String, Value)","visibility":"Public","body":"@kwargs"},"external_var":false},{"html_id":"target:Value|Nil-instance-method","name":"target","doc":"Returns the target of the call (if any).","summary":"<p>Returns the target of the call (if any).</p>","abstract":false,"location":{"filename":"src/arguments.cr","line_number":10,"url":null},"def":{"name":"target","return_type":"Value | ::Nil","visibility":"Public","body":"@target"},"external_var":false},{"html_id":"target!-instance-method","name":"target!","abstract":false,"location":{"filename":"src/arguments.cr","line_number":58,"url":null},"def":{"name":"target!","visibility":"Public","body":"if (t = target).nil?\n  raise(UndefinedError.new(\"undefined target\"))\nelse\n  t\nend"},"external_var":false},{"html_id":"to_h-instance-method","name":"to_h","abstract":false,"location":{"filename":"src/arguments.cr","line_number":66,"url":null},"def":{"name":"to_h","visibility":"Public","body":"[@kwargs.keys, @defaults.keys].flatten.uniq.each_with_object(Hash(String, Value).new) do |key, hash|\n  hash[key] = self[key]\nend"},"external_var":false},{"html_id":"varargs:Array(Value)-instance-method","name":"varargs","doc":"Returns the variable arguments of the call.","summary":"<p>Returns the variable arguments of the call.</p>","abstract":false,"location":{"filename":"src/arguments.cr","line_number":7,"url":null},"def":{"name":"varargs","return_type":"Array(Value)","visibility":"Public","body":"@varargs"},"external_var":false}],"types":[{"html_id":"crinja/Crinja/Arguments/Error","path":"Crinja/Arguments/Error.html","kind":"class","full_name":"Crinja::Arguments::Error","name":"Error","abstract":false,"superclass":{"html_id":"crinja/Crinja/RuntimeError","kind":"class","full_name":"Crinja::RuntimeError","name":"RuntimeError"},"ancestors":[{"html_id":"crinja/Crinja/RuntimeError","kind":"class","full_name":"Crinja::RuntimeError","name":"RuntimeError"},{"html_id":"crinja/Crinja/Error","kind":"class","full_name":"Crinja::Error","name":"Error"},{"html_id":"crinja/Crinja/SourceAttached","kind":"module","full_name":"Crinja::SourceAttached","name":"SourceAttached"},{"html_id":"crinja/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/arguments.cr","line_number":94,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Arguments","kind":"struct","full_name":"Crinja::Arguments","name":"Arguments"},"constructors":[{"html_id":"new(argument:Symbol|String,msg=nil,cause=nil)-class-method","name":"new","abstract":false,"args":[{"name":"argument","external_name":"argument","restriction":"Symbol | String"},{"name":"msg","default_value":"nil","external_name":"msg","restriction":""},{"name":"cause","default_value":"nil","external_name":"cause","restriction":""}],"args_string":"(argument : Symbol | String, msg = nil, cause = nil)","args_html":"(argument : Symbol | <a href=\"../../String.html\">String</a>, msg = <span class=\"n\">nil</span>, cause = <span class=\"n\">nil</span>)","location":{"filename":"src/arguments.cr","line_number":98,"url":null},"def":{"name":"new","args":[{"name":"argument","external_name":"argument","restriction":"Symbol | String"},{"name":"msg","default_value":"nil","external_name":"msg","restriction":""},{"name":"cause","default_value":"nil","external_name":"cause","restriction":""}],"visibility":"Public","body":"new(nil, msg, cause, argument: argument)"},"external_var":false},{"html_id":"new(callee:Callable|Callable::Proc|Operator|Nil,msg=nil,cause=nil,argument:Nil|String=nil)-class-method","name":"new","abstract":false,"args":[{"name":"callee","external_name":"callee","restriction":"Callable | Callable::Proc | Operator | ::Nil"},{"name":"msg","default_value":"nil","external_name":"msg","restriction":""},{"name":"cause","default_value":"nil","external_name":"cause","restriction":""},{"name":"argument","default_value":"nil","external_name":"argument","restriction":"::Nil | ::String"}],"args_string":"(callee : Callable | Callable::Proc | Operator | Nil, msg = nil, cause = nil, argument : Nil | String = nil)","args_html":"(callee : <a href=\"../../Crinja/Callable.html\">Callable</a> | <a href=\"../../Crinja/Callable/Proc.html\">Callable::Proc</a> | <a href=\"../../Crinja/Operator.html\">Operator</a> | Nil, msg = <span class=\"n\">nil</span>, cause = <span class=\"n\">nil</span>, argument : Nil | <a href=\"../../String.html\">String</a> = <span class=\"n\">nil</span>)","location":{"filename":"src/arguments.cr","line_number":102,"url":null},"def":{"name":"new","args":[{"name":"callee","external_name":"callee","restriction":"Callable | Callable::Proc | Operator | ::Nil"},{"name":"msg","default_value":"nil","external_name":"msg","restriction":""},{"name":"cause","default_value":"nil","external_name":"cause","restriction":""},{"name":"argument","default_value":"nil","external_name":"argument","restriction":"::Nil | ::String"}],"visibility":"Public","body":"_ = allocate\n_.initialize(callee, msg, cause, argument)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"argument:String|Nil-instance-method","name":"argument","abstract":false,"location":{"filename":"src/arguments.cr","line_number":96,"url":null},"def":{"name":"argument","return_type":"String | ::Nil","visibility":"Public","body":"@argument"},"external_var":false},{"html_id":"argument=(argument:String|Nil)-instance-method","name":"argument=","abstract":false,"args":[{"name":"argument","external_name":"argument","restriction":"String | ::Nil"}],"args_string":"(argument : String | Nil)","args_html":"(argument : <a href=\"../../String.html\">String</a> | Nil)","location":{"filename":"src/arguments.cr","line_number":96,"url":null},"def":{"name":"argument=","args":[{"name":"argument","external_name":"argument","restriction":"String | ::Nil"}],"visibility":"Public","body":"@argument = argument"},"external_var":false},{"html_id":"callee:Crinja::Callable|Crinja::Operator|Crinja::Arguments->Crinja::Value|Nil-instance-method","name":"callee","abstract":false,"location":{"filename":"src/arguments.cr","line_number":95,"url":null},"def":{"name":"callee","visibility":"Public","body":"@callee"},"external_var":false},{"html_id":"callee=(callee:Crinja::Callable|Crinja::Operator|Crinja::Arguments->Crinja::Value|Nil)-instance-method","name":"callee=","abstract":false,"args":[{"name":"callee","external_name":"callee","restriction":"::Crinja::Callable | ::Crinja::Operator | (::Crinja::Arguments -> ::Crinja::Value) | ::Nil"}],"args_string":"(callee : Crinja::Callable | Crinja::Operator | Crinja::Arguments -> Crinja::Value | Nil)","args_html":"(callee : <a href=\"../../Crinja/Callable.html\">Crinja::Callable</a> | <a href=\"../../Crinja/Operator.html\">Crinja::Operator</a> | <a href=\"../../Crinja/Arguments.html\">Crinja::Arguments</a> -> <a href=\"../../Crinja/Value.html\">Crinja::Value</a> | Nil)","location":{"filename":"src/arguments.cr","line_number":95,"url":null},"def":{"name":"callee=","args":[{"name":"callee","external_name":"callee","restriction":"::Crinja::Callable | ::Crinja::Operator | (::Crinja::Arguments -> ::Crinja::Value) | ::Nil"}],"visibility":"Public","body":"@callee = callee"},"external_var":false},{"html_id":"message-instance-method","name":"message","abstract":false,"location":{"filename":"src/arguments.cr","line_number":106,"url":null},"def":{"name":"message","visibility":"Public","body":"arg = \"\"\nif argument.nil?\nelse\n  arg = \" argument: #{argument}\"\nend\n\"#{super()} (called: #{callee}#{arg})\"\n"},"external_var":false}]},{"html_id":"crinja/Crinja/Arguments/UnknownArgumentError","path":"Crinja/Arguments/UnknownArgumentError.html","kind":"class","full_name":"Crinja::Arguments::UnknownArgumentError","name":"UnknownArgumentError","abstract":false,"superclass":{"html_id":"crinja/Crinja/RuntimeError","kind":"class","full_name":"Crinja::RuntimeError","name":"RuntimeError"},"ancestors":[{"html_id":"crinja/Crinja/RuntimeError","kind":"class","full_name":"Crinja::RuntimeError","name":"RuntimeError"},{"html_id":"crinja/Crinja/Error","kind":"class","full_name":"Crinja::Error","name":"Error"},{"html_id":"crinja/Crinja/SourceAttached","kind":"module","full_name":"Crinja::SourceAttached","name":"SourceAttached"},{"html_id":"crinja/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/arguments.cr","line_number":88,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Arguments","kind":"struct","full_name":"Crinja::Arguments","name":"Arguments"},"constructors":[{"html_id":"new(name,arguments)-class-method","name":"new","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""},{"name":"arguments","external_name":"arguments","restriction":""}],"args_string":"(name, arguments)","args_html":"(name, arguments)","location":{"filename":"src/arguments.cr","line_number":89,"url":null},"def":{"name":"new","args":[{"name":"name","external_name":"name","restriction":""},{"name":"arguments","external_name":"arguments","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(name, arguments)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}]}]},{"html_id":"crinja/Crinja/Attribute","path":"Crinja/Attribute.html","kind":"annotation","full_name":"Crinja::Attribute","name":"Attribute","abstract":false,"locations":[{"filename":"src/object.cr","line_number":6,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"doc":"Method annotation used by `Crinja::Object::Auto` to expose the\nannotated method as property in the Crinja runtime.","summary":"<p>Method annotation used by <code><a href=\"../Crinja/Object/Auto.html\">Crinja::Object::Auto</a></code> to expose the annotated method as property in the Crinja runtime.</p>"},{"html_id":"crinja/Crinja/Attributes","path":"Crinja/Attributes.html","kind":"annotation","full_name":"Crinja::Attributes","name":"Attributes","abstract":false,"locations":[{"filename":"src/object.cr","line_number":11,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"doc":"Type annotation used by `Crinja::Object::Auto` to expose all\nmethods defined in the annotated type as properties in the Crinja runtime.","summary":"<p>Type annotation used by <code><a href=\"../Crinja/Object/Auto.html\">Crinja::Object::Auto</a></code> to expose all methods defined in the annotated type as properties in the Crinja runtime.</p>"},{"html_id":"crinja/Crinja/Callable","path":"Crinja/Callable.html","kind":"module","full_name":"Crinja::Callable","name":"Callable","abstract":false,"locations":[{"filename":"src/runtime/callable.cr","line_number":93,"url":null},{"filename":"src/runtime/callable.cr","line_number":107,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"including_types":[{"html_id":"crinja/Crinja/Callable/Instance","kind":"class","full_name":"Crinja::Callable::Instance","name":"Instance"},{"html_id":"crinja/Crinja/Tag/For/ForLoop/CycleMethod","kind":"class","full_name":"Crinja::Tag::For::ForLoop::CycleMethod","name":"CycleMethod"},{"html_id":"crinja/Crinja/Tag/For/ForLoop/Recursive","kind":"class","full_name":"Crinja::Tag::For::ForLoop::Recursive","name":"Recursive"},{"html_id":"crinja/Crinja/Tag/Macro/MacroFunction","kind":"class","full_name":"Crinja::Tag::Macro::MacroFunction","name":"MacroFunction"}],"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"doc":"A Callable is a Crinja type object that can be called from an expression call. These include\nfunctions, macros, tests and filters.\nIt can be implemented by an object or module which inherits from `CallableMod` or using a proc.\nIn either way, the callable must respond to `#call(arguments : Arguments)` and return `Value` or\na value accepted by `Crinja.value`.\nIt must be added to the environment's feature library to be useable from template.\nThere are macros in `Crinja` which allow an easy implementation as a proc.","summary":"<p>A Callable is a Crinja type object that can be called from an expression call.</p>","instance_methods":[{"html_id":"call(arguments:Arguments)-instance-method","name":"call","abstract":true,"args":[{"name":"arguments","external_name":"arguments","restriction":"Arguments"}],"args_string":"(arguments : Arguments)","args_html":"(arguments : <a href=\"../Crinja/Arguments.html\">Arguments</a>)","location":{"filename":"src/runtime/callable.cr","line_number":108,"url":null},"def":{"name":"call","args":[{"name":"arguments","external_name":"arguments","restriction":"Arguments"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"to_s(io)-instance-method","name":"to_s","abstract":false,"args":[{"name":"io","external_name":"io","restriction":""}],"args_string":"(io)","args_html":"(io)","location":{"filename":"src/runtime/callable.cr","line_number":127,"url":null},"def":{"name":"to_s","args":[{"name":"io","external_name":"io","restriction":""}],"visibility":"Public","body":"me = self\nif (me.responds_to?(:name)) && (name = me.name)\n  io << name\nelse\n  io << \"*unnamed_callable_#{object_id}*\"\nend\nio << \"(\"\n\nif me.responds_to?(:defaults)\n  me.defaults.each_with_index do |__temp_103, i|\n    key, value = __temp_103\n    if i > 0\n      io << \", \"\n    end\n    io << key\n    if value.is_a?(Undefined)\n    else\n      (io << \"=\") << (Finalizer.stringify(value, in_struct: true))\n    end\n  end\nelse\n  io << \"?\"\nend\n\nio << \")\"\n"},"external_var":false}],"types":[{"html_id":"crinja/Crinja/Callable/Instance","path":"Crinja/Callable/Instance.html","kind":"class","full_name":"Crinja::Callable::Instance","name":"Instance","abstract":false,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Crinja/Callable","kind":"module","full_name":"Crinja::Callable","name":"Callable"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/runtime/callable.cr","line_number":112,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Callable","kind":"module","full_name":"Crinja::Callable","name":"Callable"}],"namespace":{"html_id":"crinja/Crinja/Callable","kind":"module","full_name":"Crinja::Callable","name":"Callable"},"constructors":[{"html_id":"new(proc:Crinja::Arguments->Crinja::Value,defaults:Hash(String,Crinja::Value)={}ofString=>Value,name:Nil|String=nil)-class-method","name":"new","abstract":false,"args":[{"name":"proc","external_name":"proc","restriction":"(::Crinja::Arguments -> ::Crinja::Value)"},{"name":"defaults","default_value":"{} of String => Value","external_name":"defaults","restriction":"::Hash(::String, ::Crinja::Value)"},{"name":"name","default_value":"nil","external_name":"name","restriction":"::Nil | ::String"}],"args_string":"(proc : Crinja::Arguments -> Crinja::Value, defaults : Hash(String, Crinja::Value) = {} of String => Value, name : Nil | String = nil)","args_html":"(proc : <a href=\"../../Crinja/Arguments.html\">Crinja::Arguments</a> -> <a href=\"../../Crinja/Value.html\">Crinja::Value</a>, defaults : Hash(<a href=\"../../String.html\">String</a>, <a href=\"../../Crinja/Value.html\">Crinja::Value</a>) = {} <span class=\"k\">of</span> <span class=\"t\">String</span> <span class=\"o\">=&gt;</span> <span class=\"t\">Value</span>, name : Nil | <a href=\"../../String.html\">String</a> = <span class=\"n\">nil</span>)","location":{"filename":"src/runtime/callable.cr","line_number":119,"url":null},"def":{"name":"new","args":[{"name":"proc","external_name":"proc","restriction":"(::Crinja::Arguments -> ::Crinja::Value)"},{"name":"defaults","default_value":"{} of String => Value","external_name":"defaults","restriction":"::Hash(::String, ::Crinja::Value)"},{"name":"name","default_value":"nil","external_name":"name","restriction":"::Nil | ::String"}],"visibility":"Public","body":"_ = allocate\n_.initialize(proc, defaults, name)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"call(arguments:Arguments):Crinja::Value-instance-method","name":"call","abstract":false,"args":[{"name":"arguments","external_name":"arguments","restriction":"Arguments"}],"args_string":"(arguments : Arguments) : Crinja::Value","args_html":"(arguments : <a href=\"../../Crinja/Arguments.html\">Arguments</a>) : <a href=\"../../Crinja/Value.html\">Crinja::Value</a>","location":{"filename":"src/runtime/callable.cr","line_number":122,"url":null},"def":{"name":"call","args":[{"name":"arguments","external_name":"arguments","restriction":"Arguments"}],"return_type":"Crinja::Value","visibility":"Public","body":"@proc.call(arguments)"},"external_var":false},{"html_id":"defaults:Variables-instance-method","name":"defaults","abstract":false,"location":{"filename":"src/runtime/callable.cr","line_number":116,"url":null},"def":{"name":"defaults","return_type":"Variables","visibility":"Public","body":"@defaults"},"external_var":false},{"html_id":"name:String|Nil-instance-method","name":"name","abstract":false,"location":{"filename":"src/runtime/callable.cr","line_number":117,"url":null},"def":{"name":"name","return_type":"String | ::Nil","visibility":"Public","body":"@name"},"external_var":false},{"html_id":"proc:Proc-instance-method","name":"proc","abstract":false,"location":{"filename":"src/runtime/callable.cr","line_number":115,"url":null},"def":{"name":"proc","return_type":"Proc","visibility":"Public","body":"@proc"},"external_var":false}]},{"html_id":"crinja/Crinja/Callable/Proc","path":"Crinja/Callable/Proc.html","kind":"alias","full_name":"Crinja::Callable::Proc","name":"Proc","abstract":false,"locations":[{"filename":"src/runtime/callable.cr","line_number":110,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":true,"aliased":"Proc(Crinja::Arguments, Crinja::Value)","aliased_html":"<a href=\"../../Crinja/Arguments.html\">Crinja::Arguments</a> -> <a href=\"../../Crinja/Value.html\">Crinja::Value</a>","const":false,"namespace":{"html_id":"crinja/Crinja/Callable","kind":"module","full_name":"Crinja::Callable","name":"Callable"}}]},{"html_id":"crinja/Crinja/CLI","path":"Crinja/CLI.html","kind":"module","full_name":"Crinja::CLI","name":"CLI","abstract":false,"locations":[{"filename":"src/cli.cr","line_number":5,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"Log","name":"Log","value":"::Log.for(self)"}],"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"class_methods":[{"html_id":"display_help_and_exit(opts)-class-method","name":"display_help_and_exit","abstract":false,"args":[{"name":"opts","external_name":"opts","restriction":""}],"args_string":"(opts)","args_html":"(opts)","location":{"filename":"src/cli.cr","line_number":21,"url":null},"def":{"name":"display_help_and_exit","args":[{"name":"opts","external_name":"opts","restriction":""}],"visibility":"Public","body":"puts(\"crinja [options] <template>\")\nputs\nputs(\"Options:\")\nputs(opts)\nexit\n"},"external_var":false},{"html_id":"env-class-method","name":"env","abstract":false,"location":{"filename":"src/cli.cr","line_number":13,"url":null},"def":{"name":"env","visibility":"Public","body":"@@env"},"external_var":false},{"html_id":"loader-class-method","name":"loader","abstract":false,"location":{"filename":"src/cli.cr","line_number":17,"url":null},"def":{"name":"loader","visibility":"Public","body":"@@loader"},"external_var":false},{"html_id":"print_library_defaults(only_names=false)-class-method","name":"print_library_defaults","abstract":false,"args":[{"name":"only_names","default_value":"false","external_name":"only_names","restriction":""}],"args_string":"(only_names = false)","args_html":"(only_names = <span class=\"n\">false</span>)","location":{"filename":"src/cli.cr","line_number":29,"url":null},"def":{"name":"print_library_defaults","args":[{"name":"only_names","default_value":"false","external_name":"only_names","restriction":""}],"visibility":"Public","body":"[env.filters, env.tests, env.functions, env.tags, env.operators].each do |library|\n  puts(\"#{library.name}s:\")\n  names = library.keys\n  if only_names\n    names = names + library.aliases.keys\n  end\n  names.sort.each do |name|\n    feature = library[name]\n    if only_names\n      puts(\"  #{name}\")\n    else\n      puts(\"  #{feature}\")\n    end\n  end\n  puts\nend"},"external_var":false},{"html_id":"run-class-method","name":"run","abstract":false,"location":{"filename":"src/cli.cr","line_number":46,"url":null},"def":{"name":"run","visibility":"Public","body":"OptionParser.parse do |opts|\n  library_defaults = false\n  only_names = false\n\n  opts.on(\"--version\", \"show version info\") do   puts(Crinja::VERSION)\n  exit\n end\n  opts.on(\"--library-defaults\", \"print all default filters, tests, functions, tags and operators in stdlib\") do\n    library_defaults = true\n  end\n  opts.on(\"--only-names\", \"show only names of library defaults (combined with --library defaults)\") do\n    only_names = true\n  end\n  opts.missing_option do |option|\n    case option\n    when \"--library-defaults\"\n      print_library_defaults(false)\n      exit\n    else\n      raise(OptionParser::MissingOption.new(option))\n    end\n  end\n  opts.on(\"-v\", \"--verbose\", \"\") do Log.level = :debug end\n  opts.on(\"-q\", \"--quiet\", \"\") do Log.level = :warn end\n  opts.on(\"-h\", \"--help\", \"\") do self.display_help_and_exit(opts) end\n  opts.on(\"-p PATH\", \"--path=PATH\", \"Add path for template lookup\") do |path| loader.searchpaths << path end\n  opts.on(\"--string=TEMPLATE\", \"template string\") do |string| @@template_string = string end\n  opts.on(\"-e VAR\", \"--extra-vars=VAR\", \"Set variables as `key=value` or YAML/JSON\") do |var|\n    key, value = var.split('=')\n    env.context[key] = value\n  end\n\n  opts.unknown_args do |args, _|\n    if !(string = @@template_string).nil?\n      template = env.from_string(string)\n    elsif library_defaults\n      print_library_defaults(only_names)\n      exit\n    elsif only_names\n      puts(\"Can't use flag --only-names without --library-defaults\")\n      exit(1)\n    elsif args.empty?\n      self.display_help_and_exit(opts)\n      exit\n    else\n      template_file = args[0]\n\n      template = env.get_template(template_file)\n    end\n\n    output = template.render\n\n    puts(output)\n\n    exit\n  end\nend"},"external_var":false}]},{"html_id":"crinja/Crinja/Config","path":"Crinja/Config.html","kind":"class","full_name":"Crinja::Config","name":"Config","abstract":false,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/config.cr","line_number":2,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"doc":"This class holds configuration values for a Crinja environment.","summary":"<p>This class holds configuration values for a Crinja environment.</p>","constructors":[{"html_id":"new(autoescape:Crinja::Config::Autoescape=Autoescape.new,keep_trailing_newline:Bool=false,trim_blocks:Bool=false,lstrip_blocks:Bool=false)-class-method","name":"new","doc":"Initializes a configuration object.","summary":"<p>Initializes a configuration object.</p>","abstract":false,"args":[{"name":"autoescape","default_value":"Autoescape.new","external_name":"autoescape","restriction":"::Crinja::Config::Autoescape"},{"name":"keep_trailing_newline","default_value":"false","external_name":"keep_trailing_newline","restriction":"::Bool"},{"name":"trim_blocks","default_value":"false","external_name":"trim_blocks","restriction":"::Bool"},{"name":"lstrip_blocks","default_value":"false","external_name":"lstrip_blocks","restriction":"::Bool"}],"args_string":"(autoescape : Crinja::Config::Autoescape = Autoescape.new, keep_trailing_newline : Bool = false, trim_blocks : Bool = false, lstrip_blocks : Bool = false)","args_html":"(autoescape : <a href=\"../Crinja/Config/Autoescape.html\">Crinja::Config::Autoescape</a> = <span class=\"t\">Autoescape</span>.new, keep_trailing_newline : Bool = <span class=\"n\">false</span>, trim_blocks : Bool = <span class=\"n\">false</span>, lstrip_blocks : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/config.cr","line_number":56,"url":null},"def":{"name":"new","args":[{"name":"autoescape","default_value":"Autoescape.new","external_name":"autoescape","restriction":"::Crinja::Config::Autoescape"},{"name":"keep_trailing_newline","default_value":"false","external_name":"keep_trailing_newline","restriction":"::Bool"},{"name":"trim_blocks","default_value":"false","external_name":"trim_blocks","restriction":"::Bool"},{"name":"lstrip_blocks","default_value":"false","external_name":"lstrip_blocks","restriction":"::Bool"}],"visibility":"Public","body":"_ = allocate\n_.initialize(autoescape, keep_trailing_newline, trim_blocks, lstrip_blocks)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"autoescape:Autoescape-instance-method","name":"autoescape","doc":"This setting configures autoescape behaviour. See `Autoescape` for details.\n\nWhen set to a boolean value, `false` deactivates any autoescape and `true` activates autoescape for any template.\nNOTE: The default configuration of Crinja differs from that of Jinja 2.9, that autoescape is activated by default for XML and HTML files. This will most likely be changed by Jinja2 in the future, too.","summary":"<p>This setting configures autoescape behaviour.</p>","abstract":false,"location":{"filename":"src/config.cr","line_number":7,"url":null},"def":{"name":"autoescape","return_type":"Autoescape","visibility":"Public","body":"@autoescape"},"external_var":false},{"html_id":"autoescape=(flag:Bool)-instance-method","name":"autoescape=","abstract":false,"args":[{"name":"flag","external_name":"flag","restriction":"Bool"}],"args_string":"(flag : Bool)","args_html":"(flag : Bool)","location":{"filename":"src/config.cr","line_number":11,"url":null},"def":{"name":"autoescape=","args":[{"name":"flag","external_name":"flag","restriction":"Bool"}],"visibility":"Public","body":"if flag\n  @autoescape = Autoescape::DISABLED\nelse\n  @autoescape = Autoescape::ENABLED\nend"},"external_var":false},{"html_id":"autoescape=(autoescape:Autoescape)-instance-method","name":"autoescape=","doc":"This setting configures autoescape behaviour. See `Autoescape` for details.\n\nWhen set to a boolean value, `false` deactivates any autoescape and `true` activates autoescape for any template.\nNOTE: The default configuration of Crinja differs from that of Jinja 2.9, that autoescape is activated by default for XML and HTML files. This will most likely be changed by Jinja2 in the future, too.","summary":"<p>This setting configures autoescape behaviour.</p>","abstract":false,"args":[{"name":"autoescape","external_name":"autoescape","restriction":"Autoescape"}],"args_string":"(autoescape : Autoescape)","args_html":"(autoescape : <a href=\"../Crinja/Config/Autoescape.html\">Autoescape</a>)","location":{"filename":"src/config.cr","line_number":7,"url":null},"def":{"name":"autoescape=","args":[{"name":"autoescape","external_name":"autoescape","restriction":"Autoescape"}],"visibility":"Public","body":"@autoescape = autoescape"},"external_var":false},{"html_id":"autoescape?(*args,**options)-instance-method","name":"autoescape?","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/config.cr","line_number":9,"url":null},"def":{"name":"autoescape?","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"autoescape.autoescape?(*args, **options)"},"external_var":false},{"html_id":"autoescape?(*args,**options,&)-instance-method","name":"autoescape?","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/config.cr","line_number":9,"url":null},"def":{"name":"autoescape?","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"autoescape.autoescape?(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"disabled_filters:Array(String)-instance-method","name":"disabled_filters","doc":"A list of *disabled_filters* that will raise a `SecurityError` when invoked.","summary":"<p>A list of <em>disabled_filters</em> that will raise a <code><a href=\"../Crinja/SecurityError.html\">SecurityError</a></code> when invoked.</p>","abstract":false,"location":{"filename":"src/config.cr","line_number":20,"url":null},"def":{"name":"disabled_filters","return_type":"Array(String)","visibility":"Public","body":"@disabled_filters"},"external_var":false},{"html_id":"disabled_filters=(disabled_filters:Array(String))-instance-method","name":"disabled_filters=","doc":"A list of *disabled_filters* that will raise a `SecurityError` when invoked.","summary":"<p>A list of <em>disabled_filters</em> that will raise a <code><a href=\"../Crinja/SecurityError.html\">SecurityError</a></code> when invoked.</p>","abstract":false,"args":[{"name":"disabled_filters","external_name":"disabled_filters","restriction":"Array(String)"}],"args_string":"(disabled_filters : Array(String))","args_html":"(disabled_filters : Array(<a href=\"../String.html\">String</a>))","location":{"filename":"src/config.cr","line_number":20,"url":null},"def":{"name":"disabled_filters=","args":[{"name":"disabled_filters","external_name":"disabled_filters","restriction":"Array(String)"}],"visibility":"Public","body":"@disabled_filters = disabled_filters"},"external_var":false},{"html_id":"disabled_functions:Array(String)-instance-method","name":"disabled_functions","doc":"A list of *disabled_functions* that will raise a `SecurityError` when invoked.","summary":"<p>A list of <em>disabled_functions</em> that will raise a <code><a href=\"../Crinja/SecurityError.html\">SecurityError</a></code> when invoked.</p>","abstract":false,"location":{"filename":"src/config.cr","line_number":23,"url":null},"def":{"name":"disabled_functions","return_type":"Array(String)","visibility":"Public","body":"@disabled_functions"},"external_var":false},{"html_id":"disabled_functions=(disabled_functions:Array(String))-instance-method","name":"disabled_functions=","doc":"A list of *disabled_functions* that will raise a `SecurityError` when invoked.","summary":"<p>A list of <em>disabled_functions</em> that will raise a <code><a href=\"../Crinja/SecurityError.html\">SecurityError</a></code> when invoked.</p>","abstract":false,"args":[{"name":"disabled_functions","external_name":"disabled_functions","restriction":"Array(String)"}],"args_string":"(disabled_functions : Array(String))","args_html":"(disabled_functions : Array(<a href=\"../String.html\">String</a>))","location":{"filename":"src/config.cr","line_number":23,"url":null},"def":{"name":"disabled_functions=","args":[{"name":"disabled_functions","external_name":"disabled_functions","restriction":"Array(String)"}],"visibility":"Public","body":"@disabled_functions = disabled_functions"},"external_var":false},{"html_id":"disabled_operators:Array(String)-instance-method","name":"disabled_operators","doc":"A list of *disabled_operators* that will raise a `SecurityError` when invoked.","summary":"<p>A list of <em>disabled_operators</em> that will raise a <code><a href=\"../Crinja/SecurityError.html\">SecurityError</a></code> when invoked.</p>","abstract":false,"location":{"filename":"src/config.cr","line_number":26,"url":null},"def":{"name":"disabled_operators","return_type":"Array(String)","visibility":"Public","body":"@disabled_operators"},"external_var":false},{"html_id":"disabled_operators=(disabled_operators:Array(String))-instance-method","name":"disabled_operators=","doc":"A list of *disabled_operators* that will raise a `SecurityError` when invoked.","summary":"<p>A list of <em>disabled_operators</em> that will raise a <code><a href=\"../Crinja/SecurityError.html\">SecurityError</a></code> when invoked.</p>","abstract":false,"args":[{"name":"disabled_operators","external_name":"disabled_operators","restriction":"Array(String)"}],"args_string":"(disabled_operators : Array(String))","args_html":"(disabled_operators : Array(<a href=\"../String.html\">String</a>))","location":{"filename":"src/config.cr","line_number":26,"url":null},"def":{"name":"disabled_operators=","args":[{"name":"disabled_operators","external_name":"disabled_operators","restriction":"Array(String)"}],"visibility":"Public","body":"@disabled_operators = disabled_operators"},"external_var":false},{"html_id":"disabled_tags:Array(String)-instance-method","name":"disabled_tags","doc":"A list of *disabled_tags* that will raise a `SecurityError` when invoked.","summary":"<p>A list of <em>disabled_tags</em> that will raise a <code><a href=\"../Crinja/SecurityError.html\">SecurityError</a></code> when invoked.</p>","abstract":false,"location":{"filename":"src/config.cr","line_number":29,"url":null},"def":{"name":"disabled_tags","return_type":"Array(String)","visibility":"Public","body":"@disabled_tags"},"external_var":false},{"html_id":"disabled_tags=(disabled_tags:Array(String))-instance-method","name":"disabled_tags=","doc":"A list of *disabled_tags* that will raise a `SecurityError` when invoked.","summary":"<p>A list of <em>disabled_tags</em> that will raise a <code><a href=\"../Crinja/SecurityError.html\">SecurityError</a></code> when invoked.</p>","abstract":false,"args":[{"name":"disabled_tags","external_name":"disabled_tags","restriction":"Array(String)"}],"args_string":"(disabled_tags : Array(String))","args_html":"(disabled_tags : Array(<a href=\"../String.html\">String</a>))","location":{"filename":"src/config.cr","line_number":29,"url":null},"def":{"name":"disabled_tags=","args":[{"name":"disabled_tags","external_name":"disabled_tags","restriction":"Array(String)"}],"visibility":"Public","body":"@disabled_tags = disabled_tags"},"external_var":false},{"html_id":"disabled_tests:Array(String)-instance-method","name":"disabled_tests","doc":"A list of *disabled_test* that will raise a `SecurityError` when invoked.","summary":"<p>A list of <em>disabled_test</em> that will raise a <code><a href=\"../Crinja/SecurityError.html\">SecurityError</a></code> when invoked.</p>","abstract":false,"location":{"filename":"src/config.cr","line_number":32,"url":null},"def":{"name":"disabled_tests","return_type":"Array(String)","visibility":"Public","body":"@disabled_tests"},"external_var":false},{"html_id":"disabled_tests=(disabled_tests:Array(String))-instance-method","name":"disabled_tests=","doc":"A list of *disabled_test* that will raise a `SecurityError` when invoked.","summary":"<p>A list of <em>disabled_test</em> that will raise a <code><a href=\"../Crinja/SecurityError.html\">SecurityError</a></code> when invoked.</p>","abstract":false,"args":[{"name":"disabled_tests","external_name":"disabled_tests","restriction":"Array(String)"}],"args_string":"(disabled_tests : Array(String))","args_html":"(disabled_tests : Array(<a href=\"../String.html\">String</a>))","location":{"filename":"src/config.cr","line_number":32,"url":null},"def":{"name":"disabled_tests=","args":[{"name":"disabled_tests","external_name":"disabled_tests","restriction":"Array(String)"}],"visibility":"Public","body":"@disabled_tests = disabled_tests"},"external_var":false},{"html_id":"keep_trailing_newline:Bool-instance-method","name":"keep_trailing_newline","doc":"Preserve the trailing newline when rendering templates.\nIf set to `false`, a single newline, if present, willl be stripped from the end of the template.","summary":"<p>Preserve the trailing newline when rendering templates.</p>","abstract":false,"location":{"filename":"src/config.cr","line_number":36,"url":null},"def":{"name":"keep_trailing_newline","return_type":"Bool","visibility":"Public","body":"@keep_trailing_newline"},"external_var":false},{"html_id":"keep_trailing_newline=(keep_trailing_newline:Bool)-instance-method","name":"keep_trailing_newline=","doc":"Preserve the trailing newline when rendering templates.\nIf set to `false`, a single newline, if present, willl be stripped from the end of the template.","summary":"<p>Preserve the trailing newline when rendering templates.</p>","abstract":false,"args":[{"name":"keep_trailing_newline","external_name":"keep_trailing_newline","restriction":"Bool"}],"args_string":"(keep_trailing_newline : Bool)","args_html":"(keep_trailing_newline : Bool)","location":{"filename":"src/config.cr","line_number":36,"url":null},"def":{"name":"keep_trailing_newline=","args":[{"name":"keep_trailing_newline","external_name":"keep_trailing_newline","restriction":"Bool"}],"visibility":"Public","body":"@keep_trailing_newline = keep_trailing_newline"},"external_var":false},{"html_id":"liquid_compatibility_mode:Bool-instance-method","name":"liquid_compatibility_mode","doc":"Enables liquid compatibility mode.\nThe parser will additionally parse tags and expressions with liquid/django syntax:\n* filter: `val | filter: arg, arg`\n* tag `include`: `{% include file.name %}`","summary":"<p>Enables liquid compatibility mode.</p>","abstract":false,"location":{"filename":"src/config.cr","line_number":47,"url":null},"def":{"name":"liquid_compatibility_mode","return_type":"Bool","visibility":"Public","body":"@liquid_compatibility_mode"},"external_var":false},{"html_id":"liquid_compatibility_mode=(liquid_compatibility_mode:Bool)-instance-method","name":"liquid_compatibility_mode=","doc":"Enables liquid compatibility mode.\nThe parser will additionally parse tags and expressions with liquid/django syntax:\n* filter: `val | filter: arg, arg`\n* tag `include`: `{% include file.name %}`","summary":"<p>Enables liquid compatibility mode.</p>","abstract":false,"args":[{"name":"liquid_compatibility_mode","external_name":"liquid_compatibility_mode","restriction":"Bool"}],"args_string":"(liquid_compatibility_mode : Bool)","args_html":"(liquid_compatibility_mode : Bool)","location":{"filename":"src/config.cr","line_number":47,"url":null},"def":{"name":"liquid_compatibility_mode=","args":[{"name":"liquid_compatibility_mode","external_name":"liquid_compatibility_mode","restriction":"Bool"}],"visibility":"Public","body":"@liquid_compatibility_mode = liquid_compatibility_mode"},"external_var":false},{"html_id":"lstrip_blocks:Bool-instance-method","name":"lstrip_blocks","doc":"If this is set to `true`, leading spaces and tabs are stripped from the start of a line to a block.","summary":"<p>If this is set to <code>true</code>, leading spaces and tabs are stripped from the start of a line to a block.</p>","abstract":false,"location":{"filename":"src/config.cr","line_number":41,"url":null},"def":{"name":"lstrip_blocks","return_type":"Bool","visibility":"Public","body":"@lstrip_blocks"},"external_var":false},{"html_id":"lstrip_blocks=(lstrip_blocks:Bool)-instance-method","name":"lstrip_blocks=","doc":"If this is set to `true`, leading spaces and tabs are stripped from the start of a line to a block.","summary":"<p>If this is set to <code>true</code>, leading spaces and tabs are stripped from the start of a line to a block.</p>","abstract":false,"args":[{"name":"lstrip_blocks","external_name":"lstrip_blocks","restriction":"Bool"}],"args_string":"(lstrip_blocks : Bool)","args_html":"(lstrip_blocks : Bool)","location":{"filename":"src/config.cr","line_number":41,"url":null},"def":{"name":"lstrip_blocks=","args":[{"name":"lstrip_blocks","external_name":"lstrip_blocks","restriction":"Bool"}],"visibility":"Public","body":"@lstrip_blocks = lstrip_blocks"},"external_var":false},{"html_id":"register_defaults:Bool-instance-method","name":"register_defaults","doc":"If *register_defaults* is set to `true`, all feature libraries will be populated with the\ndefaults (Crinja standards and registered custom features).\nOtherwise the libraries will be empty. They can be manually populated with `library.register_defaults`.\nThis setting needs to be set at the creation of an environment.","summary":"<p>If <em>register_defaults</em> is set to <code>true</code>, all feature libraries will be populated with the defaults (Crinja standards and registered custom features).</p>","abstract":false,"location":{"filename":"src/config.cr","line_number":53,"url":null},"def":{"name":"register_defaults","return_type":"Bool","visibility":"Public","body":"@register_defaults"},"external_var":false},{"html_id":"register_defaults=(register_defaults:Bool)-instance-method","name":"register_defaults=","doc":"If *register_defaults* is set to `true`, all feature libraries will be populated with the\ndefaults (Crinja standards and registered custom features).\nOtherwise the libraries will be empty. They can be manually populated with `library.register_defaults`.\nThis setting needs to be set at the creation of an environment.","summary":"<p>If <em>register_defaults</em> is set to <code>true</code>, all feature libraries will be populated with the defaults (Crinja standards and registered custom features).</p>","abstract":false,"args":[{"name":"register_defaults","external_name":"register_defaults","restriction":"Bool"}],"args_string":"(register_defaults : Bool)","args_html":"(register_defaults : Bool)","location":{"filename":"src/config.cr","line_number":53,"url":null},"def":{"name":"register_defaults=","args":[{"name":"register_defaults","external_name":"register_defaults","restriction":"Bool"}],"visibility":"Public","body":"@register_defaults = register_defaults"},"external_var":false},{"html_id":"trim_blocks:Bool-instance-method","name":"trim_blocks","doc":"If this is set to `true``, the first newline after a block is removed.\nThis only applies to blocks, not expression tags.","summary":"<p>If this is set to `true``, the first newline after a block is removed.</p>","abstract":false,"location":{"filename":"src/config.cr","line_number":39,"url":null},"def":{"name":"trim_blocks","return_type":"Bool","visibility":"Public","body":"@trim_blocks"},"external_var":false},{"html_id":"trim_blocks=(trim_blocks:Bool)-instance-method","name":"trim_blocks=","doc":"If this is set to `true``, the first newline after a block is removed.\nThis only applies to blocks, not expression tags.","summary":"<p>If this is set to `true``, the first newline after a block is removed.</p>","abstract":false,"args":[{"name":"trim_blocks","external_name":"trim_blocks","restriction":"Bool"}],"args_string":"(trim_blocks : Bool)","args_html":"(trim_blocks : Bool)","location":{"filename":"src/config.cr","line_number":39,"url":null},"def":{"name":"trim_blocks=","args":[{"name":"trim_blocks","external_name":"trim_blocks","restriction":"Bool"}],"visibility":"Public","body":"@trim_blocks = trim_blocks"},"external_var":false}],"types":[{"html_id":"crinja/Crinja/Config/Autoescape","path":"Crinja/Config/Autoescape.html","kind":"class","full_name":"Crinja::Config::Autoescape","name":"Autoescape","abstract":false,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/config.cr","line_number":68,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"DISABLED","name":"DISABLED","value":"Autoescape.new(enabled_extensions: [] of String, default_for_string: false, default: false)","doc":"Configuration settings where autoescape is deactivated by default for any kind of template.","summary":"<p>Configuration settings where autoescape is deactivated by default for any kind of template.</p>"},{"id":"ENABLED","name":"ENABLED","value":"Autoescape.new(disabled_extensions: [] of String, default_for_string: true, default: true)","doc":"Configuration settings where autoescape is activated by default for any kind of template.","summary":"<p>Configuration settings where autoescape is activated by default for any kind of template.</p>"}],"namespace":{"html_id":"crinja/Crinja/Config","kind":"class","full_name":"Crinja::Config","name":"Config"},"doc":"This class holds configuration values for autoescape config.\n\nIt accepts the same settings as `[select_autoescape](http://jinja.pocoo.org/docs/2.9/api/#jinja2.select_autoescape)` in Jinja 2.9.\nIt intelligently sets the initial value of autoescaping based on the filename of the template.","summary":"<p>This class holds configuration values for autoescape config.</p>","constructors":[{"html_id":"new(enabled_extensions=[\"html\",\"htm\",\"xml\"],disabled_extensions=[]ofString,default_for_string:Bool=false,default:Bool=false)-class-method","name":"new","doc":"Initializes the default autoescape configuration.","summary":"<p>Initializes the default autoescape configuration.</p>","abstract":false,"args":[{"name":"enabled_extensions","default_value":"[\"html\", \"htm\", \"xml\"]","external_name":"enabled_extensions","restriction":""},{"name":"disabled_extensions","default_value":"[] of String","external_name":"disabled_extensions","restriction":""},{"name":"default_for_string","default_value":"false","external_name":"default_for_string","restriction":"::Bool"},{"name":"default","default_value":"false","external_name":"default","restriction":"::Bool"}],"args_string":"(enabled_extensions = [\"html\", \"htm\", \"xml\"], disabled_extensions = [] of String, default_for_string : Bool = false, default : Bool = false)","args_html":"(enabled_extensions = [<span class=\"s\">&quot;html&quot;</span>, <span class=\"s\">&quot;htm&quot;</span>, <span class=\"s\">&quot;xml&quot;</span>], disabled_extensions = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>, default_for_string : Bool = <span class=\"n\">false</span>, default : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/config.cr","line_number":84,"url":null},"def":{"name":"new","args":[{"name":"enabled_extensions","default_value":"[\"html\", \"htm\", \"xml\"]","external_name":"enabled_extensions","restriction":""},{"name":"disabled_extensions","default_value":"[] of String","external_name":"disabled_extensions","restriction":""},{"name":"default_for_string","default_value":"false","external_name":"default_for_string","restriction":"::Bool"},{"name":"default","default_value":"false","external_name":"default","restriction":"::Bool"}],"visibility":"Public","body":"_ = allocate\n_.initialize(enabled_extensions, disabled_extensions, default_for_string, default)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"autoescape?(filename:String|Nil=nil)-instance-method","name":"autoescape?","doc":"Determines if a template with *filename* should have autoescape enabled or not.","summary":"<p>Determines if a template with <em>filename</em> should have autoescape enabled or not.</p>","abstract":false,"args":[{"name":"filename","default_value":"nil","external_name":"filename","restriction":"String | ::Nil"}],"args_string":"(filename : String | Nil = nil)","args_html":"(filename : <a href=\"../../String.html\">String</a> | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/config.cr","line_number":103,"url":null},"def":{"name":"autoescape?","args":[{"name":"filename","default_value":"nil","external_name":"filename","restriction":"String | ::Nil"}],"visibility":"Public","body":"if filename.nil? || (filename.size == 0)\n  default_for_string\nelsif self.class.match_extension?(enabled_extensions, filename)\n  true\nelsif self.class.match_extension?(disabled_extensions, filename)\n  false\nelse\n  default\nend"},"external_var":false},{"html_id":"default:Bool-instance-method","name":"default","doc":"If nothing matches, this will be the default autoescape value.","summary":"<p>If nothing matches, this will be the default autoescape value.</p>","abstract":false,"location":{"filename":"src/config.cr","line_number":76,"url":null},"def":{"name":"default","return_type":"Bool","visibility":"Public","body":"@default"},"external_var":false},{"html_id":"default=(default:Bool)-instance-method","name":"default=","doc":"If nothing matches, this will be the default autoescape value.","summary":"<p>If nothing matches, this will be the default autoescape value.</p>","abstract":false,"args":[{"name":"default","external_name":"default","restriction":"Bool"}],"args_string":"(default : Bool)","args_html":"(default : Bool)","location":{"filename":"src/config.cr","line_number":76,"url":null},"def":{"name":"default=","args":[{"name":"default","external_name":"default","restriction":"Bool"}],"visibility":"Public","body":"@default = default"},"external_var":false},{"html_id":"default_for_string:Bool-instance-method","name":"default_for_string","doc":"Determines autoescape default value for templates loaded from a string (without a filename).","summary":"<p>Determines autoescape default value for templates loaded from a string (without a filename).</p>","abstract":false,"location":{"filename":"src/config.cr","line_number":74,"url":null},"def":{"name":"default_for_string","return_type":"Bool","visibility":"Public","body":"@default_for_string"},"external_var":false},{"html_id":"default_for_string=(default_for_string:Bool)-instance-method","name":"default_for_string=","doc":"Determines autoescape default value for templates loaded from a string (without a filename).","summary":"<p>Determines autoescape default value for templates loaded from a string (without a filename).</p>","abstract":false,"args":[{"name":"default_for_string","external_name":"default_for_string","restriction":"Bool"}],"args_string":"(default_for_string : Bool)","args_html":"(default_for_string : Bool)","location":{"filename":"src/config.cr","line_number":74,"url":null},"def":{"name":"default_for_string=","args":[{"name":"default_for_string","external_name":"default_for_string","restriction":"Bool"}],"visibility":"Public","body":"@default_for_string = default_for_string"},"external_var":false},{"html_id":"disabled_extensions:Array(String)-instance-method","name":"disabled_extensions","doc":"List of filename extensions that autoescape should be disabled for.","summary":"<p>List of filename extensions that autoescape should be disabled for.</p>","abstract":false,"location":{"filename":"src/config.cr","line_number":72,"url":null},"def":{"name":"disabled_extensions","return_type":"Array(String)","visibility":"Public","body":"@disabled_extensions"},"external_var":false},{"html_id":"disabled_extensions=(extensions:Array(String))-instance-method","name":"disabled_extensions=","abstract":false,"args":[{"name":"extensions","external_name":"extensions","restriction":"Array(String)"}],"args_string":"(extensions : Array(String))","args_html":"(extensions : Array(<a href=\"../../String.html\">String</a>))","location":{"filename":"src/config.cr","line_number":98,"url":null},"def":{"name":"disabled_extensions=","args":[{"name":"extensions","external_name":"extensions","restriction":"Array(String)"}],"visibility":"Public","body":"@disabled_extensions = extensions.map(&.downcase)"},"external_var":false},{"html_id":"enabled_extensions:Array(String)-instance-method","name":"enabled_extensions","doc":"List of filename extensions that autoescape should be enabled for.","summary":"<p>List of filename extensions that autoescape should be enabled for.</p>","abstract":false,"location":{"filename":"src/config.cr","line_number":70,"url":null},"def":{"name":"enabled_extensions","return_type":"Array(String)","visibility":"Public","body":"@enabled_extensions"},"external_var":false},{"html_id":"enabled_extensions=(extensions:Array(String))-instance-method","name":"enabled_extensions=","abstract":false,"args":[{"name":"extensions","external_name":"extensions","restriction":"Array(String)"}],"args_string":"(extensions : Array(String))","args_html":"(extensions : Array(<a href=\"../../String.html\">String</a>))","location":{"filename":"src/config.cr","line_number":94,"url":null},"def":{"name":"enabled_extensions=","args":[{"name":"extensions","external_name":"extensions","restriction":"Array(String)"}],"visibility":"Public","body":"@enabled_extensions = extensions.map(&.downcase)"},"external_var":false}]}]},{"html_id":"crinja/Crinja/Context","path":"Crinja/Context.html","kind":"class","full_name":"Crinja::Context","name":"Context","abstract":false,"superclass":{"html_id":"crinja/Crinja/Util/ScopeMap","kind":"class","full_name":"Crinja::Util::ScopeMap","name":"ScopeMap"},"ancestors":[{"html_id":"crinja/Crinja/Util/ScopeMap","kind":"class","full_name":"Crinja::Util::ScopeMap","name":"ScopeMap"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/runtime/context.cr","line_number":9,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"AUTOESCAPE_DEFAULT","name":"AUTOESCAPE_DEFAULT","value":"false"}],"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"doc":"A context holds information about the state of runtime execution.\nThis includes tracking of local variables and call stacks, access to global features and configuration settings.\n\nContexts form a hierarchical structure, where sub-contexts inherit from their parents, but don't\npollute the outer contexts with local scoped values.\nCreating instances is not useful as it’s created automatically at various stages of the template evaluation and should not be created by hand.","summary":"<p>A context holds information about the state of runtime execution.</p>","constructors":[{"html_id":"new(bindings:Variables)-class-method","name":"new","abstract":false,"args":[{"name":"bindings","external_name":"bindings","restriction":"Variables"}],"args_string":"(bindings : Variables)","args_html":"(bindings : <a href=\"../Crinja/Variables.html\">Variables</a>)","location":{"filename":"src/runtime/context.cr","line_number":18,"url":null},"def":{"name":"new","args":[{"name":"bindings","external_name":"bindings","restriction":"Variables"}],"visibility":"Public","body":"new(nil, bindings)"},"external_var":false},{"html_id":"new(parent:Context|Nil=nil,bindings:Variables|Nil=nil)-class-method","name":"new","abstract":false,"args":[{"name":"parent","default_value":"nil","external_name":"parent","restriction":"Context | ::Nil"},{"name":"bindings","default_value":"nil","external_name":"bindings","restriction":"Variables | ::Nil"}],"args_string":"(parent : Context | Nil = nil, bindings : Variables | Nil = nil)","args_html":"(parent : <a href=\"../Crinja/Context.html\">Context</a> | Nil = <span class=\"n\">nil</span>, bindings : <a href=\"../Crinja/Variables.html\">Variables</a> | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/runtime/context.cr","line_number":22,"url":null},"def":{"name":"new","args":[{"name":"parent","default_value":"nil","external_name":"parent","restriction":"Context | ::Nil"},{"name":"bindings","default_value":"nil","external_name":"bindings","restriction":"Variables | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(parent, bindings)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"[]=(key:String,value:Variables)-instance-method","name":"[]=","doc":"Set variable *key* to value *value* in local scope.","summary":"<p>Set variable <em>key</em> to value <em>value</em> in local scope.</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"value","external_name":"value","restriction":"Variables"}],"args_string":"(key : String, value : Variables)","args_html":"(key : <a href=\"../String.html\">String</a>, value : <a href=\"../Crinja/Variables.html\">Variables</a>)","location":{"filename":"src/runtime/context.cr","line_number":82,"url":null},"def":{"name":"[]=","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"value","external_name":"value","restriction":"Variables"}],"visibility":"Public","body":"self[key] = Crinja.variables(value)"},"external_var":false},{"html_id":"[]=(key:String,value:Value)-instance-method","name":"[]=","doc":"Set variable *key* to value *value* in local scope.","summary":"<p>Set variable <em>key</em> to value <em>value</em> in local scope.</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"value","external_name":"value","restriction":"Value"}],"args_string":"(key : String, value : Value)","args_html":"(key : <a href=\"../String.html\">String</a>, value : <a href=\"../Crinja/Value.html\">Value</a>)","location":{"filename":"src/runtime/context.cr","line_number":87,"url":null},"def":{"name":"[]=","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"value","external_name":"value","restriction":"Value"}],"visibility":"Public","body":"super(key, value)"},"external_var":false},{"html_id":"[]=(key:String,value)-instance-method","name":"[]=","doc":"Set variable *key* to value *value* in local scope.","summary":"<p>Set variable <em>key</em> to value <em>value</em> in local scope.</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"value","external_name":"value","restriction":""}],"args_string":"(key : String, value)","args_html":"(key : <a href=\"../String.html\">String</a>, value)","location":{"filename":"src/runtime/context.cr","line_number":92,"url":null},"def":{"name":"[]=","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"self[key] = Value.new(value)"},"external_var":false},{"html_id":"all_macros-instance-method","name":"all_macros","abstract":false,"location":{"filename":"src/runtime/context.cr","line_number":52,"url":null},"def":{"name":"all_macros","visibility":"Public","body":"all = @macros\nif (p = parent).nil?\nelse\n  all.merge!(p.all_macros)\nend\nall\n"},"external_var":false},{"html_id":"autoescape:Bool|Nil-instance-method","name":"autoescape","abstract":false,"location":{"filename":"src/runtime/context.cr","line_number":14,"url":null},"def":{"name":"autoescape","return_type":"Bool | ::Nil","visibility":"Public","body":"@autoescape"},"external_var":false},{"html_id":"autoescape=(autoescape:Bool|Nil)-instance-method","name":"autoescape=","abstract":false,"args":[{"name":"autoescape","external_name":"autoescape","restriction":"Bool | ::Nil"}],"args_string":"(autoescape : Bool | Nil)","args_html":"(autoescape : Bool | Nil)","location":{"filename":"src/runtime/context.cr","line_number":14,"url":null},"def":{"name":"autoescape=","args":[{"name":"autoescape","external_name":"autoescape","restriction":"Bool | ::Nil"}],"visibility":"Public","body":"@autoescape = autoescape"},"external_var":false},{"html_id":"autoescape?-instance-method","name":"autoescape?","doc":"Determines if autoescape is enabled in this or any parent context.","summary":"<p>Determines if autoescape is enabled in this or any parent context.</p>","abstract":false,"location":{"filename":"src/runtime/context.cr","line_number":102,"url":null},"def":{"name":"autoescape?","visibility":"Public","body":"if (autoescape = @autoescape).nil?\n  if (p = parent).nil?\n    AUTOESCAPE_DEFAULT\n  else\n    p.autoescape?\n  end\nelse\n  autoescape\nend"},"external_var":false},{"html_id":"block_context-instance-method","name":"block_context","abstract":false,"location":{"filename":"src/runtime/context.cr","line_number":144,"url":null},"def":{"name":"block_context","visibility":"Public","body":"if @block_context.nil?\nelse\n  return @block_context\nend\nparent.try(&.block_context)\n"},"external_var":false},{"html_id":"block_context=(block_context:NamedTuple(name:String,index:Int32)|Nil)-instance-method","name":"block_context=","abstract":false,"args":[{"name":"block_context","external_name":"block_context","restriction":"NamedTuple(name: String, index: Int32) | ::Nil"}],"args_string":"(block_context : NamedTuple(name: String, index: Int32) | Nil)","args_html":"(block_context : NamedTuple(name: <a href=\"../String.html\">String</a>, index: Int32) | Nil)","location":{"filename":"src/runtime/context.cr","line_number":15,"url":null},"def":{"name":"block_context=","args":[{"name":"block_context","external_name":"block_context","restriction":"NamedTuple(name: String, index: Int32) | ::Nil"}],"visibility":"Public","body":"@block_context = block_context"},"external_var":false},{"html_id":"extend_path_stack:Crinja::Context::CallStack-instance-method","name":"extend_path_stack","abstract":false,"location":{"filename":"src/runtime/context.cr","line_number":12,"url":null},"def":{"name":"extend_path_stack","visibility":"Public","body":"@extend_path_stack"},"external_var":false},{"html_id":"has_macro?(name)-instance-method","name":"has_macro?","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""}],"args_string":"(name)","args_html":"(name)","location":{"filename":"src/runtime/context.cr","line_number":60,"url":null},"def":{"name":"has_macro?","args":[{"name":"name","external_name":"name","restriction":""}],"visibility":"Public","body":"(@macros.has_key?(name)) || parent.try(&.has_macro?(name))"},"external_var":false},{"html_id":"import_path_stack:Crinja::Context::CallStack-instance-method","name":"import_path_stack","abstract":false,"location":{"filename":"src/runtime/context.cr","line_number":12,"url":null},"def":{"name":"import_path_stack","visibility":"Public","body":"@import_path_stack"},"external_var":false},{"html_id":"include_path_stack:Crinja::Context::CallStack-instance-method","name":"include_path_stack","abstract":false,"location":{"filename":"src/runtime/context.cr","line_number":12,"url":null},"def":{"name":"include_path_stack","visibility":"Public","body":"@include_path_stack"},"external_var":false},{"html_id":"inspect(io)-instance-method","name":"inspect","abstract":false,"args":[{"name":"io","external_name":"io","restriction":""}],"args_string":"(io)","args_html":"(io)","location":{"filename":"src/runtime/context.cr","line_number":149,"url":null},"def":{"name":"inspect","args":[{"name":"io","external_name":"io","restriction":""}],"visibility":"Public","body":"{\n  scope: @scope,\n  autoescape: autoescape,\n  extend_path_stack: extend_path_stack,\n  import_path_stack: import_path_stack,\n  include_path_stack: include_path_stack,\n  macro_stack: macro_stack,\n}.inspect(io)"},"external_var":false},{"html_id":"macro(name):Callable-instance-method","name":"macro","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""}],"args_string":"(name) : Callable","args_html":"(name) : <a href=\"../Crinja/Callable.html\">Callable</a>","location":{"filename":"src/runtime/context.cr","line_number":64,"url":null},"def":{"name":"macro","args":[{"name":"name","external_name":"name","restriction":""}],"return_type":"Callable","visibility":"Public","body":"(@macros[name]? || parent.try(&.macro(name))) || (raise(\"Macro #{name} is not registered\"))"},"external_var":false},{"html_id":"macro_stack:Crinja::Context::CallStack-instance-method","name":"macro_stack","abstract":false,"location":{"filename":"src/runtime/context.cr","line_number":12,"url":null},"def":{"name":"macro_stack","visibility":"Public","body":"@macro_stack"},"external_var":false},{"html_id":"macros:Hash(String,Crinja::Tag::Macro::MacroFunction)-instance-method","name":"macros","abstract":false,"location":{"filename":"src/runtime/context.cr","line_number":16,"url":null},"def":{"name":"macros","visibility":"Public","body":"@macros"},"external_var":false},{"html_id":"merge!(context:Crinja::Context)-instance-method","name":"merge!","abstract":false,"args":[{"name":"context","external_name":"context","restriction":"Crinja::Context"}],"args_string":"(context : Crinja::Context)","args_html":"(context : <a href=\"../Crinja/Context.html\">Crinja::Context</a>)","location":{"filename":"src/runtime/context.cr","line_number":72,"url":null},"def":{"name":"merge!","args":[{"name":"context","external_name":"context","restriction":"Crinja::Context"}],"visibility":"Public","body":"super(context.scope)"},"external_var":false},{"html_id":"merge!(bindings)-instance-method","name":"merge!","doc":"Merges values in *bindings* into local scope.","summary":"<p>Merges values in <em>bindings</em> into local scope.</p>","abstract":false,"args":[{"name":"bindings","external_name":"bindings","restriction":""}],"args_string":"(bindings)","args_html":"(bindings)","location":{"filename":"src/runtime/context.cr","line_number":77,"url":null},"def":{"name":"merge!","args":[{"name":"bindings","external_name":"bindings","restriction":""}],"visibility":"Public","body":"super(Crinja.variables(bindings))"},"external_var":false},{"html_id":"parent:Context|Nil-instance-method","name":"parent","doc":"Returns the parent context. It must not be altered.","summary":"<p>Returns the parent context.</p>","abstract":false,"location":{"filename":"src/runtime/context.cr","line_number":34,"url":null},"def":{"name":"parent","return_type":"Context | ::Nil","visibility":"Public","body":"@parent.as(Context | ::Nil)"},"external_var":false},{"html_id":"pretty_print(pp)-instance-method","name":"pretty_print","abstract":false,"args":[{"name":"pp","external_name":"pp","restriction":""}],"args_string":"(pp)","args_html":"(pp)","location":{"filename":"src/runtime/context.cr","line_number":160,"url":null},"def":{"name":"pretty_print","args":[{"name":"pp","external_name":"pp","restriction":""}],"visibility":"Public","body":"pp.group do\n  pp.text(\"scope: \")\n  pp.nest do\n    pp.breakable(\"\")\n    @scope.pretty_print(pp)\n  end\n  pp.breakable(\"\")\n  pp.text(\"autoescape: \")\n  autoescape.pretty_print(pp)\n  pp.breakable(\"\")\n\n  pp.text(\"extend_path_stack: \")\n  pp.nest do\n    extend_path_stack.pretty_print(pp)\n  end\n  pp.breakable(\"\")\n  pp.text(\"import_path_stack: \")\n  pp.nest do\n    import_path_stack.pretty_print(pp)\n  end\n  pp.breakable(\"\")\n  pp.text(\"include_path_stack: \")\n  pp.nest do\n    include_path_stack.pretty_print(pp)\n  end\n  pp.breakable(\"\")\n  pp.text(\"macro_stack: \")\n  pp.nest do\n    macro_stack.pretty_print(pp)\n  end\nend"},"external_var":false},{"html_id":"register_macro(makro)-instance-method","name":"register_macro","abstract":false,"args":[{"name":"makro","external_name":"makro","restriction":""}],"args_string":"(makro)","args_html":"(makro)","location":{"filename":"src/runtime/context.cr","line_number":68,"url":null},"def":{"name":"register_macro","args":[{"name":"makro","external_name":"makro","restriction":""}],"visibility":"Public","body":"@macros[makro.name] = makro"},"external_var":false},{"html_id":"root_macros-instance-method","name":"root_macros","doc":"Returns macros defined in the root context.","summary":"<p>Returns macros defined in the root context.</p>","abstract":false,"location":{"filename":"src/runtime/context.cr","line_number":44,"url":null},"def":{"name":"root_macros","visibility":"Public","body":"if (p = parent).nil?\n  @macros\nelse\n  p.macros\nend"},"external_var":false},{"html_id":"session_bindings-instance-method","name":"session_bindings","doc":"Returns the local variables whose scope is this context.","summary":"<p>Returns the local variables whose scope is this context.</p>","abstract":false,"location":{"filename":"src/runtime/context.cr","line_number":39,"url":null},"def":{"name":"session_bindings","visibility":"Public","body":"self.scope"},"external_var":false},{"html_id":"undefined-instance-method","name":"undefined","doc":"Returns an undefined value.","summary":"<p>Returns an undefined value.</p>","abstract":false,"location":{"filename":"src/runtime/context.cr","line_number":97,"url":null},"def":{"name":"undefined","visibility":"Public","body":"Value::UNDEFINED"},"external_var":false},{"html_id":"unpack(vars:Array(String),values:Value)-instance-method","name":"unpack","abstract":false,"args":[{"name":"vars","external_name":"vars","restriction":"Array(String)"},{"name":"values","external_name":"values","restriction":"Value"}],"args_string":"(vars : Array(String), values : Value)","args_html":"(vars : Array(<a href=\"../String.html\">String</a>), values : <a href=\"../Crinja/Value.html\">Value</a>)","location":{"filename":"src/runtime/context.cr","line_number":114,"url":null},"def":{"name":"unpack","args":[{"name":"vars","external_name":"vars","restriction":"Array(String)"},{"name":"values","external_name":"values","restriction":"Value"}],"visibility":"Public","body":"if vars.size < 1\n  raise(RuntimeError.new(\"no variables to unpack to\"))\nend\n\nif vars.size == 1\n  if values.iterable?\n    self[vars.first] = values\n  else\n    self[vars.first] = values\n  end\nelsif values.iterable?\n  if values.is_a?(Iterable)\n    values = values.each\n  end\n  vars.each do |var|\n    value = values.next\n    self[var] = if value.is_a?(Iterator::Stop)\n      raise(RuntimeError.new(\"Missing value for unpack\"))\n    else\n      value\n    end\n  end\nelse\n  raise(RuntimeError.new(\"cannot unpack multiple values of type #{values.class}\"))\nend\n"},"external_var":false}],"types":[{"html_id":"crinja/Crinja/Context/TagCycleException","path":"Crinja/Context/TagCycleException.html","kind":"class","full_name":"Crinja::Context::TagCycleException","name":"TagCycleException","abstract":false,"superclass":{"html_id":"crinja/Crinja/RuntimeError","kind":"class","full_name":"Crinja::RuntimeError","name":"RuntimeError"},"ancestors":[{"html_id":"crinja/Crinja/RuntimeError","kind":"class","full_name":"Crinja::RuntimeError","name":"RuntimeError"},{"html_id":"crinja/Crinja/Error","kind":"class","full_name":"Crinja::Error","name":"Error"},{"html_id":"crinja/Crinja/SourceAttached","kind":"module","full_name":"Crinja::SourceAttached","name":"SourceAttached"},{"html_id":"crinja/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/runtime/context.cr","line_number":227,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Context","kind":"class","full_name":"Crinja::Context","name":"Context"},"constructors":[{"html_id":"new(type:Symbol,path:String,cause=nil)-class-method","name":"new","abstract":false,"args":[{"name":"type","external_name":"type","restriction":"Symbol"},{"name":"path","external_name":"path","restriction":"String"},{"name":"cause","default_value":"nil","external_name":"cause","restriction":""}],"args_string":"(type : Symbol, path : String, cause = nil)","args_html":"(type : Symbol, path : <a href=\"../../String.html\">String</a>, cause = <span class=\"n\">nil</span>)","location":{"filename":"src/runtime/context.cr","line_number":230,"url":null},"def":{"name":"new","args":[{"name":"type","external_name":"type","restriction":"Symbol"},{"name":"path","external_name":"path","restriction":"String"},{"name":"cause","default_value":"nil","external_name":"cause","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(type, path, cause)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"path:String-instance-method","name":"path","abstract":false,"location":{"filename":"src/runtime/context.cr","line_number":228,"url":null},"def":{"name":"path","visibility":"Public","body":"@path"},"external_var":false}]}]},{"html_id":"crinja/Crinja/Dictionary","path":"Crinja/Dictionary.html","kind":"alias","full_name":"Crinja::Dictionary","name":"Dictionary","abstract":false,"locations":[{"filename":"src/runtime/value.cr","line_number":18,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":true,"aliased":"Hash(Crinja::Value, Crinja::Value)","aliased_html":"Hash(<a href=\"../Crinja/Value.html\">Crinja::Value</a>, <a href=\"../Crinja/Value.html\">Crinja::Value</a>)","const":false,"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"}},{"html_id":"crinja/Crinja/Error","path":"Crinja/Error.html","kind":"class","full_name":"Crinja::Error","name":"Error","abstract":false,"superclass":{"html_id":"crinja/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"crinja/Crinja/SourceAttached","kind":"module","full_name":"Crinja::SourceAttached","name":"SourceAttached"},{"html_id":"crinja/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/error.cr","line_number":77,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/SourceAttached","kind":"module","full_name":"Crinja::SourceAttached","name":"SourceAttached"}],"subclasses":[{"html_id":"crinja/Crinja/RuntimeError","kind":"class","full_name":"Crinja::RuntimeError","name":"RuntimeError"},{"html_id":"crinja/Crinja/TemplateError","kind":"class","full_name":"Crinja::TemplateError","name":"TemplateError"}],"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"instance_methods":[{"html_id":"at(location_start:Crinja::Parser::StreamPosition|Nil,location_end:Crinja::Parser::StreamPosition|Nil)-instance-method","name":"at","abstract":false,"args":[{"name":"location_start","external_name":"location_start","restriction":"::Crinja::Parser::StreamPosition | ::Nil"},{"name":"location_end","external_name":"location_end","restriction":"::Crinja::Parser::StreamPosition | ::Nil"}],"args_string":"(location_start : Crinja::Parser::StreamPosition | Nil, location_end : Crinja::Parser::StreamPosition | Nil)","args_html":"(location_start : Crinja::Parser::StreamPosition | Nil, location_end : Crinja::Parser::StreamPosition | Nil)","location":{"filename":"src/error.cr","line_number":84,"url":null},"def":{"name":"at","args":[{"name":"location_start","external_name":"location_start","restriction":"::Crinja::Parser::StreamPosition | ::Nil"},{"name":"location_end","external_name":"location_end","restriction":"::Crinja::Parser::StreamPosition | ::Nil"}],"visibility":"Public","body":"@location_start = location_start\n@location_end = location_end\nself\n"},"external_var":false},{"html_id":"at(node)-instance-method","name":"at","abstract":false,"args":[{"name":"node","external_name":"node","restriction":""}],"args_string":"(node)","args_html":"(node)","location":{"filename":"src/error.cr","line_number":88,"url":null},"def":{"name":"at","args":[{"name":"node","external_name":"node","restriction":""}],"visibility":"Public","body":"@location_start = node.location_start\n@location_end = node.location_end\nself\n"},"external_var":false},{"html_id":"has_location?-instance-method","name":"has_location?","abstract":false,"location":{"filename":"src/error.cr","line_number":94,"url":null},"def":{"name":"has_location?","visibility":"Public","body":"!location_start.nil?"},"external_var":false},{"html_id":"location_end:Parser::StreamPosition|Nil-instance-method","name":"location_end","abstract":false,"location":{"filename":"src/error.cr","line_number":80,"url":null},"def":{"name":"location_end","return_type":"Parser::StreamPosition | ::Nil","visibility":"Public","body":"@location_end"},"external_var":false},{"html_id":"location_start:Parser::StreamPosition|Nil-instance-method","name":"location_start","abstract":false,"location":{"filename":"src/error.cr","line_number":79,"url":null},"def":{"name":"location_start","return_type":"Parser::StreamPosition | ::Nil","visibility":"Public","body":"@location_start"},"external_var":false},{"html_id":"template:Template|Nil-instance-method","name":"template","abstract":false,"location":{"filename":"src/error.cr","line_number":78,"url":null},"def":{"name":"template","return_type":"Template | ::Nil","visibility":"Public","body":"@template"},"external_var":false},{"html_id":"template=(template:Template|Nil)-instance-method","name":"template=","abstract":false,"args":[{"name":"template","external_name":"template","restriction":"Template | ::Nil"}],"args_string":"(template : Template | Nil)","args_html":"(template : <a href=\"../Crinja/Template.html\">Template</a> | Nil)","location":{"filename":"src/error.cr","line_number":78,"url":null},"def":{"name":"template=","args":[{"name":"template","external_name":"template","restriction":"Template | ::Nil"}],"visibility":"Public","body":"@template = template"},"external_var":false}]},{"html_id":"crinja/Crinja/FeatureLibrary","path":"Crinja/FeatureLibrary.html","kind":"class","full_name":"Crinja::FeatureLibrary(T)","name":"FeatureLibrary","abstract":true,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/feature_library.cr","line_number":1,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"crinja/Crinja/Filter/Library","kind":"class","full_name":"Crinja::Filter::Library","name":"Library"},{"html_id":"crinja/Crinja/Function/Library","kind":"class","full_name":"Crinja::Function::Library","name":"Library"},{"html_id":"crinja/Crinja/Operator/Library","kind":"class","full_name":"Crinja::Operator::Library","name":"Library"},{"html_id":"crinja/Crinja/Tag/Library","kind":"class","full_name":"Crinja::Tag::Library","name":"Library"},{"html_id":"crinja/Crinja/Test/Library","kind":"class","full_name":"Crinja::Test::Library","name":"Library"}],"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"constructors":[{"html_id":"new(register_defaults=true,disabled:Array(String)=[]ofString)-class-method","name":"new","doc":"Creates a new feature library.\nIf *register_defaults* is set to `false`, this library will be empty. Otherwise it is populated\nwith registered default features.\nA list of *disabled* features can be provided, if a feature name in this list is accessed,\nit will raise a `SecurityError`.","summary":"<p>Creates a new feature library.</p>","abstract":false,"args":[{"name":"register_defaults","default_value":"true","external_name":"register_defaults","restriction":""},{"name":"disabled","default_value":"[] of String","external_name":"disabled","restriction":"::Array(::String)"}],"args_string":"(register_defaults = true, disabled : Array(String) = [] of String)","args_html":"(register_defaults = <span class=\"n\">true</span>, disabled : Array(<a href=\"../String.html\">String</a>) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>)","location":{"filename":"src/lib/feature_library.cr","line_number":19,"url":null},"def":{"name":"new","args":[{"name":"register_defaults","default_value":"true","external_name":"register_defaults","restriction":""},{"name":"disabled","default_value":"[] of String","external_name":"disabled","restriction":"::Array(::String)"}],"visibility":"Public","body":"_ = FeatureLibrary(T).allocate\n_.initialize(register_defaults, disabled)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"<<(classes:Array(Class))-instance-method","name":"<<","doc":"Adds an array of classes to this library.","summary":"<p>Adds an array of classes to this library.</p>","abstract":false,"args":[{"name":"classes","external_name":"classes","restriction":"Array(Class)"}],"args_string":"(classes : Array(Class))","args_html":"(classes : Array(Class))","location":{"filename":"src/lib/feature_library.cr","line_number":63,"url":null},"def":{"name":"<<","args":[{"name":"classes","external_name":"classes","restriction":"Array(Class)"}],"visibility":"Public","body":"classes.each do |klass|\n  self << klass\nend"},"external_var":false},{"html_id":"<<(klass:Class)-instance-method","name":"<<","doc":"Adds a class to this library.","summary":"<p>Adds a class to this library.</p>","abstract":false,"args":[{"name":"klass","external_name":"klass","restriction":"Class"}],"args_string":"(klass : Class)","args_html":"(klass : Class)","location":{"filename":"src/lib/feature_library.cr","line_number":70,"url":null},"def":{"name":"<<","args":[{"name":"klass","external_name":"klass","restriction":"Class"}],"visibility":"Public","body":"if klass.responds_to?(:new)\n  self << klass.new\nelse\n  self << klass\nend"},"external_var":false},{"html_id":"<<(obj:T)-instance-method","name":"<<","doc":"Adds a feature object to this library.\nIt will be stored under the key `obj.name`.","summary":"<p>Adds a feature object to this library.</p>","abstract":false,"args":[{"name":"obj","external_name":"obj","restriction":"T"}],"args_string":"(obj : T)","args_html":"(obj : T)","location":{"filename":"src/lib/feature_library.cr","line_number":80,"url":null},"def":{"name":"<<","args":[{"name":"obj","external_name":"obj","restriction":"T"}],"visibility":"Public","body":"name = if obj.responds_to?(:name)\n  obj.name\nelsif obj.class != Callable::Instance\n  (obj.class.to_s.split(\"::\"))[-1].downcase\nend\n\nif name.nil?\n  raise(\"cannot append unnamed feature, use `#[name]=` instead\")\nend\n\nself[name] = obj\n"},"external_var":false},{"html_id":"[](lookup):T-instance-method","name":"[]","doc":"Retrieves the feature object in this library with key or alias *lookup*.\n\nIf the lookup name is in the list of `#disabled` features, a `SecurityError` is raised.\nIf the lookup name is not registered, an `UnknownFeatureError` is raised.","summary":"<p>Retrieves the feature object in this library with key or alias <em>lookup</em>.</p>","abstract":false,"args":[{"name":"lookup","external_name":"lookup","restriction":""}],"args_string":"(lookup) : T","args_html":"(lookup) : T","location":{"filename":"src/lib/feature_library.cr","line_number":96,"url":null},"def":{"name":"[]","args":[{"name":"lookup","external_name":"lookup","restriction":""}],"return_type":"T","visibility":"Public","body":"lookup = lookup.to_s.downcase\nlookup = @aliases.fetch(lookup, lookup)\n\nfeature = @store[lookup]?\n\nif disabled.includes?(lookup)\n  feature_name = feature.try(&.to_s) || lookup\n  raise(SecurityError.new(\"access to #{name} `#{feature_name}` is disabled.\"))\nend\n\nif feature.nil?\n  raise(UnknownFeatureError.new(self.name, lookup))\nend\n\nfeature\n"},"external_var":false},{"html_id":"[]=(name,klass:Class)-instance-method","name":"[]=","doc":"Stores a feature object *obj* under the key *name*.","summary":"<p>Stores a feature object <em>obj</em> under the key <em>name</em>.</p>","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""},{"name":"klass","external_name":"klass","restriction":"Class"}],"args_string":"(name, klass : Class)","args_html":"(name, klass : Class)","location":{"filename":"src/lib/feature_library.cr","line_number":118,"url":null},"def":{"name":"[]=","args":[{"name":"name","external_name":"name","restriction":""},{"name":"klass","external_name":"klass","restriction":"Class"}],"visibility":"Public","body":"self[name] = klass.new"},"external_var":false},{"html_id":"[]=(name,obj:T)-instance-method","name":"[]=","doc":"Stores a feature object *obj* under the key *name*.","summary":"<p>Stores a feature object <em>obj</em> under the key <em>name</em>.</p>","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""},{"name":"obj","external_name":"obj","restriction":"T"}],"args_string":"(name, obj : T)","args_html":"(name, obj : T)","location":{"filename":"src/lib/feature_library.cr","line_number":113,"url":null},"def":{"name":"[]=","args":[{"name":"name","external_name":"name","restriction":""},{"name":"obj","external_name":"obj","restriction":"T"}],"visibility":"Public","body":"@store[name.to_s.downcase] = obj"},"external_var":false},{"html_id":"aliases:Hash(String,String)-instance-method","name":"aliases","doc":"Map of aliases.","summary":"<p>Map of aliases.</p>","abstract":false,"location":{"filename":"src/lib/feature_library.cr","line_number":9,"url":null},"def":{"name":"aliases","return_type":"Hash(String, String)","visibility":"Public","body":"@aliases"},"external_var":false},{"html_id":"disabled:Array(String)-instance-method","name":"disabled","doc":"List of disabled features.","summary":"<p>List of disabled features.</p>","abstract":false,"location":{"filename":"src/lib/feature_library.cr","line_number":12,"url":null},"def":{"name":"disabled","return_type":"Array(String)","visibility":"Public","body":"@disabled"},"external_var":false},{"html_id":"each(*args,**options)-instance-method","name":"each","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/lib/feature_library.cr","line_number":27,"url":null},"def":{"name":"each","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@store.each(*args, **options)"},"external_var":false},{"html_id":"each(*args,**options,&)-instance-method","name":"each","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/lib/feature_library.cr","line_number":27,"url":null},"def":{"name":"each","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@store.each(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"has_key?(name)-instance-method","name":"has_key?","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""}],"args_string":"(name)","args_html":"(name)","location":{"filename":"src/lib/feature_library.cr","line_number":122,"url":null},"def":{"name":"has_key?","args":[{"name":"name","external_name":"name","restriction":""}],"visibility":"Public","body":"lookup = name.to_s.downcase\nlookup = @aliases.fetch(lookup, lookup)\n@store.has_key?(lookup)\n"},"external_var":false},{"html_id":"inspect(io:IO)-instance-method","name":"inspect","doc":"Appends a String representation of this object\nwhich includes its class name, its object address\nand the values of all instance variables.\n\n```\nclass Person\n  def initialize(@name : String, @age : Int32)\n  end\nend\n\nPerson.new(\"John\", 32).inspect # => #<Person:0x10fd31f20 @name=\"John\", @age=32>\n```","summary":"<p>Appends a String representation of this object which includes its class name, its object address and the values of all instance variables.</p>","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/lib/feature_library.cr","line_number":128,"url":null},"def":{"name":"inspect","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"@store.inspect(io)"},"external_var":false},{"html_id":"keys(*args,**options)-instance-method","name":"keys","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/lib/feature_library.cr","line_number":27,"url":null},"def":{"name":"keys","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@store.keys(*args, **options)"},"external_var":false},{"html_id":"keys(*args,**options,&)-instance-method","name":"keys","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/lib/feature_library.cr","line_number":27,"url":null},"def":{"name":"keys","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@store.keys(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"name-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/feature_library.cr","line_number":132,"url":null},"def":{"name":"name","visibility":"Public","body":"{{ (@type.stringify.split(\"::\"))[-2].downcase }}"},"external_var":false},{"html_id":"register_defaults-instance-method","name":"register_defaults","doc":"Adds default values to this library.","summary":"<p>Adds default values to this library.</p>","abstract":false,"location":{"filename":"src/lib/feature_library.cr","line_number":30,"url":null},"def":{"name":"register_defaults","visibility":"Public","body":""},"external_var":false},{"html_id":"size(*args,**options)-instance-method","name":"size","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/lib/feature_library.cr","line_number":27,"url":null},"def":{"name":"size","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@store.size(*args, **options)"},"external_var":false},{"html_id":"size(*args,**options,&)-instance-method","name":"size","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/lib/feature_library.cr","line_number":27,"url":null},"def":{"name":"size","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@store.size(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false}],"macros":[{"html_id":"register_default(default,name=nil)-macro","name":"register_default","doc":"Register default values with this library.","summary":"<p>Register default values with this library.</p>","abstract":false,"args":[{"name":"default","external_name":"default","restriction":""},{"name":"name","default_value":"nil","external_name":"name","restriction":""}],"args_string":"(default, name = nil)","args_html":"(default, name = <span class=\"n\">nil</span>)","location":{"filename":"src/lib/feature_library.cr","line_number":51,"url":null},"def":{"name":"register_default","args":[{"name":"default","external_name":"default","restriction":""},{"name":"name","default_value":"nil","external_name":"name","restriction":""}],"visibility":"Public","body":"    def register_defaults\n      previous_def\n      \n{% if name.is_a?(NilLiteral) %}\n      self << {{ default }}\n      {% else %}\n      self[{{ name }}] = {{ default }}\n      {% end %}\n\n    \nend\n  \n"}}],"types":[{"html_id":"crinja/Crinja/FeatureLibrary/UnknownFeatureError","path":"Crinja/FeatureLibrary/UnknownFeatureError.html","kind":"class","full_name":"Crinja::FeatureLibrary::UnknownFeatureError","name":"UnknownFeatureError","abstract":false,"superclass":{"html_id":"crinja/Crinja/RuntimeError","kind":"class","full_name":"Crinja::RuntimeError","name":"RuntimeError"},"ancestors":[{"html_id":"crinja/Crinja/RuntimeError","kind":"class","full_name":"Crinja::RuntimeError","name":"RuntimeError"},{"html_id":"crinja/Crinja/Error","kind":"class","full_name":"Crinja::Error","name":"Error"},{"html_id":"crinja/Crinja/SourceAttached","kind":"module","full_name":"Crinja::SourceAttached","name":"SourceAttached"},{"html_id":"crinja/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/feature_library.cr","line_number":2,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/FeatureLibrary","kind":"class","full_name":"Crinja::FeatureLibrary(T)","name":"FeatureLibrary"},"constructors":[{"html_id":"new(kind,name)-class-method","name":"new","abstract":false,"args":[{"name":"kind","external_name":"kind","restriction":""},{"name":"name","external_name":"name","restriction":""}],"args_string":"(kind, name)","args_html":"(kind, name)","location":{"filename":"src/lib/feature_library.cr","line_number":3,"url":null},"def":{"name":"new","args":[{"name":"kind","external_name":"kind","restriction":""},{"name":"name","external_name":"name","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(kind, name)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}]}]},{"html_id":"crinja/Crinja/Filter","path":"Crinja/Filter.html","kind":"module","full_name":"Crinja::Filter","name":"Filter","abstract":false,"locations":[{"filename":"src/lib/filter.cr","line_number":63,"url":null},{"filename":"src/lib/filter/collections.cr","line_number":1,"url":null},{"filename":"src/lib/filter/escape.cr","line_number":1,"url":null},{"filename":"src/lib/filter/html.cr","line_number":5,"url":null},{"filename":"src/lib/filter/join.cr","line_number":1,"url":null},{"filename":"src/lib/filter/liquid.cr","line_number":1,"url":null},{"filename":"src/lib/filter/number.cr","line_number":1,"url":null},{"filename":"src/lib/filter/sort.cr","line_number":1,"url":null},{"filename":"src/lib/filter/string.cr","line_number":3,"url":null},{"filename":"src/lib/filter/var.cr","line_number":1,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"doc":"Variables can be modified by filters.\nFilters are separated from the variable by a pipe symbol (`|`) and may have optional arguments\nin parentheses. Multiple filters can be chained. The output of one filter is applied to the next.\n\nFor example, `{{ name|striptags|title }}` will remove all HTML Tags from variable name and\ntitle-case the output (similar to `title(striptags(name))`).\n\nFilters that accept arguments have parentheses around the arguments, just like a function call.\n\nFor example: `{{ listx|join(', ') }}` will join a list with commas (`list.join(\", \")`).\n\n## Builtin Filters\n\nThe following filters are available in the default library:\n\n* `**[abs](http://jinja.pocoo.org/docs/2.9/templates/#abs)**()`\n* `**[attr](http://jinja.pocoo.org/docs/2.9/templates/#attr)**(<em>name</em>)`\n* `**[batch](http://jinja.pocoo.org/docs/2.9/templates/#batch)**(<em>linecount=2, fill_with=none</em>)`\n* `**[capitalize](http://jinja.pocoo.org/docs/2.9/templates/#capitalize)**()`\n* `**[center](http://jinja.pocoo.org/docs/2.9/templates/#center)**(<em>width=80</em>)`\n* `**[default](http://jinja.pocoo.org/docs/2.9/templates/#default)**(<em>default_value='', boolean=false</em>)`\n* `**[dictsort](http://jinja.pocoo.org/docs/2.9/templates/#dictsort)**(<em>case_sensitive=false, by='key'</em>)`\n* `**[escape](http://jinja.pocoo.org/docs/2.9/templates/#escape)**()`\n* `**[filesizeforma}](http://jinja.pocoo.org/docs/2.9/templates/#filesizeformat)**(<em>binary=false</em>)`\n* `**[first](http://jinja.pocoo.org/docs/2.9/templates/#first)**()`\n* `**[float](http://jinja.pocoo.org/docs/2.9/templates/#float)**(<em>default=0.0</em>)`\n* `**[forceescape](http://jinja.pocoo.org/docs/2.9/templates/#forceescape)**()`\n* `**[format](http://jinja.pocoo.org/docs/2.9/templates/#format)**()`\n* `**[groupby](http://jinja.pocoo.org/docs/2.9/templates/#groupby)**(<em>attribute</em>)`\n* `**[indent](http://jinja.pocoo.org/docs/2.9/templates/#indent)**(<em>width=4, indentfirst=false</em>)`\n* `**[int](http://jinja.pocoo.org/docs/2.9/templates/#int)**(<em>default=0, base=10</em>)`\n* `**[join](http://jinja.pocoo.org/docs/2.9/templates/#join)**(<em>separator='', attribute=none</em>)`\n* `**[last](http://jinja.pocoo.org/docs/2.9/templates/#last)**()`\n* `**[length](http://jinja.pocoo.org/docs/2.9/templates/#length)**()`\n* `**[list](http://jinja.pocoo.org/docs/2.9/templates/#list)**()`\n* `**[lower](http://jinja.pocoo.org/docs/2.9/templates/#lower)**()`\n* `**[map](http://jinja.pocoo.org/docs/2.9/templates/#map)**()`\n* `**[pprint](http://jinja.pocoo.org/docs/2.9/templates/#pprint)**(<em>verbose=false</em>)`\n* `**[random](http://jinja.pocoo.org/docs/2.9/templates/#random)**()`\n* `**[reject](http://jinja.pocoo.org/docs/2.9/templates/#reject)**()`\n* `**[rejectattr](http://jinja.pocoo.org/docs/2.9/templates/#rejectattr)**()`\n* `**[replace](http://jinja.pocoo.org/docs/2.9/templates/#replace)**(<em>old, new, count=none</em>)`\n* `**[reverse](http://jinja.pocoo.org/docs/2.9/templates/#reverse)**()`\n* `**[round](http://jinja.pocoo.org/docs/2.9/templates/#round)**(<em>precision=0, method='common', base=10</em>)`\n* `**[safe](http://jinja.pocoo.org/docs/2.9/templates/#safe)**()`\n* `**[select](http://jinja.pocoo.org/docs/2.9/templates/#select)**()`\n* `**[selectattr](http://jinja.pocoo.org/docs/2.9/templates/#selectattr)**()`\n* `**[slice](http://jinja.pocoo.org/docs/2.9/templates/#slice)**(<em>slices=2, fill_with=none</em>)`\n* `**[sort](http://jinja.pocoo.org/docs/2.9/templates/#sort)**(<em>reverse=false, case_sensitive=false, attribute=none</em>)`\n* `**[string](http://jinja.pocoo.org/docs/2.9/templates/#string)**()`\n* `**[striptags](http://jinja.pocoo.org/docs/2.9/templates/#striptags)**()`\n* `**[sum](http://jinja.pocoo.org/docs/2.9/templates/#sum)**(<em>attribute=none, start=0</em>)`\n* `**[title](http://jinja.pocoo.org/docs/2.9/templates/#title)**()`\n* `**[tojson](http://jinja.pocoo.org/docs/2.9/templates/#tojson)**(<em>indent=none</em>)`\n* `**[trim](http://jinja.pocoo.org/docs/2.9/templates/#trim)**()`\n* `**[truncate](http://jinja.pocoo.org/docs/2.9/templates/#truncate)**(<em>length=255, killwords=false, end='...', leeway=none</em>)`\n* `**[upper](http://jinja.pocoo.org/docs/2.9/templates/#upper)**()`\n* `**[urlencode](http://jinja.pocoo.org/docs/2.9/templates/#urlencode)**()`\n* `**[urlize](http://jinja.pocoo.org/docs/2.9/templates/#urlize)**(<em>trim_url_limit=none, nofollow=false, target=none, rel=none</em>)`\n* `**[wordcount](http://jinja.pocoo.org/docs/2.9/templates/#wordcount)**()`\n* `**[wordwrap](http://jinja.pocoo.org/docs/2.9/templates/#wordwrap)**(<em>width=79, break_long_words=true, wrapstring=none</em>)`\n* `**[xmlattr](http://jinja.pocoo.org/docs/2.9/templates/#xmlattr)**(<em>autoescape=true</em>)`","summary":"<p>Variables can be modified by filters.</p>","types":[{"html_id":"crinja/Crinja/Filter/Filesizeformat","path":"Crinja/Filter/Filesizeformat.html","kind":"class","full_name":"Crinja::Filter::Filesizeformat","name":"Filesizeformat","abstract":false,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/filter/number.cr","line_number":45,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Filter","kind":"module","full_name":"Crinja::Filter","name":"Filter"},"class_methods":[{"html_id":"filesize_to_human(size,binary=false)-class-method","name":"filesize_to_human","abstract":false,"args":[{"name":"size","external_name":"size","restriction":""},{"name":"binary","default_value":"false","external_name":"binary","restriction":""}],"args_string":"(size, binary = false)","args_html":"(size, binary = <span class=\"n\">false</span>)","location":{"filename":"src/lib/filter/number.cr","line_number":46,"url":null},"def":{"name":"filesize_to_human","args":[{"name":"size","external_name":"size","restriction":""},{"name":"binary","default_value":"false","external_name":"binary","restriction":""}],"visibility":"Public","body":"(if binary\n  {\"Bytes\" => 1024_i64, \"KiB\" => 1024_i64 ** 2, \"MiB\" => 1024_i64 ** 3, \"GiB\" => 1024_i64 ** 4, \"TiB\" => 1024_i64 ** 5, \"PiB\" => 1024_i64 ** 6}\nelse\n  {\"Bytes\" => 1000_i64, \"kB\" => 1000_i64 ** 2, \"MB\" => 1000_i64 ** 3, \"GB\" => 1000_i64 ** 4, \"TB\" => 1000_i64 ** 5, \"PB\" => 1000_i64 ** 6}\nend).each do |unit, magnitude|\n  if size < magnitude\n    return String.build do |io|\n      converted = (size / (magnitude // (binary ? 1024 : 1000)))\n      if unit == \"Bytes\"\n        io << converted.to_i\n      else\n        io << (converted.round(1))\n      end\n      io << \" \"\n      io << unit\n    end\n  end\nend"},"external_var":false}]},{"html_id":"crinja/Crinja/Filter/Library","path":"Crinja/Filter/Library.html","kind":"class","full_name":"Crinja::Filter::Library","name":"Library","abstract":false,"superclass":{"html_id":"crinja/Crinja/FeatureLibrary","kind":"class","full_name":"Crinja::FeatureLibrary","name":"FeatureLibrary"},"ancestors":[{"html_id":"crinja/Crinja/FeatureLibrary","kind":"class","full_name":"Crinja::FeatureLibrary","name":"FeatureLibrary"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/filter.cr","line_number":64,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Filter","kind":"module","full_name":"Crinja::Filter","name":"Filter"},"class_methods":[{"html_id":"alias(from,to)-class-method","name":"alias","abstract":false,"args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""}],"args_string":"(from, to)","args_html":"(from, to)","location":{"filename":"src/lib/filter.cr","line_number":64,"url":null},"def":{"name":"alias","args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""}],"visibility":"Public","body":"@@aliases[from.to_s] = to.to_s"},"external_var":false},{"html_id":"defaults-class-method","name":"defaults","abstract":false,"def":{"name":"defaults","visibility":"Public","body":"@@defaults"},"external_var":false}],"constructors":[{"html_id":"new(register_defaults=true,disabled=[]ofString)-class-method","name":"new","doc":"Creates a new feature library.\nIf *register_defaults* is set to `false`, this library will be empty. Otherwise it is populated\nwith registered default features.\nA list of *disabled* features can be provided, if a feature name in this list is accessed,\nit will raise a `SecurityError`.","summary":"<p>Creates a new feature library.</p>","abstract":false,"args":[{"name":"register_defaults","default_value":"true","external_name":"register_defaults","restriction":""},{"name":"disabled","default_value":"[] of String","external_name":"disabled","restriction":""}],"args_string":"(register_defaults = true, disabled = [] of String)","args_html":"(register_defaults = <span class=\"n\">true</span>, disabled = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>)","location":{"filename":"src/lib/feature_library.cr","line_number":19,"url":null},"def":{"name":"new","args":[{"name":"register_defaults","default_value":"true","external_name":"register_defaults","restriction":""},{"name":"disabled","default_value":"[] of String","external_name":"disabled","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(register_defaults, disabled)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"register_defaults-instance-method","name":"register_defaults","doc":"Create a local method in a subclass to allow the usage of `previous_def`.","summary":"<p>Create a local method in a subclass to allow the usage of <code>previous_def</code>.</p>","abstract":false,"location":{"filename":"src/lib/filter.cr","line_number":64,"url":null},"def":{"name":"register_defaults","visibility":"Public","body":"@@defaults.each do |callable|\n  self << callable\nend\n@aliases.merge!(@@aliases)\n"},"external_var":false}]}]},{"html_id":"crinja/Crinja/Finalizer","path":"Crinja/Finalizer.html","kind":"struct","full_name":"Crinja::Finalizer","name":"Finalizer","abstract":false,"superclass":{"html_id":"crinja/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"crinja/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"crinja/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/runtime/finalizer.cr","line_number":6,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"doc":"This class is used to process the result of a variable expression before it is output.\nIt tries to convert values to a meaningful string represenation similar to what `Object#to_s` does\nbut with a few adjustments compared to Crystal standard `to_s` methods.","summary":"<p>This class is used to process the result of a variable expression before it is output.</p>","class_methods":[{"html_id":"stringify(io:IO,raw,escape=false,in_struct=false)-class-method","name":"stringify","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"},{"name":"raw","external_name":"raw","restriction":""},{"name":"escape","default_value":"false","external_name":"escape","restriction":""},{"name":"in_struct","default_value":"false","external_name":"in_struct","restriction":""}],"args_string":"(io : IO, raw, escape = false, in_struct = false)","args_html":"(io : IO, raw, escape = <span class=\"n\">false</span>, in_struct = <span class=\"n\">false</span>)","location":{"filename":"src/runtime/finalizer.cr","line_number":13,"url":null},"def":{"name":"stringify","args":[{"name":"io","external_name":"io","restriction":"IO"},{"name":"raw","external_name":"raw","restriction":""},{"name":"escape","default_value":"false","external_name":"escape","restriction":""},{"name":"in_struct","default_value":"false","external_name":"in_struct","restriction":""}],"visibility":"Public","body":"(new(io, escape, in_struct)).stringify(raw)"},"external_var":false},{"html_id":"stringify(raw,escape=false,in_struct=false)-class-method","name":"stringify","abstract":false,"args":[{"name":"raw","external_name":"raw","restriction":""},{"name":"escape","default_value":"false","external_name":"escape","restriction":""},{"name":"in_struct","default_value":"false","external_name":"in_struct","restriction":""}],"args_string":"(raw, escape = false, in_struct = false)","args_html":"(raw, escape = <span class=\"n\">false</span>, in_struct = <span class=\"n\">false</span>)","location":{"filename":"src/runtime/finalizer.cr","line_number":7,"url":null},"def":{"name":"stringify","args":[{"name":"raw","external_name":"raw","restriction":""},{"name":"escape","default_value":"false","external_name":"escape","restriction":""},{"name":"in_struct","default_value":"false","external_name":"in_struct","restriction":""}],"visibility":"Public","body":"String.build do |io|\n  stringify(io, raw, escape, in_struct)\nend"},"external_var":false}]},{"html_id":"crinja/Crinja/Function","path":"Crinja/Function.html","kind":"module","full_name":"Crinja::Function","name":"Function","abstract":false,"locations":[{"filename":"src/lib/function.cr","line_number":13,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"doc":"Global functions are available everywhere.\n\n## Builtin functions\n\nThe following functions are available in the default library:\n\n* `**[cycler](http://jinja.pocoo.org/docs/2.9/templates/#cycler)**(<em></em>)`\n* `**[debug](http://jinja.pocoo.org/docs/2.9/templates/#debug)**(<em></em>)`\n* `**[dict](http://jinja.pocoo.org/docs/2.9/templates/#dict)**(<em></em>)`\n* `**[joiner](http://jinja.pocoo.org/docs/2.9/templates/#joiner)**(<em>sep=', '</em>)`\n* `**[range](http://jinja.pocoo.org/docs/2.9/templates/#range)**(<em>start=0, stop=0, step=1</em>)`\n* `**[super](http://jinja.pocoo.org/docs/2.9/templates/#super)**(<em></em>)`","summary":"<p>Global functions are available everywhere.</p>","types":[{"html_id":"crinja/Crinja/Function/Cycler","path":"Crinja/Function/Cycler.html","kind":"class","full_name":"Crinja::Function::Cycler","name":"Cycler","abstract":false,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Crinja/Object/Auto","kind":"module","full_name":"Crinja::Object::Auto","name":"Auto"},{"html_id":"crinja/Crinja/Object","kind":"module","full_name":"Crinja::Object","name":"Object"},{"html_id":"crinja/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"},{"html_id":"crinja/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/function/cycler.cr","line_number":5,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Object/Auto","kind":"module","full_name":"Crinja::Object::Auto","name":"Auto"},{"html_id":"crinja/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"}],"namespace":{"html_id":"crinja/Crinja/Function","kind":"module","full_name":"Crinja::Function","name":"Function"},"constructors":[{"html_id":"new(values:Array(Value))-class-method","name":"new","abstract":false,"args":[{"name":"values","external_name":"values","restriction":"Array(Value)"}],"args_string":"(values : Array(Value))","args_html":"(values : Array(<a href=\"../../Crinja/Value.html\">Value</a>))","location":{"filename":"src/lib/function/cycler.cr","line_number":9,"url":null},"def":{"name":"new","args":[{"name":"values","external_name":"values","restriction":"Array(Value)"}],"visibility":"Public","body":"_ = allocate\n_.initialize(values)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"crinja_call(method)-instance-method","name":"crinja_call","abstract":false,"args":[{"name":"method","external_name":"method","restriction":""}],"args_string":"(method)","args_html":"(method)","location":{"filename":"src/lib/function/cycler.cr","line_number":37,"url":null},"def":{"name":"crinja_call","args":[{"name":"method","external_name":"method","restriction":""}],"visibility":"Public","body":"case method\nwhen \"next\"\n  ->(arguments : Arguments) do\n    self.next\n  end\nwhen \"reset\", \"rewind\"\n  ->(arguments : Arguments) do\n    reset\n  end\nelse\n  nil\nend"},"external_var":false},{"html_id":"current-instance-method","name":"current","abstract":false,"location":{"filename":"src/lib/function/cycler.cr","line_number":14,"url":null},"def":{"name":"current","visibility":"Public","body":"if @index < 0\n  return Value::UNDEFINED\nend\n@values[@index]\n"},"external_var":false},{"html_id":"next:Crinja::Value|Iterator::Stop-instance-method","name":"next","doc":"Returns the next element in this iterator, or `Iterator::Stop::INSTANCE` if there\nare no more elements.","summary":"<p>Returns the next element in this iterator, or <code>Iterator::Stop::INSTANCE</code> if there are no more elements.</p>","abstract":false,"location":{"filename":"src/lib/function/cycler.cr","line_number":20,"url":null},"def":{"name":"next","return_type":"Crinja::Value | ::Iterator::Stop","visibility":"Public","body":"@index = @index + 1\n@index = @index % @values.size\ncurrent\n"},"external_var":false},{"html_id":"reset-instance-method","name":"reset","abstract":false,"location":{"filename":"src/lib/function/cycler.cr","line_number":33,"url":null},"def":{"name":"reset","visibility":"Public","body":"rewind"},"external_var":false},{"html_id":"rewind-instance-method","name":"rewind","abstract":false,"location":{"filename":"src/lib/function/cycler.cr","line_number":27,"url":null},"def":{"name":"rewind","visibility":"Public","body":"@index = -1\n\"\"\n"},"external_var":false}]},{"html_id":"crinja/Crinja/Function/Library","path":"Crinja/Function/Library.html","kind":"class","full_name":"Crinja::Function::Library","name":"Library","abstract":false,"superclass":{"html_id":"crinja/Crinja/FeatureLibrary","kind":"class","full_name":"Crinja::FeatureLibrary","name":"FeatureLibrary"},"ancestors":[{"html_id":"crinja/Crinja/FeatureLibrary","kind":"class","full_name":"Crinja::FeatureLibrary","name":"FeatureLibrary"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/function.cr","line_number":14,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Function","kind":"module","full_name":"Crinja::Function","name":"Function"},"class_methods":[{"html_id":"alias(from,to)-class-method","name":"alias","abstract":false,"args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""}],"args_string":"(from, to)","args_html":"(from, to)","location":{"filename":"src/lib/function.cr","line_number":14,"url":null},"def":{"name":"alias","args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""}],"visibility":"Public","body":"@@aliases[from.to_s] = to.to_s"},"external_var":false},{"html_id":"defaults-class-method","name":"defaults","abstract":false,"def":{"name":"defaults","visibility":"Public","body":"@@defaults"},"external_var":false}],"constructors":[{"html_id":"new(register_defaults=true,disabled=[]ofString)-class-method","name":"new","doc":"Creates a new feature library.\nIf *register_defaults* is set to `false`, this library will be empty. Otherwise it is populated\nwith registered default features.\nA list of *disabled* features can be provided, if a feature name in this list is accessed,\nit will raise a `SecurityError`.","summary":"<p>Creates a new feature library.</p>","abstract":false,"args":[{"name":"register_defaults","default_value":"true","external_name":"register_defaults","restriction":""},{"name":"disabled","default_value":"[] of String","external_name":"disabled","restriction":""}],"args_string":"(register_defaults = true, disabled = [] of String)","args_html":"(register_defaults = <span class=\"n\">true</span>, disabled = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>)","location":{"filename":"src/lib/feature_library.cr","line_number":19,"url":null},"def":{"name":"new","args":[{"name":"register_defaults","default_value":"true","external_name":"register_defaults","restriction":""},{"name":"disabled","default_value":"[] of String","external_name":"disabled","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(register_defaults, disabled)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"register_defaults-instance-method","name":"register_defaults","doc":"Create a local method in a subclass to allow the usage of `previous_def`.","summary":"<p>Create a local method in a subclass to allow the usage of <code>previous_def</code>.</p>","abstract":false,"location":{"filename":"src/lib/function.cr","line_number":14,"url":null},"def":{"name":"register_defaults","visibility":"Public","body":"@@defaults.each do |callable|\n  self << callable\nend\n@aliases.merge!(@@aliases)\n"},"external_var":false}]},{"html_id":"crinja/Crinja/Function/RangeIterator","path":"Crinja/Function/RangeIterator.html","kind":"class","full_name":"Crinja::Function::RangeIterator(B, N)","name":"RangeIterator","abstract":false,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"},{"html_id":"crinja/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/function/range.cr","line_number":20,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"}],"namespace":{"html_id":"crinja/Crinja/Function","kind":"module","full_name":"Crinja::Function","name":"Function"},"constructors":[{"html_id":"new(range:Range(B,B),step,current:B=range.begin,reached_end:Bool=false)-class-method","name":"new","abstract":false,"args":[{"name":"range","external_name":"range","restriction":"::Range(B, B)"},{"name":"step","external_name":"step","restriction":""},{"name":"current","default_value":"range.begin","external_name":"current","restriction":"B"},{"name":"reached_end","default_value":"false","external_name":"reached_end","restriction":"::Bool"}],"args_string":"(range : Range(B, B), step, current : B = range.begin, reached_end : Bool = false)","args_html":"(range : Range(B, B), step, current : B = range.<span class=\"k\">begin</span>, reached_end : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/lib/function/range.cr","line_number":29,"url":null},"def":{"name":"new","args":[{"name":"range","external_name":"range","restriction":"::Range(B, B)"},{"name":"step","external_name":"step","restriction":""},{"name":"current","default_value":"range.begin","external_name":"current","restriction":"B"},{"name":"reached_end","default_value":"false","external_name":"reached_end","restriction":"::Bool"}],"visibility":"Public","body":"_ = RangeIterator(B, N).allocate\n_.initialize(range, step, current, reached_end)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"next-instance-method","name":"next","doc":"Returns the next element in this iterator, or `Iterator::Stop::INSTANCE` if there\nare no more elements.","summary":"<p>Returns the next element in this iterator, or <code>Iterator::Stop::INSTANCE</code> if there are no more elements.</p>","abstract":false,"location":{"filename":"src/lib/function/range.cr","line_number":34,"url":null},"def":{"name":"next","visibility":"Public","body":"if @reached_end\n  return stop\nend\n\nif (@current <=> @range.end) == (@direction_reversed ? 1 : -1)\n  value = @current\n  if @direction_reversed\n    @step.times do @current = @current.pred end\n  else\n    @step.times do @current = @current.succ end\n  end\n  value\nelse\n  @reached_end = true\n\n  if !@range.excludes_end? && (@current == @range.end)\n    @current\n  else\n    stop\n  end\nend\n"},"external_var":false},{"html_id":"rewind-instance-method","name":"rewind","abstract":false,"location":{"filename":"src/lib/function/range.cr","line_number":56,"url":null},"def":{"name":"rewind","visibility":"Public","body":"@current = @range.begin\n@reached_end = false\nself\n"},"external_var":false}]}]},{"html_id":"crinja/Crinja/JsonBuilder","path":"Crinja/JsonBuilder.html","kind":"struct","full_name":"Crinja::JsonBuilder","name":"JsonBuilder","abstract":false,"superclass":{"html_id":"crinja/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"crinja/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"crinja/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/util/json_builder.cr","line_number":3,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"class_methods":[{"html_id":"to_json(io:IO,value,indent=0)-class-method","name":"to_json","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"},{"name":"value","external_name":"value","restriction":""},{"name":"indent","default_value":"0","external_name":"indent","restriction":""}],"args_string":"(io : IO, value, indent = 0)","args_html":"(io : IO, value, indent = <span class=\"n\">0</span>)","location":{"filename":"src/util/json_builder.cr","line_number":54,"url":null},"def":{"name":"to_json","args":[{"name":"io","external_name":"io","restriction":"IO"},{"name":"value","external_name":"value","restriction":""},{"name":"indent","default_value":"0","external_name":"indent","restriction":""}],"visibility":"Public","body":"(new(io, indent)).to_json(value)"},"external_var":false},{"html_id":"to_json(builder:JSON::Builder,value)-class-method","name":"to_json","abstract":false,"args":[{"name":"builder","external_name":"builder","restriction":"JSON::Builder"},{"name":"value","external_name":"value","restriction":""}],"args_string":"(builder : JSON::Builder, value)","args_html":"(builder : JSON::Builder, value)","location":{"filename":"src/util/json_builder.cr","line_number":58,"url":null},"def":{"name":"to_json","args":[{"name":"builder","external_name":"builder","restriction":"JSON::Builder"},{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"(new(builder)).to_json(value)"},"external_var":false},{"html_id":"to_json(value,indent=0)-class-method","name":"to_json","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""},{"name":"indent","default_value":"0","external_name":"indent","restriction":""}],"args_string":"(value, indent = 0)","args_html":"(value, indent = <span class=\"n\">0</span>)","location":{"filename":"src/util/json_builder.cr","line_number":48,"url":null},"def":{"name":"to_json","args":[{"name":"value","external_name":"value","restriction":""},{"name":"indent","default_value":"0","external_name":"indent","restriction":""}],"visibility":"Public","body":"String.build do |io|\n  to_json(value, io, indent)\nend"},"external_var":false}]},{"html_id":"crinja/Crinja/Loader","path":"Crinja/Loader.html","kind":"class","full_name":"Crinja::Loader","name":"Loader","abstract":true,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/loader.cr","line_number":4,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"crinja/Crinja/Loader/BakedFileLoader","kind":"class","full_name":"Crinja::Loader::BakedFileLoader(T)","name":"BakedFileLoader"},{"html_id":"crinja/Crinja/Loader/ChoiceLoader","kind":"class","full_name":"Crinja::Loader::ChoiceLoader","name":"ChoiceLoader"},{"html_id":"crinja/Crinja/Loader/FileSystemLoader","kind":"class","full_name":"Crinja::Loader::FileSystemLoader","name":"FileSystemLoader"},{"html_id":"crinja/Crinja/Loader/HashLoader","kind":"class","full_name":"Crinja::Loader::HashLoader","name":"HashLoader"},{"html_id":"crinja/Crinja/Loader/PrefixLoader","kind":"class","full_name":"Crinja::Loader::PrefixLoader","name":"PrefixLoader"}],"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"doc":"Base class for all loaders.","summary":"<p>Base class for all loaders.</p>","instance_methods":[{"html_id":"get_source(env:Crinja,template:String):::Tuple(String,String|Nil)-instance-method","name":"get_source","doc":"Get the template source, filename and reload helper for a template.\nIt's passed the environment and template name and has to return a\ntuple in the form ``{source : String, filename : String?}`` or raise a\n`TemplateNotFoundError` if it can't locate the template.\nThe source part of the returned tuple must be the source of the\ntemplate as string. The filename should be the name of the file on\nthe filesystem if it was loaded from there, otherwise `nil`.\nThe filename is used for the tracebacks if no loader extension is used.","summary":"<p>Get the template source, filename and reload helper for a template.</p>","abstract":true,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"template","external_name":"template","restriction":"String"}],"args_string":"(env : Crinja, template : String) : ::Tuple(String, String | Nil)","args_html":"(env : <a href=\"../Crinja.html\">Crinja</a>, template : <a href=\"../String.html\">String</a>) : ::Tuple(<a href=\"../String.html\">String</a>, <a href=\"../String.html\">String</a> | Nil)","location":{"filename":"src/loader.cr","line_number":13,"url":null},"def":{"name":"get_source","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"template","external_name":"template","restriction":"String"}],"return_type":"::Tuple(String, String | ::Nil)","visibility":"Public","body":""},"external_var":false},{"html_id":"list_templates:Iterable(String)-instance-method","name":"list_templates","doc":"Iterates over all templates. If the loader does not support that\nit should raise a `TypeError` which is the default behavior.","summary":"<p>Iterates over all templates.</p>","abstract":false,"location":{"filename":"src/loader.cr","line_number":17,"url":null},"def":{"name":"list_templates","return_type":"Iterable(String)","visibility":"Public","body":"raise(TypeError.new(\"this loader cannot iterate over all templates\"))"},"external_var":false},{"html_id":"load(env,name)-instance-method","name":"load","abstract":false,"args":[{"name":"env","external_name":"env","restriction":""},{"name":"name","external_name":"name","restriction":""}],"args_string":"(env, name)","args_html":"(env, name)","location":{"filename":"src/loader.cr","line_number":21,"url":null},"def":{"name":"load","args":[{"name":"env","external_name":"env","restriction":""},{"name":"name","external_name":"name","restriction":""}],"visibility":"Public","body":"source, file_name = get_source(env, name)\n\nenv.cache.fetch(env, name, file_name, source) do\n  Template.new(source, env, name, file_name)\nend\n"},"external_var":false}],"types":[{"html_id":"crinja/Crinja/Loader/BakedFileLoader","path":"Crinja/Loader/BakedFileLoader.html","kind":"class","full_name":"Crinja::Loader::BakedFileLoader(T)","name":"BakedFileLoader","abstract":false,"superclass":{"html_id":"crinja/Crinja/Loader","kind":"class","full_name":"Crinja::Loader","name":"Loader"},"ancestors":[{"html_id":"crinja/Crinja/Loader","kind":"class","full_name":"Crinja::Loader","name":"Loader"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/loader/baked_file_loader.cr","line_number":33,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Loader","kind":"class","full_name":"Crinja::Loader","name":"Loader"},"doc":"A loader that retrieves templates from a [Baked File System](https://github.com/schovi/baked_file_system).\nThis way templates can be baked directly into the executable, so there is no need to provide\nseparate templates files. However, this prevents modifying templates at runtime.\nBoth can be accomplished by using a `ChoiceLoader` to combine a `FileSystemLoader` with\nbaked files as a fallback/default template loader.\n\nUsage depends on the shard [schovi/baked_file_system](https://github.com/schovi/baked_file_system)\nand this class must be explicitly required as `crinja/loader/baked_file_loader`.\n\n## Usage:\n\n```\nrequire \"crinja/loader/baked_file_loader\"\n\nmodule MyBakedTemplateFileSystem\n  BakedFileSystem.load(\"templates\", __DIR__)\nend\n\nenv.loader = Crinja::BakedFileLoader.new(MyBakedTemplateFileSystem)\n\n# with choice loader:\nenv.loader = Crinja::Loader::ChoiceLoader.new([\n  Crinja::Loader::FileSystemLoader.new(\"/path/to/user/templates\"),\n  Crinja::Loader::BakedFileLoader.new(MyBakedTemplateFileSystem),\n])\n```\n\nSee `examples/kilt/kilt.cr` for a practical example in conjunction with `Kilt`.\n\nA baked file system can also be used as a default","summary":"<p>A loader that retrieves templates from a <a href=\"https://github.com/schovi/baked_file_system\">Baked File System</a>.</p>","constructors":[{"html_id":"new(file_system:T)-class-method","name":"new","abstract":false,"args":[{"name":"file_system","external_name":"file_system","restriction":"T"}],"args_string":"(file_system : T)","args_html":"(file_system : T)","location":{"filename":"src/loader/baked_file_loader.cr","line_number":36,"url":null},"def":{"name":"new","args":[{"name":"file_system","external_name":"file_system","restriction":"T"}],"visibility":"Public","body":"_ = BakedFileLoader(T).allocate\n_.initialize(file_system)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"file_system:T-instance-method","name":"file_system","abstract":false,"location":{"filename":"src/loader/baked_file_loader.cr","line_number":34,"url":null},"def":{"name":"file_system","return_type":"T","visibility":"Public","body":"@file_system"},"external_var":false},{"html_id":"get_source(env:Crinja,template:String):::Tuple(String,String)-instance-method","name":"get_source","doc":"Get the template source, filename and reload helper for a template.\nIt's passed the environment and template name and has to return a\ntuple in the form ``{source : String, filename : String?}`` or raise a\n`TemplateNotFoundError` if it can't locate the template.\nThe source part of the returned tuple must be the source of the\ntemplate as string. The filename should be the name of the file on\nthe filesystem if it was loaded from there, otherwise `nil`.\nThe filename is used for the tracebacks if no loader extension is used.","summary":"<p>Get the template source, filename and reload helper for a template.</p>","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"template","external_name":"template","restriction":"String"}],"args_string":"(env : Crinja, template : String) : ::Tuple(String, String)","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, template : <a href=\"../../String.html\">String</a>) : ::Tuple(<a href=\"../../String.html\">String</a>, <a href=\"../../String.html\">String</a>)","location":{"filename":"src/loader/baked_file_loader.cr","line_number":39,"url":null},"def":{"name":"get_source","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"template","external_name":"template","restriction":"String"}],"return_type":"::Tuple(String, String)","visibility":"Public","body":"file = @file_system.get?(template)\n\nif file\nelse\n  raise(TemplateNotFoundError.new(template, self.class.to_s))\nend\n\ncontent = file.gets_to_end\nfile.rewind\nreturn {content, file.path}\n"},"external_var":false},{"html_id":"list_templates-instance-method","name":"list_templates","doc":"Iterates over all templates. If the loader does not support that\nit should raise a `TypeError` which is the default behavior.","summary":"<p>Iterates over all templates.</p>","abstract":false,"location":{"filename":"src/loader/baked_file_loader.cr","line_number":49,"url":null},"def":{"name":"list_templates","visibility":"Public","body":"@file_system.files.each"},"external_var":false},{"html_id":"to_s(io)-instance-method","name":"to_s","abstract":false,"args":[{"name":"io","external_name":"io","restriction":""}],"args_string":"(io)","args_html":"(io)","location":{"filename":"src/loader/baked_file_loader.cr","line_number":53,"url":null},"def":{"name":"to_s","args":[{"name":"io","external_name":"io","restriction":""}],"visibility":"Public","body":"io << \"BakedFileSystemLoader(\"\nlist_templates.each_with_index do |file, i|\n  if i >= 4\n    io << \" ...\"\n    io << (@file_system.files.size - 5)\n    break\n  end\n  if i > 0\n    io << \", \"\n  end\n  io << file.name\nend\nio << \")\"\n"},"external_var":false}]},{"html_id":"crinja/Crinja/Loader/ChoiceLoader","path":"Crinja/Loader/ChoiceLoader.html","kind":"class","full_name":"Crinja::Loader::ChoiceLoader","name":"ChoiceLoader","abstract":false,"superclass":{"html_id":"crinja/Crinja/Loader","kind":"class","full_name":"Crinja::Loader","name":"Loader"},"ancestors":[{"html_id":"crinja/Crinja/Loader","kind":"class","full_name":"Crinja::Loader","name":"Loader"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/loader.cr","line_number":172,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Loader","kind":"class","full_name":"Crinja::Loader","name":"Loader"},"doc":"Load templates from first matching loader. If a template could not be found\nby one loader the next one is tried.\n```\nloader = ChoiceLoader.new([\n  FileSystemLoader.new(\"/path/to/user/templates\"),\n  FileSystemLoader.new(\"/path/to/system/templates\"),\n  BakedFileLoader.new(MyBakedTemplateFileSystem),\n])\n```\nThis is useful if you want to allow users to override builtin templates\nfrom a different location or baked-in templates (see `BakedFileLoader`).","summary":"<p>Load templates from first matching loader.</p>","constructors":[{"html_id":"new(choices:Array(Loader))-class-method","name":"new","abstract":false,"args":[{"name":"choices","external_name":"choices","restriction":"Array(Loader)"}],"args_string":"(choices : Array(Loader))","args_html":"(choices : Array(<a href=\"../../Crinja/Loader.html\">Loader</a>))","location":{"filename":"src/loader.cr","line_number":175,"url":null},"def":{"name":"new","args":[{"name":"choices","external_name":"choices","restriction":"Array(Loader)"}],"visibility":"Public","body":"_ = allocate\n_.initialize(choices)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(*choices)-class-method","name":"new","abstract":false,"args":[{"name":"choices","external_name":"choices","restriction":""}],"args_string":"(*choices)","args_html":"(*choices)","location":{"filename":"src/loader.cr","line_number":178,"url":null},"def":{"name":"new","args":[{"name":"choices","external_name":"choices","restriction":""}],"splat_index":0,"visibility":"Public","body":"new(choices.map do |loader| loader.as(Loader) end)"},"external_var":false}],"instance_methods":[{"html_id":"choices:Array(Loader)-instance-method","name":"choices","abstract":false,"location":{"filename":"src/loader.cr","line_number":173,"url":null},"def":{"name":"choices","return_type":"Array(Loader)","visibility":"Public","body":"@choices"},"external_var":false},{"html_id":"get_source(env:Crinja,template:String):::Tuple(String,String|Nil)-instance-method","name":"get_source","doc":"Get the template source, filename and reload helper for a template.\nIt's passed the environment and template name and has to return a\ntuple in the form ``{source : String, filename : String?}`` or raise a\n`TemplateNotFoundError` if it can't locate the template.\nThe source part of the returned tuple must be the source of the\ntemplate as string. The filename should be the name of the file on\nthe filesystem if it was loaded from there, otherwise `nil`.\nThe filename is used for the tracebacks if no loader extension is used.","summary":"<p>Get the template source, filename and reload helper for a template.</p>","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"template","external_name":"template","restriction":"String"}],"args_string":"(env : Crinja, template : String) : ::Tuple(String, String | Nil)","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, template : <a href=\"../../String.html\">String</a>) : ::Tuple(<a href=\"../../String.html\">String</a>, <a href=\"../../String.html\">String</a> | Nil)","location":{"filename":"src/loader.cr","line_number":182,"url":null},"def":{"name":"get_source","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"template","external_name":"template","restriction":"String"}],"return_type":"::Tuple(String, String | ::Nil)","visibility":"Public","body":"choices.each do |loader|\n  begin\n    return loader.get_source(env, template)\n  rescue TemplateNotFoundError\n  end\nend\n\nraise(TemplateNotFoundError.new(template, self))\n"},"external_var":false},{"html_id":"list_templates-instance-method","name":"list_templates","doc":"Iterates over all templates. If the loader does not support that\nit should raise a `TypeError` which is the default behavior.","summary":"<p>Iterates over all templates.</p>","abstract":false,"location":{"filename":"src/loader.cr","line_number":193,"url":null},"def":{"name":"list_templates","visibility":"Public","body":"choices.map(&.list_templates).flatten.uniq.sort"},"external_var":false}]},{"html_id":"crinja/Crinja/Loader/FileSystemLoader","path":"Crinja/Loader/FileSystemLoader.html","kind":"class","full_name":"Crinja::Loader::FileSystemLoader","name":"FileSystemLoader","abstract":false,"superclass":{"html_id":"crinja/Crinja/Loader","kind":"class","full_name":"Crinja::Loader","name":"Loader"},"ancestors":[{"html_id":"crinja/Crinja/Loader","kind":"class","full_name":"Crinja::Loader","name":"Loader"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/loader.cr","line_number":46,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Loader","kind":"class","full_name":"Crinja::Loader","name":"Loader"},"doc":"Loads templates from the file system.  This loader can find templates\nin folders on the file system and is the preferred way to load them.\nThe loader takes the path to the templates as string, or if multiple\nlocations are wanted a list of them which is then looked up in the\ngiven order.","summary":"<p>Loads templates from the file system.</p>","constructors":[{"html_id":"new(searchpath:String=FileUtils.pwd,encoding=nil,followlinks=false)-class-method","name":"new","doc":"The default encoding is `nil` which can be changed\nby setting the `encoding` parameter to something else.\nTo follow symbolic links, set the *followlinks* parameter to `true`","summary":"<p>The default encoding is <code>nil</code> which can be changed by setting the <code><a href=\"../../Crinja/Loader/FileSystemLoader.html#encoding%3AString%7CNil-instance-method\">#encoding</a></code> parameter to something else.</p>","abstract":false,"args":[{"name":"searchpath","default_value":"FileUtils.pwd","external_name":"searchpath","restriction":"String"},{"name":"encoding","default_value":"nil","external_name":"encoding","restriction":""},{"name":"followlinks","default_value":"false","external_name":"followlinks","restriction":""}],"args_string":"(searchpath : String = FileUtils.pwd, encoding = nil, followlinks = false)","args_html":"(searchpath : <a href=\"../../String.html\">String</a> = <span class=\"t\">FileUtils</span>.pwd, encoding = <span class=\"n\">nil</span>, followlinks = <span class=\"n\">false</span>)","location":{"filename":"src/loader.cr","line_number":58,"url":null},"def":{"name":"new","args":[{"name":"searchpath","default_value":"FileUtils.pwd","external_name":"searchpath","restriction":"String"},{"name":"encoding","default_value":"nil","external_name":"encoding","restriction":""},{"name":"followlinks","default_value":"false","external_name":"followlinks","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(searchpath, encoding, followlinks)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(searchpaths:Array(String),encoding:Nil|String=nil,followlinks:Bool=false)-class-method","name":"new","doc":"The default encoding is `nil` which can be changed\nby setting the `encoding` parameter to something else.\nTo follow symbolic links, set the *followlinks* parameter to `true`","summary":"<p>The default encoding is <code>nil</code> which can be changed by setting the <code><a href=\"../../Crinja/Loader/FileSystemLoader.html#encoding%3AString%7CNil-instance-method\">#encoding</a></code> parameter to something else.</p>","abstract":false,"args":[{"name":"searchpaths","external_name":"searchpaths","restriction":"::Array(::String)"},{"name":"encoding","default_value":"nil","external_name":"encoding","restriction":"::Nil | ::String"},{"name":"followlinks","default_value":"false","external_name":"followlinks","restriction":"::Bool"}],"args_string":"(searchpaths : Array(String), encoding : Nil | String = nil, followlinks : Bool = false)","args_html":"(searchpaths : Array(<a href=\"../../String.html\">String</a>), encoding : Nil | <a href=\"../../String.html\">String</a> = <span class=\"n\">nil</span>, followlinks : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/loader.cr","line_number":54,"url":null},"def":{"name":"new","args":[{"name":"searchpaths","external_name":"searchpaths","restriction":"::Array(::String)"},{"name":"encoding","default_value":"nil","external_name":"encoding","restriction":"::Nil | ::String"},{"name":"followlinks","default_value":"false","external_name":"followlinks","restriction":"::Bool"}],"visibility":"Public","body":"_ = allocate\n_.initialize(searchpaths, encoding, followlinks)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"encoding:String|Nil-instance-method","name":"encoding","abstract":false,"location":{"filename":"src/loader.cr","line_number":48,"url":null},"def":{"name":"encoding","return_type":"String | ::Nil","visibility":"Public","body":"@encoding"},"external_var":false},{"html_id":"followlinks:Bool-instance-method","name":"followlinks","abstract":false,"location":{"filename":"src/loader.cr","line_number":49,"url":null},"def":{"name":"followlinks","return_type":"Bool","visibility":"Public","body":"@followlinks"},"external_var":false},{"html_id":"get_source(env:Crinja,template:String):::Tuple(String,String)-instance-method","name":"get_source","doc":"Get the template source, filename and reload helper for a template.\nIt's passed the environment and template name and has to return a\ntuple in the form ``{source : String, filename : String?}`` or raise a\n`TemplateNotFoundError` if it can't locate the template.\nThe source part of the returned tuple must be the source of the\ntemplate as string. The filename should be the name of the file on\nthe filesystem if it was loaded from there, otherwise `nil`.\nThe filename is used for the tracebacks if no loader extension is used.","summary":"<p>Get the template source, filename and reload helper for a template.</p>","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"template","external_name":"template","restriction":"String"}],"args_string":"(env : Crinja, template : String) : ::Tuple(String, String)","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, template : <a href=\"../../String.html\">String</a>) : ::Tuple(<a href=\"../../String.html\">String</a>, <a href=\"../../String.html\">String</a>)","location":{"filename":"src/loader.cr","line_number":68,"url":null},"def":{"name":"get_source","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"template","external_name":"template","restriction":"String"}],"return_type":"::Tuple(String, String)","visibility":"Public","body":"pieces = split_template_path(template)\nsearchpaths.each do |searchpath|\n  file_name = File.join(searchpath, File.join(pieces))\n\n  if File.exists?(file_name)\n    begin\n      source = File.read(file_name, encoding: @encoding)\n      return {source, file_name}\n    rescue e : IO::Error | File::Error\n      raise(TemplateNotFoundError.new(template, self, e.message, e))\n    end\n  end\nend\n\nraise(TemplateNotFoundError.new(template, self))\n"},"external_var":false},{"html_id":"list_templates-instance-method","name":"list_templates","doc":"Iterates over all templates. If the loader does not support that\nit should raise a `TypeError` which is the default behavior.","summary":"<p>Iterates over all templates.</p>","abstract":false,"location":{"filename":"src/loader.cr","line_number":86,"url":null},"def":{"name":"list_templates","visibility":"Public","body":"searchpaths.map do |path|\n  range = (path.size + 1)..-1\n  (list_templates(path)).map do |name| name[range] end\nend.flatten"},"external_var":false},{"html_id":"searchpaths:Array(String)-instance-method","name":"searchpaths","abstract":false,"location":{"filename":"src/loader.cr","line_number":47,"url":null},"def":{"name":"searchpaths","return_type":"Array(String)","visibility":"Public","body":"@searchpaths"},"external_var":false},{"html_id":"to_s(io)-instance-method","name":"to_s","abstract":false,"args":[{"name":"io","external_name":"io","restriction":""}],"args_string":"(io)","args_html":"(io)","location":{"filename":"src/loader.cr","line_number":62,"url":null},"def":{"name":"to_s","args":[{"name":"io","external_name":"io","restriction":""}],"visibility":"Public","body":"io << \"FileSystemLoader(\"\nsearchpaths.join(io, ':')\nio << \")\"\n"},"external_var":false}]},{"html_id":"crinja/Crinja/Loader/HashLoader","path":"Crinja/Loader/HashLoader.html","kind":"class","full_name":"Crinja::Loader::HashLoader","name":"HashLoader","abstract":false,"superclass":{"html_id":"crinja/Crinja/Loader","kind":"class","full_name":"Crinja::Loader","name":"Loader"},"ancestors":[{"html_id":"crinja/Crinja/Loader","kind":"class","full_name":"Crinja::Loader","name":"Loader"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/loader.cr","line_number":107,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Loader","kind":"class","full_name":"Crinja::Loader","name":"Loader"},"doc":"Load templates from a hash in memory.","summary":"<p>Load templates from a hash in memory.</p>","constructors":[{"html_id":"new(data:Hash(String,String))-class-method","name":"new","abstract":false,"args":[{"name":"data","external_name":"data","restriction":"::Hash(::String, ::String)"}],"args_string":"(data : Hash(String, String))","args_html":"(data : Hash(<a href=\"../../String.html\">String</a>, <a href=\"../../String.html\">String</a>))","location":{"filename":"src/loader.cr","line_number":110,"url":null},"def":{"name":"new","args":[{"name":"data","external_name":"data","restriction":"::Hash(::String, ::String)"}],"visibility":"Public","body":"_ = allocate\n_.initialize(data)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"data:Hash(String,String)-instance-method","name":"data","abstract":false,"location":{"filename":"src/loader.cr","line_number":108,"url":null},"def":{"name":"data","return_type":"Hash(String, String)","visibility":"Public","body":"@data"},"external_var":false},{"html_id":"get_source(env:Crinja,template:String):::Tuple(String,String|Nil)-instance-method","name":"get_source","doc":"Get the template source, filename and reload helper for a template.\nIt's passed the environment and template name and has to return a\ntuple in the form ``{source : String, filename : String?}`` or raise a\n`TemplateNotFoundError` if it can't locate the template.\nThe source part of the returned tuple must be the source of the\ntemplate as string. The filename should be the name of the file on\nthe filesystem if it was loaded from there, otherwise `nil`.\nThe filename is used for the tracebacks if no loader extension is used.","summary":"<p>Get the template source, filename and reload helper for a template.</p>","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"template","external_name":"template","restriction":"String"}],"args_string":"(env : Crinja, template : String) : ::Tuple(String, String | Nil)","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, template : <a href=\"../../String.html\">String</a>) : ::Tuple(<a href=\"../../String.html\">String</a>, <a href=\"../../String.html\">String</a> | Nil)","location":{"filename":"src/loader.cr","line_number":113,"url":null},"def":{"name":"get_source","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"template","external_name":"template","restriction":"String"}],"return_type":"::Tuple(String, String | ::Nil)","visibility":"Public","body":"if data.has_key?(template)\nelse\n  raise(TemplateNotFoundError.new(template, self))\nend\n\n{data[template], nil}\n"},"external_var":false},{"html_id":"list_templates-instance-method","name":"list_templates","doc":"Iterates over all templates. If the loader does not support that\nit should raise a `TypeError` which is the default behavior.","summary":"<p>Iterates over all templates.</p>","abstract":false,"location":{"filename":"src/loader.cr","line_number":119,"url":null},"def":{"name":"list_templates","visibility":"Public","body":"data.keys"},"external_var":false}]},{"html_id":"crinja/Crinja/Loader/PrefixLoader","path":"Crinja/Loader/PrefixLoader.html","kind":"class","full_name":"Crinja::Loader::PrefixLoader","name":"PrefixLoader","abstract":false,"superclass":{"html_id":"crinja/Crinja/Loader","kind":"class","full_name":"Crinja::Loader","name":"Loader"},"ancestors":[{"html_id":"crinja/Crinja/Loader","kind":"class","full_name":"Crinja::Loader","name":"Loader"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/loader.cr","line_number":132,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Loader","kind":"class","full_name":"Crinja::Loader","name":"Loader"},"doc":"Load templates from other loaders based on prefix.","summary":"<p>Load templates from other loaders based on prefix.</p>","constructors":[{"html_id":"new(mapping:Hash(String,Crinja::Loader),delimiter:String=\"/\")-class-method","name":"new","doc":"The prefix is delimited from the template by a slash per\ndefault, which can be changed by setting the *delimiter* argument.\n loader = PrefixLoader.new({\n     \"app1\" =>     FileSystemLoader(\"app1\"),\n     \"app2\" =>     FileSystemLoader(\"../otherapp\")\n })\nBy loading `app1/index.html` the file path `app1/index.html` is loaded\nby loading `app2/index.html` the file path `../otherapp/index.html`.","summary":"<p>The prefix is delimited from the template by a slash per default, which can be changed by setting the <em>delimiter</em> argument.</p>","abstract":false,"args":[{"name":"mapping","external_name":"mapping","restriction":"::Hash(::String, ::Crinja::Loader)"},{"name":"delimiter","default_value":"\"/\"","external_name":"delimiter","restriction":"::String"}],"args_string":"(mapping : Hash(String, Crinja::Loader), delimiter : String = \"/\")","args_html":"(mapping : Hash(<a href=\"../../String.html\">String</a>, <a href=\"../../Crinja/Loader.html\">Crinja::Loader</a>), delimiter : <a href=\"../../String.html\">String</a> = <span class=\"s\">&quot;/&quot;</span>)","location":{"filename":"src/loader.cr","line_number":143,"url":null},"def":{"name":"new","args":[{"name":"mapping","external_name":"mapping","restriction":"::Hash(::String, ::Crinja::Loader)"},{"name":"delimiter","default_value":"\"/\"","external_name":"delimiter","restriction":"::String"}],"visibility":"Public","body":"_ = allocate\n_.initialize(mapping, delimiter)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"get_source(env:Crinja,template:String):::Tuple(String,String|Nil)-instance-method","name":"get_source","doc":"Get the template source, filename and reload helper for a template.\nIt's passed the environment and template name and has to return a\ntuple in the form ``{source : String, filename : String?}`` or raise a\n`TemplateNotFoundError` if it can't locate the template.\nThe source part of the returned tuple must be the source of the\ntemplate as string. The filename should be the name of the file on\nthe filesystem if it was loaded from there, otherwise `nil`.\nThe filename is used for the tracebacks if no loader extension is used.","summary":"<p>Get the template source, filename and reload helper for a template.</p>","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"template","external_name":"template","restriction":"String"}],"args_string":"(env : Crinja, template : String) : ::Tuple(String, String | Nil)","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, template : <a href=\"../../String.html\">String</a>) : ::Tuple(<a href=\"../../String.html\">String</a>, <a href=\"../../String.html\">String</a> | Nil)","location":{"filename":"src/loader.cr","line_number":146,"url":null},"def":{"name":"get_source","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"template","external_name":"template","restriction":"String"}],"return_type":"::Tuple(String, String | ::Nil)","visibility":"Public","body":"pos = template.index(@delimiter)\n\nif pos\n  prefix = template[0...pos]\n\n  if loader = mapping[prefix]?\n    return loader.get_source(env, template)\n  end\nend\n\nraise(TemplateNotFoundError.new(template, self, \"no mapping for prefix #{prefix}\"))\n"},"external_var":false},{"html_id":"mapping:Hash(String,Loader)-instance-method","name":"mapping","abstract":false,"location":{"filename":"src/loader.cr","line_number":133,"url":null},"def":{"name":"mapping","return_type":"Hash(String, Loader)","visibility":"Public","body":"@mapping"},"external_var":false}]}]},{"html_id":"crinja/Crinja/Object","path":"Crinja/Object.html","kind":"module","full_name":"Crinja::Object","name":"Object","abstract":false,"locations":[{"filename":"src/object.cr","line_number":77,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"including_types":[{"html_id":"crinja/Crinja/Object/Auto","kind":"module","full_name":"Crinja::Object::Auto","name":"Auto"},{"html_id":"crinja/Crinja/Tag/For/ForLoop","kind":"class","full_name":"Crinja::Tag::For::ForLoop","name":"ForLoop"},{"html_id":"crinja/Crinja/Tuple","kind":"class","full_name":"Crinja::Tuple","name":"Tuple"}],"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"doc":"This module can be included into custom types to make their instances available\nas values inside the Crinja runtime.\n\nThere are three types of properties that can be exposed to the Crinja runtime:\n\n* `#crinja_attribute(name : Crinja::Value) : Crinja::Value`:\n  Access an attribute (e.g. an instance property) of this type.\n* `#crinja_item(name : Crinja::Value) : Crinja::Value`:\n  Access an item (e.g. an array member) of this type.\n* `#crinja_call(name : String) : Crinja::Callable | Callable::Proc | Nil`:\n  Expose a callable as method of this type.\n\nThrough the static comilation it is not possible to access properties or methods of an object\ndirectly from inside the Crinja runtime. These methods allow to define a name-based lookup and\nreturn the corresponding values. If the looked-up name is not defined, the return value for `crinja_call`\nshould be `nil`.  should return `Crinja::Undefined`.\n\n`crinja_attribute` and `crinja_item` *must* return an `Crinja::Undefined` if there is no attribute or item of that name.\nIn this case, `Crinja::Resolver` may try other methods of accessing the attribute or item depending on the type\nof lookup (see [*Notes on Subscription*](http://jinja.pocoo.org/docs/2.9/templates/#notes-on-subscriptions) for Jinja2).\n\nImplementing classes *do not need* to implement these methods. They will only be accessed if an\ninstance of `Crinja::Object` responds to them. Otherwise it will be considered as if there are no\nattributes, items or methods defined.\n\nExample:\n\n```\nclass User\n  include Crinja::Object\n\n  property name : String\n  property dob : Time\n\n  def initialize(@name, @dob)\n  end\n\n  def age\n    (Time.now - @dob).years\n  end\n\n  def crinja_attribute(attr : Crinja::Value) : Crinja::Value\n    value = case attr.to_string\n            when \"name\"\n              name\n            when \"age\"\n              age\n            else\n              Undefined.new(attr.to_s)\n            end\n\n    Crinja::Value.new(value)\n  end\n\n  def crinja_call(name : String) : Crinja::Callable | Crinja::Callable::Proc | Nil\n    if name == \"days_old\"\n      ->(arguments : Crinja::Arguments) do\n        self.age.days\n      end\n    end\n  end\nend\n```","summary":"<p>This module can be included into custom types to make their instances available as values inside the Crinja runtime.</p>","types":[{"html_id":"crinja/Crinja/Object/Auto","path":"Crinja/Object/Auto.html","kind":"module","full_name":"Crinja::Object::Auto","name":"Auto","abstract":false,"ancestors":[{"html_id":"crinja/Crinja/Object","kind":"module","full_name":"Crinja::Object","name":"Object"}],"locations":[{"filename":"src/object.cr","line_number":106,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Object","kind":"module","full_name":"Crinja::Object","name":"Object"}],"including_types":[{"html_id":"crinja/Crinja/Function/Cycler","kind":"class","full_name":"Crinja::Function::Cycler","name":"Cycler"}],"namespace":{"html_id":"crinja/Crinja/Object","kind":"module","full_name":"Crinja::Object","name":"Object"},"doc":"When this module is included, it defines a `crinja_attribute` method (see `Crinja::Object` for its purpose)\nwith dynamic accessors to all methods exposed using an annotation.\n\n* `@[Crystal::Attribute]` (method annotation): Exposes the annotated method.\n  Options:\n  * `ignore`: Don't expose this method (useful to exclude specific methods from `Crystal::Attributes`)\n  * `name`: Expose the method under a different name.\n* `@[Crystal::Attributes]` (type annotation): Exposes all methods in the annotated type.\n  Only methods with valid signatures are exposed (can be called without arguments).\n  Options:\n  * `expose`: A whitelist of methods to expose. If not defined, all methods will be exposed (unless the method itself is annotated as `@[Crinja::Attribute(ignore: true)]`)\n\nExample:\n```\n@[Crinja::Attributes(expose: [name, age])]\nclass User\n  include Crinja::Object::Auto\n\n  property name : String\n  property dob : Time\n\n  def initialize(@name, @dob)\n  end\n\n  def age\n    (Time.now - @dob).year\n  end\nend","summary":"<p>When this module is included, it defines a <code><a href=\"../../Crinja/Object/Auto.html#crinja_attribute%28attr%3ACrinja%3A%3AValue%29%3ACrinja%3A%3AValue-instance-method\">#crinja_attribute</a></code> method (see <code><a href=\"../../Crinja/Object.html\">Crinja::Object</a></code> for its purpose) with dynamic accessors to all methods exposed using an annotation.</p>","instance_methods":[{"html_id":"crinja_attribute(attr:Crinja::Value):Crinja::Value-instance-method","name":"crinja_attribute","abstract":false,"args":[{"name":"attr","external_name":"attr","restriction":"::Crinja::Value"}],"args_string":"(attr : Crinja::Value) : Crinja::Value","args_html":"(attr : <a href=\"../../Crinja/Value.html\">Crinja::Value</a>) : <a href=\"../../Crinja/Value.html\">Crinja::Value</a>","location":{"filename":"src/object.cr","line_number":109,"url":null},"def":{"name":"crinja_attribute","args":[{"name":"attr","external_name":"attr","restriction":"::Crinja::Value"}],"return_type":"::Crinja::Value","visibility":"Public","body":"{% if true %}\n          {% exposed = [] of _ %}\n          value = case attr.to_string\n          {% for type in [@type] + @type.ancestors %}\n            {% type_annotation = type.annotation(::Crinja::Attributes) %}\n            {% expose_all = type_annotation && !type_annotation[:expose] %}\n            {% if type_exposed = type_annotation && type_annotation[:expose] %}\n              {% exposed = exposed + type_exposed.map(&.id) %}\n            {% end %}\n            {% for method in type.methods %}\n              {% ann = method.annotation(::Crinja::Attribute) %}\n              {% expose_this_method = ((expose_all || ann) || (exposed.includes?(method.name))) && ((!ann) || !ann[:ignore]) %}\n              {% if expose_this_method %}\n                {% if method.name != \"initialize\" %}\n                  {% if !method.accepts_block? %}\n                    {% if method.args.all? do |arg| arg.default_value.class_name != \"Nop\" end %}\n                      {% method_name = (ann && ann[:name]) || method.name %}\n                      {% if (!(ann && ann[:name])) && (method.name.ends_with?(\"?\")) %}\n                        when \"is_{{ method_name.id[0..-2] }}\"\n                      {% else %}\n                        when {{ method_name.id.stringify }}\n                      {% end %}\n                      self.{{ method.name.id }}\n                    {% elsif ann %}\n                      {% raise(\"Method #{method.name} annotated as @[Crinja::Attribute] cannot be called without arguments\") %}\n                    {% end %}\n                  {% elsif ann %}\n                    {% raise(\"Method #{method.name} annotated as @[Crinja::Attribute] requires block\") %}\n                  {% end %}\n                {% elsif ann %}\n                  {% raise(\"Method #{method.name} annotated as @[Crinja::Attribute] has invalid name\") %}\n                {% end %}\n              {% end %}\n            {% end %}\n          {% end %}\n          else\n            ::Crinja::Undefined.new(attr.to_s)\n          end\n\n          ::Crinja::Value.new(value)\n        {% end %}"},"external_var":false}]}]},{"html_id":"crinja/Crinja/Operator","path":"Crinja/Operator.html","kind":"class","full_name":"Crinja::Operator","name":"Operator","abstract":true,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/operator.cr","line_number":1,"url":null},{"filename":"src/lib/operator/comparator.cr","line_number":1,"url":null},{"filename":"src/lib/operator/divide.cr","line_number":1,"url":null},{"filename":"src/lib/operator/int_divide.cr","line_number":1,"url":null},{"filename":"src/lib/operator/logic.cr","line_number":1,"url":null},{"filename":"src/lib/operator/minus.cr","line_number":1,"url":null},{"filename":"src/lib/operator/modulo.cr","line_number":1,"url":null},{"filename":"src/lib/operator/multiply.cr","line_number":1,"url":null},{"filename":"src/lib/operator/plus.cr","line_number":1,"url":null},{"filename":"src/lib/operator/power.cr","line_number":1,"url":null},{"filename":"src/lib/operator/tilde.cr","line_number":1,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"crinja/Crinja/Operator/And","kind":"class","full_name":"Crinja::Operator::And","name":"And"},{"html_id":"crinja/Crinja/Operator/Divide","kind":"class","full_name":"Crinja::Operator::Divide","name":"Divide"},{"html_id":"crinja/Crinja/Operator/Equals","kind":"class","full_name":"Crinja::Operator::Equals","name":"Equals"},{"html_id":"crinja/Crinja/Operator/GreaterThan","kind":"class","full_name":"Crinja::Operator::GreaterThan","name":"GreaterThan"},{"html_id":"crinja/Crinja/Operator/GreaterThanEquals","kind":"class","full_name":"Crinja::Operator::GreaterThanEquals","name":"GreaterThanEquals"},{"html_id":"crinja/Crinja/Operator/IntDivide","kind":"class","full_name":"Crinja::Operator::IntDivide","name":"IntDivide"},{"html_id":"crinja/Crinja/Operator/LowerThan","kind":"class","full_name":"Crinja::Operator::LowerThan","name":"LowerThan"},{"html_id":"crinja/Crinja/Operator/LowerThanEquals","kind":"class","full_name":"Crinja::Operator::LowerThanEquals","name":"LowerThanEquals"},{"html_id":"crinja/Crinja/Operator/Minus","kind":"class","full_name":"Crinja::Operator::Minus","name":"Minus"},{"html_id":"crinja/Crinja/Operator/Modulo","kind":"class","full_name":"Crinja::Operator::Modulo","name":"Modulo"},{"html_id":"crinja/Crinja/Operator/Multiply","kind":"class","full_name":"Crinja::Operator::Multiply","name":"Multiply"},{"html_id":"crinja/Crinja/Operator/Not","kind":"class","full_name":"Crinja::Operator::Not","name":"Not"},{"html_id":"crinja/Crinja/Operator/NotEquals","kind":"class","full_name":"Crinja::Operator::NotEquals","name":"NotEquals"},{"html_id":"crinja/Crinja/Operator/Or","kind":"class","full_name":"Crinja::Operator::Or","name":"Or"},{"html_id":"crinja/Crinja/Operator/Plus","kind":"class","full_name":"Crinja::Operator::Plus","name":"Plus"},{"html_id":"crinja/Crinja/Operator/Power","kind":"class","full_name":"Crinja::Operator::Power","name":"Power"},{"html_id":"crinja/Crinja/Operator/Tilde","kind":"class","full_name":"Crinja::Operator::Tilde","name":"Tilde"}],"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"instance_methods":[{"html_id":"binary?-instance-method","name":"binary?","abstract":false,"location":{"filename":"src/lib/operator.cr","line_number":24,"url":null},"def":{"name":"binary?","visibility":"Public","body":"false"},"external_var":false},{"html_id":"inspect(io:IO)-instance-method","name":"inspect","doc":"Appends a String representation of this object\nwhich includes its class name, its object address\nand the values of all instance variables.\n\n```\nclass Person\n  def initialize(@name : String, @age : Int32)\n  end\nend\n\nPerson.new(\"John\", 32).inspect # => #<Person:0x10fd31f20 @name=\"John\", @age=32>\n```","summary":"<p>Appends a String representation of this object which includes its class name, its object address and the values of all instance variables.</p>","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/lib/operator.cr","line_number":12,"url":null},"def":{"name":"inspect","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"to_s(io)"},"external_var":false},{"html_id":"ternary?-instance-method","name":"ternary?","abstract":false,"location":{"filename":"src/lib/operator.cr","line_number":28,"url":null},"def":{"name":"ternary?","visibility":"Public","body":"false"},"external_var":false},{"html_id":"to_s(io:IO)-instance-method","name":"to_s","doc":"Appends a short String representation of this object\nwhich includes its class name and its object address.\n\n```\nclass Person\n  def initialize(@name : String, @age : Int32)\n  end\nend\n\nPerson.new(\"John\", 32).to_s # => #<Person:0x10a199f20>\n```","summary":"<p>Appends a short String representation of this object which includes its class name and its object address.</p>","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/lib/operator.cr","line_number":16,"url":null},"def":{"name":"to_s","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"((io << \"operator[\") << name) << \"]\""},"external_var":false},{"html_id":"unary?-instance-method","name":"unary?","abstract":false,"location":{"filename":"src/lib/operator.cr","line_number":20,"url":null},"def":{"name":"unary?","visibility":"Public","body":"false"},"external_var":false}],"macros":[{"html_id":"name(name,end_tag=nil)-macro","name":"name","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""},{"name":"end_tag","default_value":"nil","external_name":"end_tag","restriction":""}],"args_string":"(name, end_tag = nil)","args_html":"(name, end_tag = <span class=\"n\">nil</span>)","location":{"filename":"src/lib/operator.cr","line_number":2,"url":null},"def":{"name":"name","args":[{"name":"name","external_name":"name","restriction":""},{"name":"end_tag","default_value":"nil","external_name":"end_tag","restriction":""}],"visibility":"Public","body":"    def name\n      \n{{ name }}\n\n    \nend\n\n    def \nend_tag : String?\n      \n{{ end_tag }}\n\n    \nend\n  \n"}}],"types":[{"html_id":"crinja/Crinja/Operator/And","path":"Crinja/Operator/And.html","kind":"class","full_name":"Crinja::Operator::And","name":"And","abstract":false,"superclass":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"ancestors":[{"html_id":"crinja/Crinja/Operator/Logic","kind":"module","full_name":"Crinja::Operator::Logic","name":"Logic"},{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/operator/logic.cr","line_number":2,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Operator/Logic","kind":"module","full_name":"Crinja::Operator::Logic","name":"Logic"}],"namespace":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/operator/logic.cr","line_number":4,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/operator/logic.cr","line_number":4,"url":null},"def":{"name":"name","visibility":"Public","body":"\"and\""},"external_var":false},{"html_id":"value(env:Crinja,op1:Value,&op2:->Value):Value-instance-method","name":"value","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"}],"args_string":"(env : Crinja, op1 : Value, &op2 :  -> Value) : Value","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, op1 : <a href=\"../../Crinja/Value.html\">Value</a>, &op2 :  -> <a href=\"../../Crinja/Value.html\">Value</a>) : <a href=\"../../Crinja/Value.html\">Value</a>","location":{"filename":"src/lib/operator/logic.cr","line_number":6,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"}],"yields":0,"block_arity":0,"block_arg":{"name":"op2","external_name":"op2","restriction":"(-> Value)"},"return_type":"Value","visibility":"Public","body":"Value.new(!(!(op1.truthy? && op2.call.truthy?)))"},"external_var":false}]},{"html_id":"crinja/Crinja/Operator/Binary","path":"Crinja/Operator/Binary.html","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary","abstract":false,"locations":[{"filename":"src/lib/operator.cr","line_number":39,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"including_types":[{"html_id":"crinja/Crinja/Operator/Divide","kind":"class","full_name":"Crinja::Operator::Divide","name":"Divide"},{"html_id":"crinja/Crinja/Operator/Equals","kind":"class","full_name":"Crinja::Operator::Equals","name":"Equals"},{"html_id":"crinja/Crinja/Operator/GreaterThan","kind":"class","full_name":"Crinja::Operator::GreaterThan","name":"GreaterThan"},{"html_id":"crinja/Crinja/Operator/GreaterThanEquals","kind":"class","full_name":"Crinja::Operator::GreaterThanEquals","name":"GreaterThanEquals"},{"html_id":"crinja/Crinja/Operator/IntDivide","kind":"class","full_name":"Crinja::Operator::IntDivide","name":"IntDivide"},{"html_id":"crinja/Crinja/Operator/LowerThan","kind":"class","full_name":"Crinja::Operator::LowerThan","name":"LowerThan"},{"html_id":"crinja/Crinja/Operator/LowerThanEquals","kind":"class","full_name":"Crinja::Operator::LowerThanEquals","name":"LowerThanEquals"},{"html_id":"crinja/Crinja/Operator/Minus","kind":"class","full_name":"Crinja::Operator::Minus","name":"Minus"},{"html_id":"crinja/Crinja/Operator/Modulo","kind":"class","full_name":"Crinja::Operator::Modulo","name":"Modulo"},{"html_id":"crinja/Crinja/Operator/Multiply","kind":"class","full_name":"Crinja::Operator::Multiply","name":"Multiply"},{"html_id":"crinja/Crinja/Operator/NotEquals","kind":"class","full_name":"Crinja::Operator::NotEquals","name":"NotEquals"},{"html_id":"crinja/Crinja/Operator/Plus","kind":"class","full_name":"Crinja::Operator::Plus","name":"Plus"},{"html_id":"crinja/Crinja/Operator/Power","kind":"class","full_name":"Crinja::Operator::Power","name":"Power"},{"html_id":"crinja/Crinja/Operator/Tilde","kind":"class","full_name":"Crinja::Operator::Tilde","name":"Tilde"}],"namespace":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"instance_methods":[{"html_id":"binary?-instance-method","name":"binary?","abstract":false,"location":{"filename":"src/lib/operator.cr","line_number":40,"url":null},"def":{"name":"binary?","visibility":"Public","body":"true"},"external_var":false},{"html_id":"value(env:Crinja,op1:Value,op2:Value)-instance-method","name":"value","abstract":true,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"},{"name":"op2","external_name":"op2","restriction":"Value"}],"args_string":"(env : Crinja, op1 : Value, op2 : Value)","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, op1 : <a href=\"../../Crinja/Value.html\">Value</a>, op2 : <a href=\"../../Crinja/Value.html\">Value</a>)","location":{"filename":"src/lib/operator.cr","line_number":44,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"},{"name":"op2","external_name":"op2","restriction":"Value"}],"visibility":"Public","body":""},"external_var":false}]},{"html_id":"crinja/Crinja/Operator/Divide","path":"Crinja/Operator/Divide.html","kind":"class","full_name":"Crinja::Operator::Divide","name":"Divide","abstract":false,"superclass":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"ancestors":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"},{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/operator/divide.cr","line_number":2,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"}],"namespace":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/operator/divide.cr","line_number":4,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/operator/divide.cr","line_number":4,"url":null},"def":{"name":"name","visibility":"Public","body":"\"/\""},"external_var":false},{"html_id":"value(env:Crinja,op1,op2)-instance-method","name":"value","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":""},{"name":"op2","external_name":"op2","restriction":""}],"args_string":"(env : Crinja, op1, op2)","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, op1, op2)","location":{"filename":"src/lib/operator/divide.cr","line_number":6,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":""},{"name":"op2","external_name":"op2","restriction":""}],"visibility":"Public","body":"if op1.number? && op2.number?\n  op1.to_f / op2.to_f\nelse\n  raise(Arguments::Error.new(self, \"Both operators need to be numeric\"))\nend"},"external_var":false}]},{"html_id":"crinja/Crinja/Operator/Equals","path":"Crinja/Operator/Equals.html","kind":"class","full_name":"Crinja::Operator::Equals","name":"Equals","abstract":false,"superclass":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"ancestors":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"},{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/operator/comparator.cr","line_number":2,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"}],"namespace":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/operator/comparator.cr","line_number":4,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/operator/comparator.cr","line_number":4,"url":null},"def":{"name":"name","visibility":"Public","body":"\"==\""},"external_var":false},{"html_id":"value(env:Crinja,op1:Value,op2:Value)-instance-method","name":"value","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"},{"name":"op2","external_name":"op2","restriction":"Value"}],"args_string":"(env : Crinja, op1 : Value, op2 : Value)","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, op1 : <a href=\"../../Crinja/Value.html\">Value</a>, op2 : <a href=\"../../Crinja/Value.html\">Value</a>)","location":{"filename":"src/lib/operator/comparator.cr","line_number":6,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"},{"name":"op2","external_name":"op2","restriction":"Value"}],"visibility":"Public","body":"begin\n  op1 == op2\nrescue TypeError\n  op1.raw == op2.raw\nend"},"external_var":false}]},{"html_id":"crinja/Crinja/Operator/GreaterThan","path":"Crinja/Operator/GreaterThan.html","kind":"class","full_name":"Crinja::Operator::GreaterThan","name":"GreaterThan","abstract":false,"superclass":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"ancestors":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"},{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/operator/comparator.cr","line_number":24,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"}],"namespace":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/operator/comparator.cr","line_number":26,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/operator/comparator.cr","line_number":26,"url":null},"def":{"name":"name","visibility":"Public","body":"\">\""},"external_var":false},{"html_id":"value(env:Crinja,op1:Value,op2:Value)-instance-method","name":"value","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"},{"name":"op2","external_name":"op2","restriction":"Value"}],"args_string":"(env : Crinja, op1 : Value, op2 : Value)","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, op1 : <a href=\"../../Crinja/Value.html\">Value</a>, op2 : <a href=\"../../Crinja/Value.html\">Value</a>)","location":{"filename":"src/lib/operator/comparator.cr","line_number":28,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"},{"name":"op2","external_name":"op2","restriction":"Value"}],"visibility":"Public","body":"op1 > op2"},"external_var":false}]},{"html_id":"crinja/Crinja/Operator/GreaterThanEquals","path":"Crinja/Operator/GreaterThanEquals.html","kind":"class","full_name":"Crinja::Operator::GreaterThanEquals","name":"GreaterThanEquals","abstract":false,"superclass":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"ancestors":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"},{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/operator/comparator.cr","line_number":33,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"}],"namespace":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/operator/comparator.cr","line_number":35,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/operator/comparator.cr","line_number":35,"url":null},"def":{"name":"name","visibility":"Public","body":"\">=\""},"external_var":false},{"html_id":"value(env:Crinja,op1:Value,op2:Value)-instance-method","name":"value","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"},{"name":"op2","external_name":"op2","restriction":"Value"}],"args_string":"(env : Crinja, op1 : Value, op2 : Value)","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, op1 : <a href=\"../../Crinja/Value.html\">Value</a>, op2 : <a href=\"../../Crinja/Value.html\">Value</a>)","location":{"filename":"src/lib/operator/comparator.cr","line_number":37,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"},{"name":"op2","external_name":"op2","restriction":"Value"}],"visibility":"Public","body":"op1 >= op2"},"external_var":false}]},{"html_id":"crinja/Crinja/Operator/IntDivide","path":"Crinja/Operator/IntDivide.html","kind":"class","full_name":"Crinja::Operator::IntDivide","name":"IntDivide","abstract":false,"superclass":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"ancestors":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"},{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/operator/int_divide.cr","line_number":2,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"}],"namespace":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/operator/int_divide.cr","line_number":4,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/operator/int_divide.cr","line_number":4,"url":null},"def":{"name":"name","visibility":"Public","body":"\"//\""},"external_var":false},{"html_id":"value(env:Crinja,op1,op2)-instance-method","name":"value","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":""},{"name":"op2","external_name":"op2","restriction":""}],"args_string":"(env : Crinja, op1, op2)","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, op1, op2)","location":{"filename":"src/lib/operator/int_divide.cr","line_number":6,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":""},{"name":"op2","external_name":"op2","restriction":""}],"visibility":"Public","body":"if op1.number? && op2.number?\n  op1.to_i // op2.to_i\nelse\n  raise(Arguments::Error.new(self, \"Both operators need to be numeric\"))\nend"},"external_var":false}]},{"html_id":"crinja/Crinja/Operator/Library","path":"Crinja/Operator/Library.html","kind":"class","full_name":"Crinja::Operator::Library","name":"Library","abstract":false,"superclass":{"html_id":"crinja/Crinja/FeatureLibrary","kind":"class","full_name":"Crinja::FeatureLibrary","name":"FeatureLibrary"},"ancestors":[{"html_id":"crinja/Crinja/FeatureLibrary","kind":"class","full_name":"Crinja::FeatureLibrary","name":"FeatureLibrary"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/operator.cr","line_number":32,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"class_methods":[{"html_id":"alias(from,to)-class-method","name":"alias","abstract":false,"args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""}],"args_string":"(from, to)","args_html":"(from, to)","location":{"filename":"src/lib/operator.cr","line_number":32,"url":null},"def":{"name":"alias","args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""}],"visibility":"Public","body":"@@aliases[from.to_s] = to.to_s"},"external_var":false},{"html_id":"defaults-class-method","name":"defaults","abstract":false,"def":{"name":"defaults","visibility":"Public","body":"@@defaults"},"external_var":false}],"constructors":[{"html_id":"new(register_defaults=true,disabled=[]ofString)-class-method","name":"new","doc":"Creates a new feature library.\nIf *register_defaults* is set to `false`, this library will be empty. Otherwise it is populated\nwith registered default features.\nA list of *disabled* features can be provided, if a feature name in this list is accessed,\nit will raise a `SecurityError`.","summary":"<p>Creates a new feature library.</p>","abstract":false,"args":[{"name":"register_defaults","default_value":"true","external_name":"register_defaults","restriction":""},{"name":"disabled","default_value":"[] of String","external_name":"disabled","restriction":""}],"args_string":"(register_defaults = true, disabled = [] of String)","args_html":"(register_defaults = <span class=\"n\">true</span>, disabled = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>)","location":{"filename":"src/lib/feature_library.cr","line_number":19,"url":null},"def":{"name":"new","args":[{"name":"register_defaults","default_value":"true","external_name":"register_defaults","restriction":""},{"name":"disabled","default_value":"[] of String","external_name":"disabled","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(register_defaults, disabled)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"register_defaults-instance-method","name":"register_defaults","doc":"Create a local method in a subclass to allow the usage of `previous_def`.","summary":"<p>Create a local method in a subclass to allow the usage of <code>previous_def</code>.</p>","abstract":false,"location":{"filename":"src/lib/operator.cr","line_number":33,"url":null},"def":{"name":"register_defaults","visibility":"Public","body":"previous_def()\n\nself << [Plus, Minus, Divide, IntDivide, Modulo, Multiply, Power, Tilde, Equals, NotEquals, GreaterThan, GreaterThanEquals, LowerThan, LowerThanEquals, And, Or, Not]\n"},"external_var":false}]},{"html_id":"crinja/Crinja/Operator/Logic","path":"Crinja/Operator/Logic.html","kind":"module","full_name":"Crinja::Operator::Logic","name":"Logic","abstract":false,"locations":[{"filename":"src/lib/operator.cr","line_number":55,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"including_types":[{"html_id":"crinja/Crinja/Operator/And","kind":"class","full_name":"Crinja::Operator::And","name":"And"},{"html_id":"crinja/Crinja/Operator/Or","kind":"class","full_name":"Crinja::Operator::Or","name":"Or"}],"namespace":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"instance_methods":[{"html_id":"binary?-instance-method","name":"binary?","abstract":false,"location":{"filename":"src/lib/operator.cr","line_number":56,"url":null},"def":{"name":"binary?","visibility":"Public","body":"true"},"external_var":false},{"html_id":"value(env:Crinja,op1:Value,&block:->Value)-instance-method","name":"value","abstract":true,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"}],"args_string":"(env : Crinja, op1 : Value, &block :  -> Value)","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, op1 : <a href=\"../../Crinja/Value.html\">Value</a>, &block :  -> <a href=\"../../Crinja/Value.html\">Value</a>)","location":{"filename":"src/lib/operator.cr","line_number":60,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"}],"yields":0,"block_arity":0,"block_arg":{"name":"block","external_name":"block","restriction":"(-> Value)"},"visibility":"Public","body":""},"external_var":false}]},{"html_id":"crinja/Crinja/Operator/LowerThan","path":"Crinja/Operator/LowerThan.html","kind":"class","full_name":"Crinja::Operator::LowerThan","name":"LowerThan","abstract":false,"superclass":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"ancestors":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"},{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/operator/comparator.cr","line_number":42,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"}],"namespace":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/operator/comparator.cr","line_number":44,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/operator/comparator.cr","line_number":44,"url":null},"def":{"name":"name","visibility":"Public","body":"\"<\""},"external_var":false},{"html_id":"value(env:Crinja,op1:Value,op2:Value)-instance-method","name":"value","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"},{"name":"op2","external_name":"op2","restriction":"Value"}],"args_string":"(env : Crinja, op1 : Value, op2 : Value)","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, op1 : <a href=\"../../Crinja/Value.html\">Value</a>, op2 : <a href=\"../../Crinja/Value.html\">Value</a>)","location":{"filename":"src/lib/operator/comparator.cr","line_number":46,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"},{"name":"op2","external_name":"op2","restriction":"Value"}],"visibility":"Public","body":"op1 < op2"},"external_var":false}]},{"html_id":"crinja/Crinja/Operator/LowerThanEquals","path":"Crinja/Operator/LowerThanEquals.html","kind":"class","full_name":"Crinja::Operator::LowerThanEquals","name":"LowerThanEquals","abstract":false,"superclass":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"ancestors":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"},{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/operator/comparator.cr","line_number":51,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"}],"namespace":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/operator/comparator.cr","line_number":53,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/operator/comparator.cr","line_number":53,"url":null},"def":{"name":"name","visibility":"Public","body":"\"<=\""},"external_var":false},{"html_id":"value(env:Crinja,op1:Value,op2:Value)-instance-method","name":"value","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"},{"name":"op2","external_name":"op2","restriction":"Value"}],"args_string":"(env : Crinja, op1 : Value, op2 : Value)","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, op1 : <a href=\"../../Crinja/Value.html\">Value</a>, op2 : <a href=\"../../Crinja/Value.html\">Value</a>)","location":{"filename":"src/lib/operator/comparator.cr","line_number":55,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"},{"name":"op2","external_name":"op2","restriction":"Value"}],"visibility":"Public","body":"op1 <= op2"},"external_var":false}]},{"html_id":"crinja/Crinja/Operator/Minus","path":"Crinja/Operator/Minus.html","kind":"class","full_name":"Crinja::Operator::Minus","name":"Minus","abstract":false,"superclass":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"ancestors":[{"html_id":"crinja/Crinja/Operator/Unary","kind":"module","full_name":"Crinja::Operator::Unary","name":"Unary"},{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"},{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/operator/minus.cr","line_number":2,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"},{"html_id":"crinja/Crinja/Operator/Unary","kind":"module","full_name":"Crinja::Operator::Unary","name":"Unary"}],"namespace":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/operator/minus.cr","line_number":5,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/operator/minus.cr","line_number":5,"url":null},"def":{"name":"name","visibility":"Public","body":"\"-\""},"external_var":false},{"html_id":"value(env,op1,op2)-instance-method","name":"value","abstract":false,"args":[{"name":"env","external_name":"env","restriction":""},{"name":"op1","external_name":"op1","restriction":""},{"name":"op2","external_name":"op2","restriction":""}],"args_string":"(env, op1, op2)","args_html":"(env, op1, op2)","location":{"filename":"src/lib/operator/minus.cr","line_number":7,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":""},{"name":"op1","external_name":"op1","restriction":""},{"name":"op2","external_name":"op2","restriction":""}],"visibility":"Public","body":"if op1.number? && op2.number?\n  op1.as_number - op2.as_number\nelse\n  raise(Arguments::Error.new(self, \"Both operators need to be numeric\"))\nend"},"external_var":false},{"html_id":"value(env,op)-instance-method","name":"value","abstract":false,"args":[{"name":"env","external_name":"env","restriction":""},{"name":"op","external_name":"op","restriction":""}],"args_string":"(env, op)","args_html":"(env, op)","location":{"filename":"src/lib/operator/minus.cr","line_number":15,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":""},{"name":"op","external_name":"op","restriction":""}],"visibility":"Public","body":"if op.number?\n  op.as_number * -1\nelse\n  raise(Arguments::Error.new(self, \"Operators needs to be numeric\"))\nend"},"external_var":false}]},{"html_id":"crinja/Crinja/Operator/Modulo","path":"Crinja/Operator/Modulo.html","kind":"class","full_name":"Crinja::Operator::Modulo","name":"Modulo","abstract":false,"superclass":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"ancestors":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"},{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/operator/modulo.cr","line_number":2,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"}],"namespace":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/operator/modulo.cr","line_number":4,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/operator/modulo.cr","line_number":4,"url":null},"def":{"name":"name","visibility":"Public","body":"\"%\""},"external_var":false},{"html_id":"value(env:Crinja,op1,op2)-instance-method","name":"value","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":""},{"name":"op2","external_name":"op2","restriction":""}],"args_string":"(env : Crinja, op1, op2)","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, op1, op2)","location":{"filename":"src/lib/operator/modulo.cr","line_number":6,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":""},{"name":"op2","external_name":"op2","restriction":""}],"visibility":"Public","body":"if op1.number? && op2.number?\n  op1.to_i % op2.to_i\nelse\n  raise(Arguments::Error.new(self, \"Both operators need to be numeric\"))\nend"},"external_var":false}]},{"html_id":"crinja/Crinja/Operator/Multiply","path":"Crinja/Operator/Multiply.html","kind":"class","full_name":"Crinja::Operator::Multiply","name":"Multiply","abstract":false,"superclass":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"ancestors":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"},{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/operator/multiply.cr","line_number":2,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"}],"namespace":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/operator/multiply.cr","line_number":4,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/operator/multiply.cr","line_number":4,"url":null},"def":{"name":"name","visibility":"Public","body":"\"*\""},"external_var":false},{"html_id":"value(env:Crinja,op1,op2)-instance-method","name":"value","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":""},{"name":"op2","external_name":"op2","restriction":""}],"args_string":"(env : Crinja, op1, op2)","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, op1, op2)","location":{"filename":"src/lib/operator/multiply.cr","line_number":6,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":""},{"name":"op2","external_name":"op2","restriction":""}],"visibility":"Public","body":"if op1.number? && op2.number?\n  op1.as_number * op2.as_number\nelsif op1.raw.is_a?(String) && op2.raw.is_a?(Float64 | Int32)\n  (op1.raw.as(String)) * op2.to_i\nelse\n  raise(Arguments::Error.new(self, \"Both operators need to be numeric\"))\nend"},"external_var":false}]},{"html_id":"crinja/Crinja/Operator/Not","path":"Crinja/Operator/Not.html","kind":"class","full_name":"Crinja::Operator::Not","name":"Not","abstract":false,"superclass":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"ancestors":[{"html_id":"crinja/Crinja/Operator/Unary","kind":"module","full_name":"Crinja::Operator::Unary","name":"Unary"},{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/operator/logic.cr","line_number":20,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Operator/Unary","kind":"module","full_name":"Crinja::Operator::Unary","name":"Unary"}],"namespace":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/operator/logic.cr","line_number":22,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/operator/logic.cr","line_number":22,"url":null},"def":{"name":"name","visibility":"Public","body":"\"not\""},"external_var":false},{"html_id":"value(env:Crinja,op:Value):Value-instance-method","name":"value","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op","external_name":"op","restriction":"Value"}],"args_string":"(env : Crinja, op : Value) : Value","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, op : <a href=\"../../Crinja/Value.html\">Value</a>) : <a href=\"../../Crinja/Value.html\">Value</a>","location":{"filename":"src/lib/operator/logic.cr","line_number":24,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op","external_name":"op","restriction":"Value"}],"return_type":"Value","visibility":"Public","body":"Value.new(!op.truthy?)"},"external_var":false}]},{"html_id":"crinja/Crinja/Operator/NotEquals","path":"Crinja/Operator/NotEquals.html","kind":"class","full_name":"Crinja::Operator::NotEquals","name":"NotEquals","abstract":false,"superclass":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"ancestors":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"},{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/operator/comparator.cr","line_number":13,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"}],"namespace":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/operator/comparator.cr","line_number":15,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/operator/comparator.cr","line_number":15,"url":null},"def":{"name":"name","visibility":"Public","body":"\"!=\""},"external_var":false},{"html_id":"value(env:Crinja,op1:Value,op2:Value)-instance-method","name":"value","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"},{"name":"op2","external_name":"op2","restriction":"Value"}],"args_string":"(env : Crinja, op1 : Value, op2 : Value)","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, op1 : <a href=\"../../Crinja/Value.html\">Value</a>, op2 : <a href=\"../../Crinja/Value.html\">Value</a>)","location":{"filename":"src/lib/operator/comparator.cr","line_number":17,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"},{"name":"op2","external_name":"op2","restriction":"Value"}],"visibility":"Public","body":"begin\n  op1 != op2\nrescue TypeError\n  op1.raw != op2.raw\nend"},"external_var":false}]},{"html_id":"crinja/Crinja/Operator/Or","path":"Crinja/Operator/Or.html","kind":"class","full_name":"Crinja::Operator::Or","name":"Or","abstract":false,"superclass":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"ancestors":[{"html_id":"crinja/Crinja/Operator/Logic","kind":"module","full_name":"Crinja::Operator::Logic","name":"Logic"},{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/operator/logic.cr","line_number":11,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Operator/Logic","kind":"module","full_name":"Crinja::Operator::Logic","name":"Logic"}],"namespace":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/operator/logic.cr","line_number":13,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/operator/logic.cr","line_number":13,"url":null},"def":{"name":"name","visibility":"Public","body":"\"or\""},"external_var":false},{"html_id":"value(env:Crinja,op1:Value,&op2:->Value):Value-instance-method","name":"value","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"}],"args_string":"(env : Crinja, op1 : Value, &op2 :  -> Value) : Value","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, op1 : <a href=\"../../Crinja/Value.html\">Value</a>, &op2 :  -> <a href=\"../../Crinja/Value.html\">Value</a>) : <a href=\"../../Crinja/Value.html\">Value</a>","location":{"filename":"src/lib/operator/logic.cr","line_number":15,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"}],"yields":0,"block_arity":0,"block_arg":{"name":"op2","external_name":"op2","restriction":"(-> Value)"},"return_type":"Value","visibility":"Public","body":"Value.new(!(!(op1.truthy? || op2.call.truthy?)))"},"external_var":false}]},{"html_id":"crinja/Crinja/Operator/Plus","path":"Crinja/Operator/Plus.html","kind":"class","full_name":"Crinja::Operator::Plus","name":"Plus","abstract":false,"superclass":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"ancestors":[{"html_id":"crinja/Crinja/Operator/Unary","kind":"module","full_name":"Crinja::Operator::Unary","name":"Unary"},{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"},{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/operator/plus.cr","line_number":2,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"},{"html_id":"crinja/Crinja/Operator/Unary","kind":"module","full_name":"Crinja::Operator::Unary","name":"Unary"}],"namespace":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/operator/plus.cr","line_number":5,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/operator/plus.cr","line_number":5,"url":null},"def":{"name":"name","visibility":"Public","body":"\"+\""},"external_var":false},{"html_id":"value(env:Crinja,op1:Value,op2:Value)-instance-method","name":"value","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"},{"name":"op2","external_name":"op2","restriction":"Value"}],"args_string":"(env : Crinja, op1 : Value, op2 : Value)","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, op1 : <a href=\"../../Crinja/Value.html\">Value</a>, op2 : <a href=\"../../Crinja/Value.html\">Value</a>)","location":{"filename":"src/lib/operator/plus.cr","line_number":7,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":"Value"},{"name":"op2","external_name":"op2","restriction":"Value"}],"visibility":"Public","body":"if op1.number? && op2.number?\n  op1.as_number + op2.as_number\nelsif op1.raw.is_a?(Array)\n  adding = op2.raw\n  if adding.is_a?(Array)\n    op1.as_a + adding\n  else\n    op1.as_a << (Value.new(adding))\n  end\nelse\n  op1.to_s + op2.to_s\nend"},"external_var":false},{"html_id":"value(env,op)-instance-method","name":"value","abstract":false,"args":[{"name":"env","external_name":"env","restriction":""},{"name":"op","external_name":"op","restriction":""}],"args_string":"(env, op)","args_html":"(env, op)","location":{"filename":"src/lib/operator/plus.cr","line_number":22,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":""},{"name":"op","external_name":"op","restriction":""}],"visibility":"Public","body":"if op.number?\n  op.as_number\nelse\n  raise(Arguments::Error.new(self, \"Operators needs to be numeric\"))\nend"},"external_var":false}]},{"html_id":"crinja/Crinja/Operator/Power","path":"Crinja/Operator/Power.html","kind":"class","full_name":"Crinja::Operator::Power","name":"Power","abstract":false,"superclass":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"ancestors":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"},{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/operator/power.cr","line_number":2,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"}],"namespace":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/operator/power.cr","line_number":4,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/operator/power.cr","line_number":4,"url":null},"def":{"name":"name","visibility":"Public","body":"\"**\""},"external_var":false},{"html_id":"value(env:Crinja,op1,op2)-instance-method","name":"value","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":""},{"name":"op2","external_name":"op2","restriction":""}],"args_string":"(env : Crinja, op1, op2)","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, op1, op2)","location":{"filename":"src/lib/operator/power.cr","line_number":6,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":""},{"name":"op2","external_name":"op2","restriction":""}],"visibility":"Public","body":"if op1.number? && op2.number?\n  base = op1.as_number\n  power = op2.as_number\n  if power < 0\n    base ** power.to_f\n  else\n    base ** power\n  end\nelse\n  raise(Arguments::Error.new(self, \"Both operators need to be numeric\"))\nend"},"external_var":false}]},{"html_id":"crinja/Crinja/Operator/Tilde","path":"Crinja/Operator/Tilde.html","kind":"class","full_name":"Crinja::Operator::Tilde","name":"Tilde","abstract":false,"superclass":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"ancestors":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"},{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/operator/tilde.cr","line_number":2,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Operator/Binary","kind":"module","full_name":"Crinja::Operator::Binary","name":"Binary"}],"namespace":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/operator/tilde.cr","line_number":4,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/operator/tilde.cr","line_number":4,"url":null},"def":{"name":"name","visibility":"Public","body":"\"~\""},"external_var":false},{"html_id":"value(env:Crinja,op1,op2)-instance-method","name":"value","abstract":false,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":""},{"name":"op2","external_name":"op2","restriction":""}],"args_string":"(env : Crinja, op1, op2)","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, op1, op2)","location":{"filename":"src/lib/operator/tilde.cr","line_number":6,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op1","external_name":"op1","restriction":""},{"name":"op2","external_name":"op2","restriction":""}],"visibility":"Public","body":"op1.to_s + op2.to_s"},"external_var":false}]},{"html_id":"crinja/Crinja/Operator/Unary","path":"Crinja/Operator/Unary.html","kind":"module","full_name":"Crinja::Operator::Unary","name":"Unary","abstract":false,"locations":[{"filename":"src/lib/operator.cr","line_number":47,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"including_types":[{"html_id":"crinja/Crinja/Operator/Minus","kind":"class","full_name":"Crinja::Operator::Minus","name":"Minus"},{"html_id":"crinja/Crinja/Operator/Not","kind":"class","full_name":"Crinja::Operator::Not","name":"Not"},{"html_id":"crinja/Crinja/Operator/Plus","kind":"class","full_name":"Crinja::Operator::Plus","name":"Plus"}],"namespace":{"html_id":"crinja/Crinja/Operator","kind":"class","full_name":"Crinja::Operator","name":"Operator"},"instance_methods":[{"html_id":"unary?-instance-method","name":"unary?","abstract":false,"location":{"filename":"src/lib/operator.cr","line_number":48,"url":null},"def":{"name":"unary?","visibility":"Public","body":"true"},"external_var":false},{"html_id":"value(env:Crinja,op:Value)-instance-method","name":"value","abstract":true,"args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op","external_name":"op","restriction":"Value"}],"args_string":"(env : Crinja, op : Value)","args_html":"(env : <a href=\"../../Crinja.html\">Crinja</a>, op : <a href=\"../../Crinja/Value.html\">Value</a>)","location":{"filename":"src/lib/operator.cr","line_number":52,"url":null},"def":{"name":"value","args":[{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"op","external_name":"op","restriction":"Value"}],"visibility":"Public","body":""},"external_var":false}]}]},{"html_id":"crinja/Crinja/Raw","path":"Crinja/Raw.html","kind":"alias","full_name":"Crinja::Raw","name":"Raw","abstract":false,"locations":[{"filename":"src/runtime/value.cr","line_number":16,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":true,"aliased":"(Array(Crinja::Value) | Bool | Crinja::Callable | Crinja::Object | Crinja::SafeString | Crinja::Undefined | Float64 | Hash(Crinja::Value, Crinja::Value) | Int32 | Int64 | Iterator(Crinja::Value) | Proc(Crinja::Arguments, Crinja::Value) | String | Time | Nil)","aliased_html":"Array(<a href=\"../Crinja/Value.html\">Crinja::Value</a>) | Bool | <a href=\"../Crinja/Callable.html\">Crinja::Callable</a> | <a href=\"../Crinja/Object.html\">Crinja::Object</a> | <a href=\"../Crinja/SafeString.html\">Crinja::SafeString</a> | <a href=\"../Crinja/Undefined.html\">Crinja::Undefined</a> | Float64 | Hash(<a href=\"../Crinja/Value.html\">Crinja::Value</a>, <a href=\"../Crinja/Value.html\">Crinja::Value</a>) | Int32 | Int64 | Iterator(<a href=\"../Crinja/Value.html\">Crinja::Value</a>) | <a href=\"../Crinja/Arguments.html\">Crinja::Arguments</a> -> <a href=\"../Crinja/Value.html\">Crinja::Value</a> | <a href=\"../String.html\">String</a> | Time | Nil","const":false,"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"doc":"Raw type wrapped by `Value`.","summary":"<p>Raw type wrapped by <code>Value</code>.</p>"},{"html_id":"crinja/Crinja/Resolver","path":"Crinja/Resolver.html","kind":"module","full_name":"Crinja::Resolver","name":"Resolver","abstract":false,"locations":[{"filename":"src/runtime/resolver.cr","line_number":1,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"including_types":[{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"}],"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"class_methods":[{"html_id":"resolve_attribute(name,object:Value):Value-class-method","name":"resolve_attribute","doc":"Resolves an objects attribute. Tries `resolve_getattr`.\nAnalogous to `getattr` in Jinja2.","summary":"<p>Resolves an objects attribute.</p>","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""},{"name":"object","external_name":"object","restriction":"Value"}],"args_string":"(name, object : Value) : Value","args_html":"(name, object : <a href=\"../Crinja/Value.html\">Value</a>) : <a href=\"../Crinja/Value.html\">Value</a>","location":{"filename":"src/runtime/resolver.cr","line_number":4,"url":null},"def":{"name":"resolve_attribute","args":[{"name":"name","external_name":"name","restriction":""},{"name":"object","external_name":"object","restriction":"Value"}],"return_type":"Value","visibility":"Public","body":"if object.undefined?\n  raise(UndefinedError.new(name.to_s))\nend\n\nvalue = self.resolve_getattr(name, object)\n\nif value.undefined?\n  if object.indexable? && (name.responds_to?(:to_i))\n    if v = object[name.to_i]?\n      return Value.new(v)\n    end\n  end\nend\n\nvalue\n"},"external_var":false},{"html_id":"resolve_attribute(name,value):Value-class-method","name":"resolve_attribute","doc":"Resolves an objects attribute. Tries `resolve_getattr`.\nAnalogous to `getattr` in Jinja2.","summary":"<p>Resolves an objects attribute.</p>","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""},{"name":"value","external_name":"value","restriction":""}],"args_string":"(name, value) : Value","args_html":"(name, value) : <a href=\"../Crinja/Value.html\">Value</a>","location":{"filename":"src/runtime/resolver.cr","line_number":21,"url":null},"def":{"name":"resolve_attribute","args":[{"name":"name","external_name":"name","restriction":""},{"name":"value","external_name":"value","restriction":""}],"return_type":"Value","visibility":"Public","body":"self.resolve_attribute(name, Value.new(value))"},"external_var":false},{"html_id":"resolve_dig(name:String,object):Value-class-method","name":"resolve_dig","doc":"Resolves a dig.","summary":"<p>Resolves a dig.</p>","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"object","external_name":"object","restriction":""}],"args_string":"(name : String, object) : Value","args_html":"(name : <a href=\"../String.html\">String</a>, object) : <a href=\"../Crinja/Value.html\">Value</a>","location":{"filename":"src/runtime/resolver.cr","line_number":70,"url":null},"def":{"name":"resolve_dig","args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"object","external_name":"object","restriction":""}],"return_type":"Value","visibility":"Public","body":"identifier, _, rest = name.partition('.')\n\nresolved = resolve_attribute(identifier, object)\nif rest != \"\"\n  resolve_dig(rest, resolved)\nelse\n  resolved\nend\n"},"external_var":false},{"html_id":"resolve_dig(name:Value,value:Value):Value-class-method","name":"resolve_dig","doc":"Resolves a dig.","summary":"<p>Resolves a dig.</p>","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"Value"},{"name":"value","external_name":"value","restriction":"Value"}],"args_string":"(name : Value, value : Value) : Value","args_html":"(name : <a href=\"../Crinja/Value.html\">Value</a>, value : <a href=\"../Crinja/Value.html\">Value</a>) : <a href=\"../Crinja/Value.html\">Value</a>","location":{"filename":"src/runtime/resolver.cr","line_number":87,"url":null},"def":{"name":"resolve_dig","args":[{"name":"name","external_name":"name","restriction":"Value"},{"name":"value","external_name":"value","restriction":"Value"}],"return_type":"Value","visibility":"Public","body":"self.resolve_dig(name.to_s, value.raw)"},"external_var":false},{"html_id":"resolve_dig(name,object):Value-class-method","name":"resolve_dig","doc":"Resolves a dig.","summary":"<p>Resolves a dig.</p>","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""},{"name":"object","external_name":"object","restriction":""}],"args_string":"(name, object) : Value","args_html":"(name, object) : <a href=\"../Crinja/Value.html\">Value</a>","location":{"filename":"src/runtime/resolver.cr","line_number":82,"url":null},"def":{"name":"resolve_dig","args":[{"name":"name","external_name":"name","restriction":""},{"name":"object","external_name":"object","restriction":""}],"return_type":"Value","visibility":"Public","body":"resolve_attribute(name, object)"},"external_var":false},{"html_id":"resolve_getattr(name:Value,value:Value):Value-class-method","name":"resolve_getattr","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"Value"},{"name":"value","external_name":"value","restriction":"Value"}],"args_string":"(name : Value, value : Value) : Value","args_html":"(name : <a href=\"../Crinja/Value.html\">Value</a>, value : <a href=\"../Crinja/Value.html\">Value</a>) : <a href=\"../Crinja/Value.html\">Value</a>","location":{"filename":"src/runtime/resolver.cr","line_number":25,"url":null},"def":{"name":"resolve_getattr","args":[{"name":"name","external_name":"name","restriction":"Value"},{"name":"value","external_name":"value","restriction":"Value"}],"return_type":"Value","visibility":"Public","body":"object = value.raw\nif object.responds_to?(:crinja_attribute)\n  Value.new(object.crinja_attribute(name))\nelse\n  self.resolve_with_hash_accessor(name, value)\nend\n"},"external_var":false},{"html_id":"resolve_getattr(name,value):Value-class-method","name":"resolve_getattr","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""},{"name":"value","external_name":"value","restriction":""}],"args_string":"(name, value) : Value","args_html":"(name, value) : <a href=\"../Crinja/Value.html\">Value</a>","location":{"filename":"src/runtime/resolver.cr","line_number":35,"url":null},"def":{"name":"resolve_getattr","args":[{"name":"name","external_name":"name","restriction":""},{"name":"value","external_name":"value","restriction":""}],"return_type":"Value","visibility":"Public","body":"resolve_getattr(Value.new(name), Value.new(value))"},"external_var":false},{"html_id":"resolve_method(name,value:Value):Callable|Callable::Proc|Nil-class-method","name":"resolve_method","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""},{"name":"value","external_name":"value","restriction":"Value"}],"args_string":"(name, value : Value) : Callable | Callable::Proc | Nil","args_html":"(name, value : <a href=\"../Crinja/Value.html\">Value</a>) : <a href=\"../Crinja/Callable.html\">Callable</a> | <a href=\"../Crinja/Callable/Proc.html\">Callable::Proc</a> | Nil","location":{"filename":"src/runtime/resolver.cr","line_number":49,"url":null},"def":{"name":"resolve_method","args":[{"name":"name","external_name":"name","restriction":""},{"name":"value","external_name":"value","restriction":"Value"}],"return_type":"Callable | Callable::Proc | ::Nil","visibility":"Public","body":"self.resolve_method(name, value.raw)"},"external_var":false},{"html_id":"resolve_method(name,object):Callable|Callable::Proc|Nil-class-method","name":"resolve_method","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""},{"name":"object","external_name":"object","restriction":""}],"args_string":"(name, object) : Callable | Callable::Proc | Nil","args_html":"(name, object) : <a href=\"../Crinja/Callable.html\">Callable</a> | <a href=\"../Crinja/Callable/Proc.html\">Callable::Proc</a> | Nil","location":{"filename":"src/runtime/resolver.cr","line_number":39,"url":null},"def":{"name":"resolve_method","args":[{"name":"name","external_name":"name","restriction":""},{"name":"object","external_name":"object","restriction":""}],"return_type":"Callable | Callable::Proc | ::Nil","visibility":"Public","body":"if (object.responds_to?(:crinja_call)) && (callable = object.crinja_call(name))\n  return (->(arguments : Arguments) do\n    Value.new(callable.not_nil!.call(arguments))\n  end).as(Callable::Proc)\nend"},"external_var":false},{"html_id":"resolve_with_hash_accessor(name:Value,value:Value):Value-class-method","name":"resolve_with_hash_accessor","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"Value"},{"name":"value","external_name":"value","restriction":"Value"}],"args_string":"(name : Value, value : Value) : Value","args_html":"(name : <a href=\"../Crinja/Value.html\">Value</a>, value : <a href=\"../Crinja/Value.html\">Value</a>) : <a href=\"../Crinja/Value.html\">Value</a>","location":{"filename":"src/runtime/resolver.cr","line_number":53,"url":null},"def":{"name":"resolve_with_hash_accessor","args":[{"name":"name","external_name":"name","restriction":"Value"},{"name":"value","external_name":"value","restriction":"Value"}],"return_type":"Value","visibility":"Public","body":"object = value.raw\nif ((((object.responds_to?(:[]?)) && (!object.is_a?(Array))) && (!object.is_a?(Crinja::Tuple))) && (!object.is_a?(String | SafeString))) && (!object.is_a?(Proc))\n  if value = object[name.to_s]?\n    return Value.new(value)\n  end\nend\n\nValue.new(Undefined.new(name.to_s))\n"},"external_var":false},{"html_id":"resolve_with_hash_accessor(name,value:Value):Value-class-method","name":"resolve_with_hash_accessor","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""},{"name":"value","external_name":"value","restriction":"Value"}],"args_string":"(name, value : Value) : Value","args_html":"(name, value : <a href=\"../Crinja/Value.html\">Value</a>) : <a href=\"../Crinja/Value.html\">Value</a>","location":{"filename":"src/runtime/resolver.cr","line_number":65,"url":null},"def":{"name":"resolve_with_hash_accessor","args":[{"name":"name","external_name":"name","restriction":""},{"name":"value","external_name":"value","restriction":"Value"}],"return_type":"Value","visibility":"Public","body":"self.resolve_with_hash_accessor(name, value.raw)"},"external_var":false}],"instance_methods":[{"html_id":"call_filter(name:String,target:Value,varargs=[]ofValue,kwargs=Variables.new):Value-instance-method","name":"call_filter","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"target","external_name":"target","restriction":"Value"},{"name":"varargs","default_value":"[] of Value","external_name":"varargs","restriction":""},{"name":"kwargs","default_value":"Variables.new","external_name":"kwargs","restriction":""}],"args_string":"(name : String, target : Value, varargs = [] of Value, kwargs = Variables.new) : Value","args_html":"(name : <a href=\"../String.html\">String</a>, target : <a href=\"../Crinja/Value.html\">Value</a>, varargs = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Value</span>, kwargs = <span class=\"t\">Variables</span>.new) : <a href=\"../Crinja/Value.html\">Value</a>","location":{"filename":"src/runtime/resolver.cr","line_number":121,"url":null},"def":{"name":"call_filter","args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"target","external_name":"target","restriction":"Value"},{"name":"varargs","default_value":"[] of Value","external_name":"varargs","restriction":""},{"name":"kwargs","default_value":"Variables.new","external_name":"kwargs","restriction":""}],"return_type":"Value","visibility":"Public","body":"execute_call(filters[name], varargs, kwargs, target: target)"},"external_var":false},{"html_id":"call_filter(name:String,target):Value-instance-method","name":"call_filter","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"target","external_name":"target","restriction":""}],"args_string":"(name : String, target) : Value","args_html":"(name : <a href=\"../String.html\">String</a>, target) : <a href=\"../Crinja/Value.html\">Value</a>","location":{"filename":"src/runtime/resolver.cr","line_number":117,"url":null},"def":{"name":"call_filter","args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"target","external_name":"target","restriction":""}],"return_type":"Value","visibility":"Public","body":"call_filter(name, Value.new(target))"},"external_var":false},{"html_id":"execute_call(callable,varargs:Array(Value)=[]ofValue,kwargs:Variables=Variables.new,target:Value|Nil=nil):Value-instance-method","name":"execute_call","abstract":false,"args":[{"name":"callable","external_name":"callable","restriction":""},{"name":"varargs","default_value":"[] of Value","external_name":"varargs","restriction":"Array(Value)"},{"name":"kwargs","default_value":"Variables.new","external_name":"kwargs","restriction":"Variables"},{"name":"target","default_value":"nil","external_name":"target","restriction":"Value | ::Nil"}],"args_string":"(callable, varargs : Array(Value) = [] of Value, kwargs : Variables = Variables.new, target : Value | Nil = nil) : Value","args_html":"(callable, varargs : Array(<a href=\"../Crinja/Value.html\">Value</a>) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Value</span>, kwargs : <a href=\"../Crinja/Variables.html\">Variables</a> = <span class=\"t\">Variables</span>.new, target : <a href=\"../Crinja/Value.html\">Value</a> | Nil = <span class=\"n\">nil</span>) : <a href=\"../Crinja/Value.html\">Value</a>","location":{"filename":"src/runtime/resolver.cr","line_number":100,"url":null},"def":{"name":"execute_call","args":[{"name":"callable","external_name":"callable","restriction":""},{"name":"varargs","default_value":"[] of Value","external_name":"varargs","restriction":"Array(Value)"},{"name":"kwargs","default_value":"Variables.new","external_name":"kwargs","restriction":"Variables"},{"name":"target","default_value":"nil","external_name":"target","restriction":"Value | ::Nil"}],"return_type":"Value","visibility":"Public","body":"arguments = Arguments.new(self, varargs, kwargs, target: target)\ncallable = resolve_callable!(callable)\nexecute_call(callable, arguments)\n"},"external_var":false},{"html_id":"execute_call(callable:Callable|Callable::Proc,arguments:Arguments):Value-instance-method","name":"execute_call","abstract":false,"args":[{"name":"callable","external_name":"callable","restriction":"Callable | Callable::Proc"},{"name":"arguments","external_name":"arguments","restriction":"Arguments"}],"args_string":"(callable : Callable | Callable::Proc, arguments : Arguments) : Value","args_html":"(callable : <a href=\"../Crinja/Callable.html\">Callable</a> | <a href=\"../Crinja/Callable/Proc.html\">Callable::Proc</a>, arguments : <a href=\"../Crinja/Arguments.html\">Arguments</a>) : <a href=\"../Crinja/Value.html\">Value</a>","location":{"filename":"src/runtime/resolver.cr","line_number":109,"url":null},"def":{"name":"execute_call","args":[{"name":"callable","external_name":"callable","restriction":"Callable | Callable::Proc"},{"name":"arguments","external_name":"arguments","restriction":"Arguments"}],"return_type":"Value","visibility":"Public","body":"if callable.responds_to?(:defaults)\n  arguments.defaults = callable.defaults\nend\n\nValue.new(callable.call(arguments))\n"},"external_var":false},{"html_id":"resolve(name:String):Value-instance-method","name":"resolve","doc":"Resolves a variable in the current context.","summary":"<p>Resolves a variable in the current context.</p>","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"}],"args_string":"(name : String) : Value","args_html":"(name : <a href=\"../String.html\">String</a>) : <a href=\"../Crinja/Value.html\">Value</a>","location":{"filename":"src/runtime/resolver.cr","line_number":92,"url":null},"def":{"name":"resolve","args":[{"name":"name","external_name":"name","restriction":"String"}],"return_type":"Value","visibility":"Public","body":"if functions.has_key?(name)\n  Value.new(functions[name])\nelse\n  context[name]\nend"},"external_var":false},{"html_id":"resolve_callable(identifier):Value-instance-method","name":"resolve_callable","abstract":false,"args":[{"name":"identifier","external_name":"identifier","restriction":""}],"args_string":"(identifier) : Value","args_html":"(identifier) : <a href=\"../Crinja/Value.html\">Value</a>","location":{"filename":"src/runtime/resolver.cr","line_number":125,"url":null},"def":{"name":"resolve_callable","args":[{"name":"identifier","external_name":"identifier","restriction":""}],"return_type":"Value","visibility":"Public","body":"identifier = identifier.to_s\nif context.has_macro?(identifier)\n  Value.new(context.macro(identifier))\nelse\n  resolve(identifier)\nend\n"},"external_var":false},{"html_id":"resolve_callable!(identifier:Callable|Callable::Proc):Callable|Callable::Proc-instance-method","name":"resolve_callable!","abstract":false,"args":[{"name":"identifier","external_name":"identifier","restriction":"Callable | Callable::Proc"}],"args_string":"(identifier : Callable | Callable::Proc) : Callable | Callable::Proc","args_html":"(identifier : <a href=\"../Crinja/Callable.html\">Callable</a> | <a href=\"../Crinja/Callable/Proc.html\">Callable::Proc</a>) : <a href=\"../Crinja/Callable.html\">Callable</a> | <a href=\"../Crinja/Callable/Proc.html\">Callable::Proc</a>","location":{"filename":"src/runtime/resolver.cr","line_number":134,"url":null},"def":{"name":"resolve_callable!","args":[{"name":"identifier","external_name":"identifier","restriction":"Callable | Callable::Proc"}],"return_type":"Callable | Callable::Proc","visibility":"Public","body":"identifier"},"external_var":false},{"html_id":"resolve_callable!(identifier:Value):Callable|Callable::Proc-instance-method","name":"resolve_callable!","abstract":false,"args":[{"name":"identifier","external_name":"identifier","restriction":"Value"}],"args_string":"(identifier : Value) : Callable | Callable::Proc","args_html":"(identifier : <a href=\"../Crinja/Value.html\">Value</a>) : <a href=\"../Crinja/Callable.html\">Callable</a> | <a href=\"../Crinja/Callable/Proc.html\">Callable::Proc</a>","location":{"filename":"src/runtime/resolver.cr","line_number":138,"url":null},"def":{"name":"resolve_callable!","args":[{"name":"identifier","external_name":"identifier","restriction":"Value"}],"return_type":"Callable | Callable::Proc","visibility":"Public","body":"if identifier.callable?\n  return identifier.as_callable.as(Callable | Callable::Proc)\nend\n\ncallable = resolve_callable(identifier)\n\nif callable.undefined?\n  raise(TypeError.new(callable, \"#{identifier.as_undefined.name} is undefined\"))\nend\n\nif callable.callable?\n  return callable.as_callable.as(Callable | Callable::Proc)\nelse\n  raise(TypeError.new(callable, \"`#{identifier.inspect}` is not callable\"))\nend\n"},"external_var":false}]},{"html_id":"crinja/Crinja/RuntimeError","path":"Crinja/RuntimeError.html","kind":"class","full_name":"Crinja::RuntimeError","name":"RuntimeError","abstract":false,"superclass":{"html_id":"crinja/Crinja/Error","kind":"class","full_name":"Crinja::Error","name":"Error"},"ancestors":[{"html_id":"crinja/Crinja/Error","kind":"class","full_name":"Crinja::Error","name":"Error"},{"html_id":"crinja/Crinja/SourceAttached","kind":"module","full_name":"Crinja::SourceAttached","name":"SourceAttached"},{"html_id":"crinja/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/error.cr","line_number":134,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"crinja/Crinja/Arguments/Error","kind":"class","full_name":"Crinja::Arguments::Error","name":"Error"},{"html_id":"crinja/Crinja/Arguments/UnknownArgumentError","kind":"class","full_name":"Crinja::Arguments::UnknownArgumentError","name":"UnknownArgumentError"},{"html_id":"crinja/Crinja/Context/TagCycleException","kind":"class","full_name":"Crinja::Context::TagCycleException","name":"TagCycleException"},{"html_id":"crinja/Crinja/FeatureLibrary/UnknownFeatureError","kind":"class","full_name":"Crinja::FeatureLibrary::UnknownFeatureError","name":"UnknownFeatureError"},{"html_id":"crinja/Crinja/SecurityError","kind":"class","full_name":"Crinja::SecurityError","name":"SecurityError"},{"html_id":"crinja/Crinja/TypeError","kind":"class","full_name":"Crinja::TypeError","name":"TypeError"},{"html_id":"crinja/Crinja/UndefinedError","kind":"class","full_name":"Crinja::UndefinedError","name":"UndefinedError"}],"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"}},{"html_id":"crinja/Crinja/SafeString","path":"Crinja/SafeString.html","kind":"struct","full_name":"Crinja::SafeString","name":"SafeString","abstract":false,"superclass":{"html_id":"crinja/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"crinja/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"crinja/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/runtime/safe_string.cr","line_number":4,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"NIL","name":"NIL","value":"plain(nil)"}],"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"class_methods":[{"html_id":"build(&)-class-method","name":"build","abstract":false,"location":{"filename":"src/runtime/safe_string.cr","line_number":116,"url":null},"def":{"name":"build","yields":1,"block_arity":1,"visibility":"Public","body":"new(String.build do |io|\n  yield io\nend)"},"external_var":false},{"html_id":"escape(value:Nil)-class-method","name":"escape","doc":"Escapes value and wraps it in a `SafeString`.","summary":"<p>Escapes value and wraps it in a <code><a href=\"../Crinja/SafeString.html\">SafeString</a></code>.</p>","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"Nil"}],"args_string":"(value : Nil)","args_html":"(value : Nil)","location":{"filename":"src/runtime/safe_string.cr","line_number":135,"url":null},"def":{"name":"escape","args":[{"name":"value","external_name":"value","restriction":"Nil"}],"visibility":"Public","body":"NIL"},"external_var":false},{"html_id":"escape(value:SafeString)-class-method","name":"escape","doc":"Escapes value and wraps it in a `SafeString`.","summary":"<p>Escapes value and wraps it in a <code><a href=\"../Crinja/SafeString.html\">SafeString</a></code>.</p>","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"SafeString"}],"args_string":"(value : SafeString)","args_html":"(value : <a href=\"../Crinja/SafeString.html\">SafeString</a>)","location":{"filename":"src/runtime/safe_string.cr","line_number":140,"url":null},"def":{"name":"escape","args":[{"name":"value","external_name":"value","restriction":"SafeString"}],"visibility":"Public","body":"value"},"external_var":false},{"html_id":"escape(value:Number)-class-method","name":"escape","doc":"Escapes value and wraps it in a `SafeString`.","summary":"<p>Escapes value and wraps it in a <code><a href=\"../Crinja/SafeString.html\">SafeString</a></code>.</p>","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"Number"}],"args_string":"(value : Number)","args_html":"(value : Number)","location":{"filename":"src/runtime/safe_string.cr","line_number":145,"url":null},"def":{"name":"escape","args":[{"name":"value","external_name":"value","restriction":"Number"}],"visibility":"Public","body":"plain(value.to_s)"},"external_var":false},{"html_id":"escape(value:Array)-class-method","name":"escape","doc":"Escapes value and wraps it in a `SafeString`.","summary":"<p>Escapes value and wraps it in a <code><a href=\"../Crinja/SafeString.html\">SafeString</a></code>.</p>","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"Array"}],"args_string":"(value : Array)","args_html":"(value : Array)","location":{"filename":"src/runtime/safe_string.cr","line_number":150,"url":null},"def":{"name":"escape","args":[{"name":"value","external_name":"value","restriction":"Array"}],"visibility":"Public","body":"container = value.map do |v|\n  (escape(v)).as(SafeString)\nend\nplain(container.to_s)\n"},"external_var":false},{"html_id":"escape(value:Hash)-class-method","name":"escape","doc":"Escapes value and wraps it in a `SafeString`.","summary":"<p>Escapes value and wraps it in a <code><a href=\"../Crinja/SafeString.html\">SafeString</a></code>.</p>","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"Hash"}],"args_string":"(value : Hash)","args_html":"(value : Hash)","location":{"filename":"src/runtime/safe_string.cr","line_number":158,"url":null},"def":{"name":"escape","args":[{"name":"value","external_name":"value","restriction":"Hash"}],"visibility":"Public","body":"hash = value.each_with_object(Hash(SafeString, SafeString).new) do |__temp_102, memo|\n  k, v = __temp_102\n  memo[escape(k)] = escape(v)\nend\nplain(hash.to_s)\n"},"external_var":false},{"html_id":"escape(string)-class-method","name":"escape","doc":"Escapes value and wraps it in a `SafeString`.","summary":"<p>Escapes value and wraps it in a <code><a href=\"../Crinja/SafeString.html\">SafeString</a></code>.</p>","abstract":false,"args":[{"name":"string","external_name":"string","restriction":""}],"args_string":"(string)","args_html":"(string)","location":{"filename":"src/runtime/safe_string.cr","line_number":166,"url":null},"def":{"name":"escape","args":[{"name":"string","external_name":"string","restriction":""}],"visibility":"Public","body":"new(HTML.escape(string.to_s))"},"external_var":false},{"html_id":"escape(&)-class-method","name":"escape","doc":"Yields a builder which automatically escapes.\n\nTODO: Implement stream IO.","summary":"<p>Yields a builder which automatically escapes.</p>","abstract":false,"location":{"filename":"src/runtime/safe_string.cr","line_number":173,"url":null},"def":{"name":"escape","yields":1,"block_arity":1,"visibility":"Public","body":"string = String.build do |io| yield io end\nescape(string)\n"},"external_var":false},{"html_id":"plain(value)-class-method","name":"plain","doc":"for literals such as numbers or booleans, will not be wrapped in quotes by inspect","summary":"<p>for literals such as numbers or booleans, will not be wrapped in quotes by inspect</p>","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value)","args_html":"(value)","location":{"filename":"src/runtime/safe_string.cr","line_number":123,"url":null},"def":{"name":"plain","args":[{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"new(value.to_s, true)"},"external_var":false}],"constructors":[{"html_id":"escape(value:Value):SafeString-class-method","name":"escape","doc":"Escapes value and wraps it in a `SafeString`.","summary":"<p>Escapes value and wraps it in a <code><a href=\"../Crinja/SafeString.html\">SafeString</a></code>.</p>","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"Value"}],"args_string":"(value : Value) : SafeString","args_html":"(value : <a href=\"../Crinja/Value.html\">Value</a>) : <a href=\"../Crinja/SafeString.html\">SafeString</a>","location":{"filename":"src/runtime/safe_string.cr","line_number":130,"url":null},"def":{"name":"escape","args":[{"name":"value","external_name":"value","restriction":"Value"}],"return_type":"SafeString","visibility":"Public","body":"escape(value.raw)"},"external_var":false},{"html_id":"new(string:String,plain_value:Bool=false)-class-method","name":"new","abstract":false,"args":[{"name":"string","external_name":"string","restriction":"String"},{"name":"plain_value","default_value":"false","external_name":"plain_value","restriction":"::Bool"}],"args_string":"(string : String, plain_value : Bool = false)","args_html":"(string : <a href=\"../String.html\">String</a>, plain_value : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/runtime/safe_string.cr","line_number":5,"url":null},"def":{"name":"new","args":[{"name":"string","external_name":"string","restriction":"String"},{"name":"plain_value","default_value":"false","external_name":"plain_value","restriction":"::Bool"}],"visibility":"Public","body":"_ = allocate\n_.initialize(string, plain_value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"+(other:String|SafeString|Char)-instance-method","name":"+","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"String | SafeString | Char"}],"args_string":"(other : String | SafeString | Char)","args_html":"(other : <a href=\"../String.html\">String</a> | <a href=\"../Crinja/SafeString.html\">SafeString</a> | Char)","location":{"filename":"src/runtime/safe_string.cr","line_number":42,"url":null},"def":{"name":"+","args":[{"name":"other","external_name":"other","restriction":"String | SafeString | Char"}],"visibility":"Public","body":"result = @string + other.to_s\nif other.is_a?(SafeString)\n  result = SafeString.new(result)\nend\nresult\n"},"external_var":false},{"html_id":"==(other)-instance-method","name":"==","doc":"Returns `true` if this struct is equal to *other*.\n\nBoth structs' instance vars are compared to each other. Thus, two\nstructs are considered equal if each of their instance variables are\nequal. Subclasses should override this method to provide specific\nequality semantics.\n\n```\nstruct Point\n  def initialize(@x : Int32, @y : Int32)\n  end\nend\n\np1 = Point.new 1, 2\np2 = Point.new 1, 2\np3 = Point.new 3, 4\n\np1 == p2 # => true\np1 == p3 # => false\n```","summary":"<p>Returns <code>true</code> if this struct is equal to <em>other</em>.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/runtime/safe_string.cr","line_number":18,"url":null},"def":{"name":"==","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"@string == other"},"external_var":false},{"html_id":"[](index:Int)-instance-method","name":"[]","abstract":false,"args":[{"name":"index","external_name":"index","restriction":"Int"}],"args_string":"(index : Int)","args_html":"(index : Int)","location":{"filename":"src/runtime/safe_string.cr","line_number":22,"url":null},"def":{"name":"[]","args":[{"name":"index","external_name":"index","restriction":"Int"}],"visibility":"Public","body":"@string[index]"},"external_var":false},{"html_id":"[](*args)-instance-method","name":"[]","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args)","args_html":"(*args)","location":{"filename":"src/runtime/safe_string.cr","line_number":26,"url":null},"def":{"name":"[]","args":[{"name":"args","external_name":"args","restriction":""}],"splat_index":0,"visibility":"Public","body":"result = @string[*args]\nif result.is_a?(String)\n  result = SafeString.new(result)\nend\nresult\n"},"external_var":false},{"html_id":"[]?(*args)-instance-method","name":"[]?","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args)","args_html":"(*args)","location":{"filename":"src/runtime/safe_string.cr","line_number":34,"url":null},"def":{"name":"[]?","args":[{"name":"args","external_name":"args","restriction":""}],"splat_index":0,"visibility":"Public","body":"result = @string[*args]\nif result.is_a?(String)\n  result = SafeString.new(result)\nend\nresult\n"},"external_var":false},{"html_id":"each_line(chomp=true,&)-instance-method","name":"each_line","abstract":false,"args":[{"name":"chomp","default_value":"true","external_name":"chomp","restriction":""}],"args_string":"(chomp = true, &)","args_html":"(chomp = <span class=\"n\">true</span>, &)","location":{"filename":"src/runtime/safe_string.cr","line_number":110,"url":null},"def":{"name":"each_line","args":[{"name":"chomp","default_value":"true","external_name":"chomp","restriction":""}],"yields":1,"block_arity":1,"visibility":"Public","body":"@string.each_line(chomp) do |line|\n  yield SafeString.new(line)\nend"},"external_var":false},{"html_id":"gsub(search,replace)-instance-method","name":"gsub","abstract":false,"args":[{"name":"search","external_name":"search","restriction":""},{"name":"replace","external_name":"replace","restriction":""}],"args_string":"(search, replace)","args_html":"(search, replace)","location":{"filename":"src/runtime/safe_string.cr","line_number":50,"url":null},"def":{"name":"gsub","args":[{"name":"search","external_name":"search","restriction":""},{"name":"replace","external_name":"replace","restriction":""}],"visibility":"Public","body":"result = @string.gsub(search, replace)\n\nif replace.is_a?(self)\n  result = SafeString.new(result)\nend\nresult\n"},"external_var":false},{"html_id":"inspect(io:IO)-instance-method","name":"inspect","doc":"Appends this struct's name and instance variables names and values\nto the given IO.\n\n```\nstruct Point\n  def initialize(@x : Int32, @y : Int32)\n  end\nend\n\np1 = Point.new 1, 2\np1.to_s    # \"Point(@x=1, @y=2)\"\np1.inspect # \"Point(@x=1, @y=2)\"\n```","summary":"<p>Appends this struct's name and instance variables names and values to the given IO.</p>","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/runtime/safe_string.cr","line_number":10,"url":null},"def":{"name":"inspect","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"if @plain_value\n  @string.to_s(io)\nelse\n  @string.inspect(io)\nend"},"external_var":false},{"html_id":"lstrip(*args)-instance-method","name":"lstrip","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args)","args_html":"(*args)","location":{"filename":"src/runtime/safe_string.cr","line_number":102,"url":null},"def":{"name":"lstrip","args":[{"name":"args","external_name":"args","restriction":""}],"splat_index":0,"visibility":"Public","body":"SafeString.new(@string.lstrip(*args))"},"external_var":false},{"html_id":"partition(sep)-instance-method","name":"partition","abstract":false,"args":[{"name":"sep","external_name":"sep","restriction":""}],"args_string":"(sep)","args_html":"(sep)","location":{"filename":"src/runtime/safe_string.cr","line_number":59,"url":null},"def":{"name":"partition","args":[{"name":"sep","external_name":"sep","restriction":""}],"visibility":"Public","body":"a, b, c = @string.partition(sep)\n\nreturn {SafeString.new(a), SafeString.new(b), SafeString.new(c)}\n"},"external_var":false},{"html_id":"rpartition(sep)-instance-method","name":"rpartition","abstract":false,"args":[{"name":"sep","external_name":"sep","restriction":""}],"args_string":"(sep)","args_html":"(sep)","location":{"filename":"src/runtime/safe_string.cr","line_number":65,"url":null},"def":{"name":"rpartition","args":[{"name":"sep","external_name":"sep","restriction":""}],"visibility":"Public","body":"a, b, c = @string.rpartition(sep)\n\nreturn {SafeString.new(a), SafeString.new(b), SafeString.new(c)}\n"},"external_var":false},{"html_id":"rstrip(*args)-instance-method","name":"rstrip","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args)","args_html":"(*args)","location":{"filename":"src/runtime/safe_string.cr","line_number":106,"url":null},"def":{"name":"rstrip","args":[{"name":"args","external_name":"args","restriction":""}],"splat_index":0,"visibility":"Public","body":"SafeString.new(@string.rstrip(*args))"},"external_var":false},{"html_id":"size(*args,**options)-instance-method","name":"size","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/runtime/safe_string.cr","line_number":8,"url":null},"def":{"name":"size","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@string.size(*args, **options)"},"external_var":false},{"html_id":"size(*args,**options,&)-instance-method","name":"size","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/runtime/safe_string.cr","line_number":8,"url":null},"def":{"name":"size","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@string.size(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"strip(*args)-instance-method","name":"strip","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args)","args_html":"(*args)","location":{"filename":"src/runtime/safe_string.cr","line_number":98,"url":null},"def":{"name":"strip","args":[{"name":"args","external_name":"args","restriction":""}],"splat_index":0,"visibility":"Public","body":"SafeString.new(@string.strip(*args))"},"external_var":false},{"html_id":"sub(search,replace)-instance-method","name":"sub","abstract":false,"args":[{"name":"search","external_name":"search","restriction":""},{"name":"replace","external_name":"replace","restriction":""}],"args_string":"(search, replace)","args_html":"(search, replace)","location":{"filename":"src/runtime/safe_string.cr","line_number":71,"url":null},"def":{"name":"sub","args":[{"name":"search","external_name":"search","restriction":""},{"name":"replace","external_name":"replace","restriction":""}],"visibility":"Public","body":"result = @string.sub(search, replace)\n\nif replace.is_a?(self)\n  result = SafeString.new(result)\nend\nresult\n"},"external_var":false},{"html_id":"sub(search,&)-instance-method","name":"sub","abstract":false,"args":[{"name":"search","external_name":"search","restriction":""}],"args_string":"(search, &)","args_html":"(search, &)","location":{"filename":"src/runtime/safe_string.cr","line_number":80,"url":null},"def":{"name":"sub","args":[{"name":"search","external_name":"search","restriction":""}],"yields":0,"block_arity":0,"visibility":"Public","body":"all_safe = true\n\nresult = @string.sub(search) do\n  replace = yield\n  if replace.is_a?(self)\n    all_safe = false\n  end\n  replace\nend\n\nif all_safe\n  result = SafeString.new(result)\nend\n\nresult\n"},"external_var":false},{"html_id":"to_f(*args,**options)-instance-method","name":"to_f","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/runtime/safe_string.cr","line_number":8,"url":null},"def":{"name":"to_f","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@string.to_f(*args, **options)"},"external_var":false},{"html_id":"to_f(*args,**options,&)-instance-method","name":"to_f","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/runtime/safe_string.cr","line_number":8,"url":null},"def":{"name":"to_f","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@string.to_f(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"to_i(*args,**options)-instance-method","name":"to_i","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/runtime/safe_string.cr","line_number":8,"url":null},"def":{"name":"to_i","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@string.to_i(*args, **options)"},"external_var":false},{"html_id":"to_i(*args,**options,&)-instance-method","name":"to_i","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/runtime/safe_string.cr","line_number":8,"url":null},"def":{"name":"to_i","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@string.to_i(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"to_json(*args,**options)-instance-method","name":"to_json","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/runtime/safe_string.cr","line_number":8,"url":null},"def":{"name":"to_json","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@string.to_json(*args, **options)"},"external_var":false},{"html_id":"to_json(*args,**options,&)-instance-method","name":"to_json","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/runtime/safe_string.cr","line_number":8,"url":null},"def":{"name":"to_json","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@string.to_json(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"to_s(*args,**options)-instance-method","name":"to_s","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/runtime/safe_string.cr","line_number":8,"url":null},"def":{"name":"to_s","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@string.to_s(*args, **options)"},"external_var":false},{"html_id":"to_s(*args,**options,&)-instance-method","name":"to_s","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/runtime/safe_string.cr","line_number":8,"url":null},"def":{"name":"to_s","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@string.to_s(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false}]},{"html_id":"crinja/Crinja/SecurityError","path":"Crinja/SecurityError.html","kind":"class","full_name":"Crinja::SecurityError","name":"SecurityError","abstract":false,"superclass":{"html_id":"crinja/Crinja/RuntimeError","kind":"class","full_name":"Crinja::RuntimeError","name":"RuntimeError"},"ancestors":[{"html_id":"crinja/Crinja/RuntimeError","kind":"class","full_name":"Crinja::RuntimeError","name":"RuntimeError"},{"html_id":"crinja/Crinja/Error","kind":"class","full_name":"Crinja::Error","name":"Error"},{"html_id":"crinja/Crinja/SourceAttached","kind":"module","full_name":"Crinja::SourceAttached","name":"SourceAttached"},{"html_id":"crinja/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/error.cr","line_number":165,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"}},{"html_id":"crinja/Crinja/SourceAttached","path":"Crinja/SourceAttached.html","kind":"module","full_name":"Crinja::SourceAttached","name":"SourceAttached","abstract":false,"locations":[{"filename":"src/error.cr","line_number":1,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"LINE_MARKER","name":"LINE_MARKER","value":"'X'"},{"id":"MAX_COLUMN_WIDTH","name":"MAX_COLUMN_WIDTH","value":"120"}],"including_types":[{"html_id":"crinja/Crinja/Error","kind":"class","full_name":"Crinja::Error","name":"Error"}],"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"instance_methods":[{"html_id":"highlight_source_code(io,lines_before=2,lines_after=2)-instance-method","name":"highlight_source_code","abstract":false,"args":[{"name":"io","external_name":"io","restriction":""},{"name":"lines_before","default_value":"2","external_name":"lines_before","restriction":""},{"name":"lines_after","default_value":"2","external_name":"lines_after","restriction":""}],"args_string":"(io, lines_before = 2, lines_after = 2)","args_html":"(io, lines_before = <span class=\"n\">2</span>, lines_after = <span class=\"n\">2</span>)","location":{"filename":"src/error.cr","line_number":44,"url":null},"def":{"name":"highlight_source_code","args":[{"name":"io","external_name":"io","restriction":""},{"name":"lines_before","default_value":"2","external_name":"lines_before","restriction":""},{"name":"lines_after","default_value":"2","external_name":"lines_after","restriction":""}],"visibility":"Public","body":"template = @template || (return)\nlocation_start = self.location_start || (return)\nlocation_end = self.location_end || location_start\n\nlines = template.source.split('\\n')\nline_range = (1..lines.size)\nstart_line = (location_start.line - lines_before).clamp(line_range)\nend_line = (location_end.line + lines_after).clamp(line_range)\n\nlinowidth = (Math.log(lines.size, 10)).ceil.to_i\n\n(start_line..end_line).each do |i|\n  line = lines[i - 1]\n  io.printf(\" %*d | \", linowidth, i)\n  io << line\n  io << '\\n'\n\n  linelength = line.size\n\n  if i == location_start.line\n    ((io << (\" \" * (linowidth == 0 ? 1 : linowidth))) << LINE_MARKER) << \" | \"\n    io << (\" \" * ((location_start.column - 1).clamp(0, linelength)))\n    io << \"^\"\n    if location_end.line == location_start.line\n      io << (\"~\" * (((location_end.column - location_start.column) - 1).clamp(0, linelength)))\n    end\n    io << '\\n'\n  end\nend\n"},"external_var":false},{"html_id":"message-instance-method","name":"message","abstract":false,"location":{"filename":"src/error.cr","line_number":4,"url":null},"def":{"name":"message","visibility":"Public","body":"String.build do |io|\n  msg = super()\n\n  if (c = cause).nil?\n    io << msg\n  else\n    if msg.nil?\n      (io << c.class.to_s) << \":  \"\n    else\n      (io << msg) << \"\\n\"\n      io << \"cause: \"\n    end\n    io << c.message\n  end\n\n  io << \"\\ntemplate: \"\n\n  message_location(io)\n\n  if template = self.template\n    io.puts\n    io.puts\n    highlight_source_code(io)\n  end\nend"},"external_var":false},{"html_id":"message_location(io)-instance-method","name":"message_location","abstract":false,"args":[{"name":"io","external_name":"io","restriction":""}],"args_string":"(io)","args_html":"(io)","location":{"filename":"src/error.cr","line_number":32,"url":null},"def":{"name":"message_location","args":[{"name":"io","external_name":"io","restriction":""}],"visibility":"Public","body":"if template = self.template\n  io << (template.filename || \"<string>\")\n  (((io << \":\") << location_start) << \" .. \") << location_end\nelse\n  io << \"<unknown>\"\n  (io << \":\") << location_start\nend"},"external_var":false}]},{"html_id":"crinja/Crinja/StrictUndefined","path":"Crinja/StrictUndefined.html","kind":"class","full_name":"Crinja::StrictUndefined","name":"StrictUndefined","abstract":false,"superclass":{"html_id":"crinja/Crinja/Undefined","kind":"class","full_name":"Crinja::Undefined","name":"Undefined"},"ancestors":[{"html_id":"crinja/Crinja/Undefined","kind":"class","full_name":"Crinja::Undefined","name":"Undefined"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/runtime/undefined.cr","line_number":26,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"doc":"An undefined that raises an `UndefinedError` if it is compared or printed.","summary":"<p>An undefined that raises an <code><a href=\"../Crinja/UndefinedError.html\">UndefinedError</a></code> if it is compared or printed.</p>","instance_methods":[{"html_id":"<=>(other)-instance-method","name":"<=>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/runtime/undefined.cr","line_number":31,"url":null},"def":{"name":"<=>","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"fail"},"external_var":false},{"html_id":"==(other)-instance-method","name":"==","doc":"Returns `false` (other can only be a `Value` here).","summary":"<p>Returns <code>false</code> (other can only be a <code><a href=\"../Crinja/Value.html\">Value</a></code> here).</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/runtime/undefined.cr","line_number":27,"url":null},"def":{"name":"==","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"fail"},"external_var":false},{"html_id":"to_s(io)-instance-method","name":"to_s","abstract":false,"args":[{"name":"io","external_name":"io","restriction":""}],"args_string":"(io)","args_html":"(io)","location":{"filename":"src/runtime/undefined.cr","line_number":35,"url":null},"def":{"name":"to_s","args":[{"name":"io","external_name":"io","restriction":""}],"visibility":"Public","body":"fail"},"external_var":false}]},{"html_id":"crinja/Crinja/Tag","path":"Crinja/Tag.html","kind":"class","full_name":"Crinja::Tag","name":"Tag","abstract":true,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag.cr","line_number":27,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"crinja/Crinja/Tag/Autoescape","kind":"class","full_name":"Crinja::Tag::Autoescape","name":"Autoescape"},{"html_id":"crinja/Crinja/Tag/Block","kind":"class","full_name":"Crinja::Tag::Block","name":"Block"},{"html_id":"crinja/Crinja/Tag/Call","kind":"class","full_name":"Crinja::Tag::Call","name":"Call"},{"html_id":"crinja/Crinja/Tag/Do","kind":"class","full_name":"Crinja::Tag::Do","name":"Do"},{"html_id":"crinja/Crinja/Tag/EndTag","kind":"class","full_name":"Crinja::Tag::EndTag","name":"EndTag"},{"html_id":"crinja/Crinja/Tag/Extends","kind":"class","full_name":"Crinja::Tag::Extends","name":"Extends"},{"html_id":"crinja/Crinja/Tag/Filter","kind":"class","full_name":"Crinja::Tag::Filter","name":"Filter"},{"html_id":"crinja/Crinja/Tag/For","kind":"class","full_name":"Crinja::Tag::For","name":"For"},{"html_id":"crinja/Crinja/Tag/From","kind":"class","full_name":"Crinja::Tag::From","name":"From"},{"html_id":"crinja/Crinja/Tag/If","kind":"class","full_name":"Crinja::Tag::If","name":"If"},{"html_id":"crinja/Crinja/Tag/If/Elif","kind":"class","full_name":"Crinja::Tag::If::Elif","name":"Elif"},{"html_id":"crinja/Crinja/Tag/If/Else","kind":"class","full_name":"Crinja::Tag::If::Else","name":"Else"},{"html_id":"crinja/Crinja/Tag/Import","kind":"class","full_name":"Crinja::Tag::Import","name":"Import"},{"html_id":"crinja/Crinja/Tag/Include","kind":"class","full_name":"Crinja::Tag::Include","name":"Include"},{"html_id":"crinja/Crinja/Tag/Macro","kind":"class","full_name":"Crinja::Tag::Macro","name":"Macro"},{"html_id":"crinja/Crinja/Tag/Raw","kind":"class","full_name":"Crinja::Tag::Raw","name":"Raw"},{"html_id":"crinja/Crinja/Tag/Set","kind":"class","full_name":"Crinja::Tag::Set","name":"Set"},{"html_id":"crinja/Crinja/Tag/With","kind":"class","full_name":"Crinja::Tag::With","name":"With"}],"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"doc":"A tag (=control structure) refers to all those things that control the flow of a program -\nconditionals (i.e. if/elif/else), for-loops, as well as things like macros and blocks.\n\nControl structures appear inside `{% ... %}` blocks.\n\n## Builtin tags\n\nThe following tags are available in the default library:\n\n* `**[autoescape](http://jinja.pocoo.org/docs/2.9/templates/#autoescape-overrides)**`\n* `**[block](http://jinja.pocoo.org/docs/2.9/templates/#blocks)**`\n* `**[call](http://jinja.pocoo.org/docs/2.9/templates/#call)**`\n* `**[extends](http://jinja.pocoo.org/docs/2.9/templates/#extends)**`\n* `**[filter](http://jinja.pocoo.org/docs/2.9/templates/#id11)**`\n* `**[for](http://jinja.pocoo.org/docs/2.9/templates/#for)**`\n* `**[from](http://jinja.pocoo.org/docs/2.9/templates/#import)**`\n* `**[if](http://jinja.pocoo.org/docs/2.9/templates/#if)**`\n* `**[import](http://jinja.pocoo.org/docs/2.9/templates/#import)**`\n* `**[include](http://jinja.pocoo.org/docs/2.9/templates/#include)**`\n* `**[macro](http://jinja.pocoo.org/docs/2.9/templates/#macros)**`\n* `**[raw](http://jinja.pocoo.org/docs/2.9/templates/#escaping)**`\n* `**[set](http://jinja.pocoo.org/docs/2.9/templates/#assignments)**`\n* `**[with](http://jinja.pocoo.org/docs/2.9/templates/#with-statement)**`\n\nSee [Jinja2 Template Documentation](http://jinja.pocoo.org/docs/2.9/templates/#list-of-control-structures)\ndetailed explanations.","summary":"<p>A tag (=control structure) refers to all those things that control the flow of a program - conditionals (i.e.</p>","instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/tag.cr","line_number":43,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"has_block?(node:TagNode)-instance-method","name":"has_block?","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"TagNode"}],"args_string":"(node : TagNode)","args_html":"(node : TagNode)","location":{"filename":"src/lib/tag.cr","line_number":57,"url":null},"def":{"name":"has_block?","args":[{"name":"node","external_name":"node","restriction":"TagNode"}],"visibility":"Public","body":"!end_tag.nil?"},"external_var":false},{"html_id":"interpret_output(renderer:Renderer,tag_node:TagNode)-instance-method","name":"interpret_output","abstract":false,"args":[{"name":"renderer","external_name":"renderer","restriction":"Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"}],"args_string":"(renderer : Renderer, tag_node : TagNode)","args_html":"(renderer : Renderer, tag_node : TagNode)","location":{"filename":"src/lib/tag.cr","line_number":33,"url":null},"def":{"name":"interpret_output","args":[{"name":"renderer","external_name":"renderer","restriction":"Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"}],"visibility":"Public","body":"Renderer::RenderedOutput.new(String.build do |io|\n  interpret(io, renderer, tag_node)\nend)"},"external_var":false},{"html_id":"to_s(io)-instance-method","name":"to_s","abstract":false,"args":[{"name":"io","external_name":"io","restriction":""}],"args_string":"(io)","args_html":"(io)","location":{"filename":"src/lib/tag.cr","line_number":61,"url":null},"def":{"name":"to_s","args":[{"name":"io","external_name":"io","restriction":""}],"visibility":"Public","body":"io << name\nif (et = end_tag).nil?\nelse\n  io << \"~\"\n  io << et\nend\n"},"external_var":false}],"macros":[{"html_id":"name(name,end_tag=nil)-macro","name":"name","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""},{"name":"end_tag","default_value":"nil","external_name":"end_tag","restriction":""}],"args_string":"(name, end_tag = nil)","args_html":"(name, end_tag = <span class=\"n\">nil</span>)","location":{"filename":"src/lib/tag.cr","line_number":47,"url":null},"def":{"name":"name","args":[{"name":"name","external_name":"name","restriction":""},{"name":"end_tag","default_value":"nil","external_name":"end_tag","restriction":""}],"visibility":"Public","body":"    def name : String\n      \n{{ name }}\n\n    \nend\n\n    def \nend_tag : String?\n      \n{{ end_tag }}\n\n    \nend\n  \n"}}],"types":[{"html_id":"crinja/Crinja/Tag/ArgumentsParser","path":"Crinja/Tag/ArgumentsParser.html","kind":"class","full_name":"Crinja::Tag::ArgumentsParser","name":"ArgumentsParser","abstract":false,"superclass":{"html_id":"crinja/Crinja/Parser/ExpressionParser","kind":"class","full_name":"Crinja::Parser::ExpressionParser","name":"ExpressionParser"},"ancestors":[{"html_id":"crinja/Crinja/Parser/ParserHelper","kind":"module","full_name":"Crinja::Parser::ParserHelper","name":"ParserHelper"},{"html_id":"crinja/Crinja/Parser/ExpressionParser","kind":"class","full_name":"Crinja::Parser::ExpressionParser","name":"ExpressionParser"},{"html_id":"crinja/Crinja/Parser/ParserHelper","kind":"module","full_name":"Crinja::Parser::ParserHelper","name":"ParserHelper"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag.cr","line_number":94,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Parser/ParserHelper","kind":"module","full_name":"Crinja::Parser::ParserHelper","name":"ParserHelper"}],"namespace":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"doc":"This is a helper class for `Tag` implementations to parse tag arguments. It can either be used\ndirectly or be subclassed for more complex parsing.","summary":"<p>This is a helper class for <code><a href=\"../../Crinja/Tag.html\">Tag</a></code> implementations to parse tag arguments.</p>","constructors":[{"html_id":"new(arguments,config:Config)-class-method","name":"new","abstract":false,"args":[{"name":"arguments","external_name":"arguments","restriction":""},{"name":"config","external_name":"config","restriction":"Config"}],"args_string":"(arguments, config : Config)","args_html":"(arguments, config : <a href=\"../../Crinja/Config.html\">Config</a>)","location":{"filename":"src/lib/tag.cr","line_number":98,"url":null},"def":{"name":"new","args":[{"name":"arguments","external_name":"arguments","restriction":""},{"name":"config","external_name":"config","restriction":"Config"}],"visibility":"Public","body":"_ = allocate\n_.initialize(arguments, config)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"expect_identifier(names:Array(String))-instance-method","name":"expect_identifier","abstract":false,"args":[{"name":"names","external_name":"names","restriction":"Array(String)"}],"args_string":"(names : Array(String))","args_html":"(names : Array(<a href=\"../../String.html\">String</a>))","location":{"filename":"src/lib/tag.cr","line_number":125,"url":null},"def":{"name":"expect_identifier","args":[{"name":"names","external_name":"names","restriction":"Array(String)"}],"visibility":"Public","body":"name = current_token.value\nif (current_token.kind == Kind::IDENTIFIER) && (names.includes?(name))\nelse\n  raise(TemplateSyntaxError.new(current_token, \"Unexpected #{current_token}, expected identifier expression `#{names.join(\"`, `\")}`\"))\nend\n\nnext_token\n\nname\n"},"external_var":false},{"html_id":"expect_identifier(name)-instance-method","name":"expect_identifier","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""}],"args_string":"(name)","args_html":"(name)","location":{"filename":"src/lib/tag.cr","line_number":117,"url":null},"def":{"name":"expect_identifier","args":[{"name":"name","external_name":"name","restriction":""}],"visibility":"Public","body":"if (current_token.kind == Kind::IDENTIFIER) && (current_token.value == name)\nelse\n  raise(TemplateSyntaxError.new(current_token, \"Unexpected #{current_token}, expected identifier expression `#{name}`\"))\nend\n\nnext_token\n"},"external_var":false},{"html_id":"expect_identifier-instance-method","name":"expect_identifier","abstract":false,"location":{"filename":"src/lib/tag.cr","line_number":105,"url":null},"def":{"name":"expect_identifier","visibility":"Public","body":"if current_token.kind == Kind::IDENTIFIER\nelse\n  raise(TemplateSyntaxError.new(current_token, \"Unexpected #{current_token}, expected identifier expression\"))\nend\n\nname = current_token.value\n\nnext_token\n\nname\n"},"external_var":false},{"html_id":"if_identifier(names:Array(String),&)-instance-method","name":"if_identifier","abstract":false,"args":[{"name":"names","external_name":"names","restriction":"Array(String)"}],"args_string":"(names : Array(String), &)","args_html":"(names : Array(<a href=\"../../String.html\">String</a>), &)","location":{"filename":"src/lib/tag.cr","line_number":142,"url":null},"def":{"name":"if_identifier","args":[{"name":"names","external_name":"names","restriction":"Array(String)"}],"yields":0,"block_arity":0,"visibility":"Public","body":"if (current_token.kind == Kind::IDENTIFIER) && (names.includes?(current_token.value))\n  yield\nend"},"external_var":false},{"html_id":"if_identifier(name,&)-instance-method","name":"if_identifier","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""}],"args_string":"(name, &)","args_html":"(name, &)","location":{"filename":"src/lib/tag.cr","line_number":136,"url":null},"def":{"name":"if_identifier","args":[{"name":"name","external_name":"name","restriction":""}],"yields":0,"block_arity":0,"visibility":"Public","body":"if (current_token.kind == Kind::IDENTIFIER) && (current_token.value == name)\n  yield\nend"},"external_var":false}]},{"html_id":"crinja/Crinja/Tag/Autoescape","path":"Crinja/Tag/Autoescape.html","kind":"class","full_name":"Crinja::Tag::Autoescape","name":"Autoescape","abstract":false,"superclass":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"ancestors":[{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag/autoescape.cr","line_number":16,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"doc":"If you want you can activate and deactivate the autoescaping from within the templates.\n\n```\n{% autoescape true %}\n    Autoescaping is active within this block\n{% endautoescape %}\n\n{% autoescape false %}\n    Autoescaping is inactive within this block\n{% endautoescape %}\n```\n\nAfter an endautoescape the behavior is reverted to what it was before.\n\nSee [Jinja2 Template Documentation](http://jinja.pocoo.org/docs/2.9/templates/#autoescape-overrides) for details.","summary":"<p>If you want you can activate and deactivate the autoescaping from within the templates.</p>","instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/tag/autoescape.cr","line_number":17,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"\"endautoescape\""},"external_var":false},{"html_id":"interpret_output(renderer:Crinja::Renderer,tag_node:TagNode)-instance-method","name":"interpret_output","abstract":false,"args":[{"name":"renderer","external_name":"renderer","restriction":"Crinja::Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"}],"args_string":"(renderer : Crinja::Renderer, tag_node : TagNode)","args_html":"(renderer : Crinja::Renderer, tag_node : TagNode)","location":{"filename":"src/lib/tag/autoescape.cr","line_number":19,"url":null},"def":{"name":"interpret_output","args":[{"name":"renderer","external_name":"renderer","restriction":"Crinja::Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"}],"visibility":"Public","body":"env = renderer.env\nargs = ArgumentsParser.new(tag_node.arguments, env.config)\nexpression = args.parse_expression\n\nis_activated = (env.evaluate(expression)).truthy?\n\nprevious_value = env.context.autoescape?\n\nbegin\n  env.context.autoescape = is_activated\n\n  renderer.render(tag_node.block)\nensure\n  env.context.autoescape = previous_value\nend\n"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/tag/autoescape.cr","line_number":17,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"\"autoescape\""},"external_var":false}]},{"html_id":"crinja/Crinja/Tag/Block","path":"Crinja/Tag/Block.html","kind":"class","full_name":"Crinja::Tag::Block","name":"Block","abstract":false,"superclass":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"ancestors":[{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag/block.cr","line_number":4,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"doc":"Blocks are used for inheritance and act as both placeholders and replacements at the same time.\n\nSee [Jinja2 Template Documentation](http://jinja.pocoo.org/docs/2.9/templates/#template-inheritance) for details.","summary":"<p>Blocks are used for inheritance and act as both placeholders and replacements at the same time.</p>","instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/tag/block.cr","line_number":5,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"\"endblock\""},"external_var":false},{"html_id":"interpret_output(renderer:Renderer,tag_node:TagNode)-instance-method","name":"interpret_output","abstract":false,"args":[{"name":"renderer","external_name":"renderer","restriction":"Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"}],"args_string":"(renderer : Renderer, tag_node : TagNode)","args_html":"(renderer : Renderer, tag_node : TagNode)","location":{"filename":"src/lib/tag/block.cr","line_number":7,"url":null},"def":{"name":"interpret_output","args":[{"name":"renderer","external_name":"renderer","restriction":"Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"}],"visibility":"Public","body":"env = renderer.env\nparser = Parser.new(tag_node.arguments, renderer.env.config)\nname, scoped = parser.parse_block_tag\n\nrenderer.blocks[name] << tag_node.block\n\nblock = Renderer::BlockOutput.new(name)\nif scoped\n  block.scope = env.context\nend\n\nblock\n"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/tag/block.cr","line_number":5,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"\"block\""},"external_var":false}]},{"html_id":"crinja/Crinja/Tag/Call","path":"Crinja/Tag/Call.html","kind":"class","full_name":"Crinja::Tag::Call","name":"Call","abstract":false,"superclass":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"ancestors":[{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag/call.cr","line_number":22,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"doc":"{% call render_dialog('Hello World') %}\n    This is a simple dialog rendered by using a macro and\n    a call block.\n{% endcall %}\n```\n\nSee [Jinja2 Template Documentation](http://jinja.pocoo.org/docs/2.9/templates/#call) for details.","summary":"<p>{% call render_dialog('Hello World') %}     This is a simple dialog rendered by using a macro and     a call block.</p>","instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/tag/call.cr","line_number":23,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"\"endcall\""},"external_var":false},{"html_id":"interpret_output(renderer:Renderer,tag_node:TagNode)-instance-method","name":"interpret_output","abstract":false,"args":[{"name":"renderer","external_name":"renderer","restriction":"Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"}],"args_string":"(renderer : Renderer, tag_node : TagNode)","args_html":"(renderer : Renderer, tag_node : TagNode)","location":{"filename":"src/lib/tag/call.cr","line_number":25,"url":null},"def":{"name":"interpret_output","args":[{"name":"renderer","external_name":"renderer","restriction":"Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"}],"visibility":"Public","body":"env = renderer.env\nparser = Parser.new(tag_node.arguments, renderer.env.config)\ndefaults, call = parser.parse_call_tag\n\ninstance = Tag::Macro::MacroFunction.new(\"caller\", tag_node.block, renderer, caller: true)\ndefaults.each do |key, value|\n  instance.defaults[key] = if value.is_a?(AST::ExpressionNode)\n    env.evaluate(value)\n  else\n    Value.new(value)\n  end\nend\n\nenv.context.register_macro(instance)\n\nRenderer::RenderedOutput.new((env.evaluate(call)).to_s)\n"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/tag/call.cr","line_number":23,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"\"call\""},"external_var":false}]},{"html_id":"crinja/Crinja/Tag/Do","path":"Crinja/Tag/Do.html","kind":"class","full_name":"Crinja::Tag::Do","name":"Do","abstract":false,"superclass":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"ancestors":[{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag/do.cr","line_number":9,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"doc":"The `do` tag works exactly like the regular variable expression (`{{ ... }}`) except it doesn’t print anything.\nThis can be used to modify lists:\n\n```\n{% do navigation.append('a string') %}\n```\n\nSee [Jinja2 Template Documentation](http://jinja.pocoo.org/docs/2.9/templates/#expression-statement) for details.","summary":"<p>The <code>do</code> tag works exactly like the regular variable expression (`{{ ...</p>","instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/tag/do.cr","line_number":10,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"evaluate_node(tag_node,env:Crinja)-instance-method","name":"evaluate_node","abstract":false,"args":[{"name":"tag_node","external_name":"tag_node","restriction":""},{"name":"env","external_name":"env","restriction":"Crinja"}],"args_string":"(tag_node, env : Crinja)","args_html":"(tag_node, env : <a href=\"../../Crinja.html\">Crinja</a>)","location":{"filename":"src/lib/tag/do.cr","line_number":17,"url":null},"def":{"name":"evaluate_node","args":[{"name":"tag_node","external_name":"tag_node","restriction":""},{"name":"env","external_name":"env","restriction":"Crinja"}],"visibility":"Public","body":"arguments = ArgumentsParser.new(tag_node.arguments, env.config)\nexpression = arguments.parse_expression\narguments.close\nenv.evaluate(expression)\n"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/tag/do.cr","line_number":10,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"\"do\""},"external_var":false}]},{"html_id":"crinja/Crinja/Tag/EndTag","path":"Crinja/Tag/EndTag.html","kind":"class","full_name":"Crinja::Tag::EndTag","name":"EndTag","abstract":false,"superclass":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"ancestors":[{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag/end_tag.cr","line_number":1,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"constructors":[{"html_id":"new(start_tag:Tag,name:String)-class-method","name":"new","abstract":false,"args":[{"name":"start_tag","external_name":"start_tag","restriction":"Tag"},{"name":"name","external_name":"name","restriction":"::String"}],"args_string":"(start_tag : Tag, name : String)","args_html":"(start_tag : <a href=\"../../Crinja/Tag.html\">Tag</a>, name : <a href=\"../../String.html\">String</a>)","location":{"filename":"src/lib/tag/end_tag.cr","line_number":12,"url":null},"def":{"name":"new","args":[{"name":"start_tag","external_name":"start_tag","restriction":"Tag"},{"name":"name","external_name":"name","restriction":"::String"}],"visibility":"Public","body":"_ = allocate\n_.initialize(start_tag, name)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new-class-method","name":"new","doc":"this constructor is required, otherwise elements of Array(Class(Tag)) could not be instantiated\nwithout arguments, even if none of them is a EndTag","summary":"<p>this constructor is required, otherwise elements of Array(Class(Tag)) could not be instantiated without arguments, even if none of them is a EndTag</p>","abstract":false,"location":{"filename":"src/lib/tag/end_tag.cr","line_number":4,"url":null},"def":{"name":"new","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"end_tag-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/tag/end_tag.cr","line_number":15,"url":null},"def":{"name":"end_tag","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/tag/end_tag.cr","line_number":10,"url":null},"def":{"name":"name","visibility":"Public","body":"@name"},"external_var":false},{"html_id":"start_tag:Crinja::Tag-instance-method","name":"start_tag","abstract":false,"location":{"filename":"src/lib/tag/end_tag.cr","line_number":10,"url":null},"def":{"name":"start_tag","visibility":"Public","body":"@start_tag"},"external_var":false}]},{"html_id":"crinja/Crinja/Tag/Extends","path":"Crinja/Tag/Extends.html","kind":"class","full_name":"Crinja::Tag::Extends","name":"Extends","abstract":false,"superclass":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"ancestors":[{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag/extends.cr","line_number":5,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"doc":"The extends tag can be used to extend one template from another. You can have multiple extends\ntags in a file, but only one of them may be executed at a time.\n\nSee [Jinja2 Template Documentation](http://jinja.pocoo.org/docs/2.9/templates/#template-inheritance) for details.","summary":"<p>The extends tag can be used to extend one template from another.</p>","instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/tag/extends.cr","line_number":6,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/tag/extends.cr","line_number":6,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"\"extends\""},"external_var":false}]},{"html_id":"crinja/Crinja/Tag/Filter","path":"Crinja/Tag/Filter.html","kind":"class","full_name":"Crinja::Tag::Filter","name":"Filter","abstract":false,"superclass":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"ancestors":[{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag/filter.cr","line_number":11,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"doc":"Filter sections allow you to apply regular `Crinja::Filter` filters on a block of template data.\nJust wrap the code in the special filter block:\n\n```\n{% filter upper %}\n    This text becomes uppercase\n{% endfilter %}\n```\n\nSee [Jinja2 Template Documentation](http://jinja.pocoo.org/docs/2.9/templates/#id11) for details.","summary":"<p>Filter sections allow you to apply regular <code><a href=\"../../Crinja/Filter.html\">Crinja::Filter</a></code> filters on a block of template data.</p>","instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/tag/filter.cr","line_number":12,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"\"endfilter\""},"external_var":false},{"html_id":"interpret_output(renderer:Renderer,tag_node:TagNode)-instance-method","name":"interpret_output","abstract":false,"args":[{"name":"renderer","external_name":"renderer","restriction":"Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"}],"args_string":"(renderer : Renderer, tag_node : TagNode)","args_html":"(renderer : Renderer, tag_node : TagNode)","location":{"filename":"src/lib/tag/filter.cr","line_number":14,"url":null},"def":{"name":"interpret_output","args":[{"name":"renderer","external_name":"renderer","restriction":"Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"}],"visibility":"Public","body":"env = renderer.env\nparser = Parser.new(tag_node.arguments, env.config)\nplaceholder, expression = parser.parse_filter_tag\n\nplaceholder.value = Value.new((renderer.render(tag_node.block)).value)\n\nresult = env.evaluate(expression)\n\nRenderer::RenderedOutput.new((SafeString.new(result.to_s)).to_s)\n"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/tag/filter.cr","line_number":12,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"\"filter\""},"external_var":false}]},{"html_id":"crinja/Crinja/Tag/For","path":"Crinja/Tag/For.html","kind":"class","full_name":"Crinja::Tag::For","name":"For","abstract":false,"superclass":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"ancestors":[{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag/for.cr","line_number":11,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"LOOP_VARIABLE","name":"LOOP_VARIABLE","value":"\"loop\""}],"namespace":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"doc":"Loop over each item in a sequence.  For example, to display a list of users\nprovided in a variable called `users`:\n\n```\n{% for user in users %}\n {{ user }}\n{% endfor %}\n```\n\nSee [Jinja2 Template Documentation](http://jinja.pocoo.org/docs/2.9/templates/#for) for details.","summary":"<p>Loop over each item in a sequence.</p>","instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/tag/for.cr","line_number":12,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"\"endfor\""},"external_var":false},{"html_id":"interpret_output(renderer:Renderer,tag_node:TagNode)-instance-method","name":"interpret_output","abstract":false,"args":[{"name":"renderer","external_name":"renderer","restriction":"Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"}],"args_string":"(renderer : Renderer, tag_node : TagNode)","args_html":"(renderer : Renderer, tag_node : TagNode)","location":{"filename":"src/lib/tag/for.cr","line_number":16,"url":null},"def":{"name":"interpret_output","args":[{"name":"renderer","external_name":"renderer","restriction":"Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"}],"visibility":"Public","body":"env = renderer.env\nparser = Parser.new(tag_node.arguments, renderer.env.config)\nitem_vars, collection_expr, if_expr, recursive = parser.parse_for_tag\n\nrunner = Runner.new(renderer, tag_node, item_vars)\n\ncollection = env.evaluator.value(collection_expr)\n\nif if_expr\n  collection = ConditionalIterator.new(collection.each, if_expr, env, item_vars)\nend\n\nif recursive\n  looper = ForLoop::Recursive.new(runner, collection)\nelse\n  looper = ForLoop.new(collection)\nend\n\nresult = runner.run_loop(looper)\n\nif looper.index == 0\n  runner.render_else\nelse\n  result\nend\n"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/tag/for.cr","line_number":12,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"\"for\""},"external_var":false}],"types":[{"html_id":"crinja/Crinja/Tag/For/ConditionalIterator","path":"Crinja/Tag/For/ConditionalIterator.html","kind":"class","full_name":"Crinja::Tag::For::ConditionalIterator","name":"ConditionalIterator","abstract":false,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Iterator/IteratorWrapper","kind":"module","full_name":"Iterator::IteratorWrapper","name":"IteratorWrapper"},{"html_id":"crinja/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"},{"html_id":"crinja/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag/for.cr","line_number":108,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"},{"html_id":"crinja/Iterator/IteratorWrapper","kind":"module","full_name":"Iterator::IteratorWrapper","name":"IteratorWrapper"}],"namespace":{"html_id":"crinja/Crinja/Tag/For","kind":"class","full_name":"Crinja::Tag::For","name":"For"},"constructors":[{"html_id":"new(iterator:Iterator(Value),condition:AST::ExpressionNode,env:Crinja,item_vars:Array(String))-class-method","name":"new","abstract":false,"args":[{"name":"iterator","external_name":"iterator","restriction":"Iterator(Value)"},{"name":"condition","external_name":"condition","restriction":"AST::ExpressionNode"},{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"item_vars","external_name":"item_vars","restriction":"Array(String)"}],"args_string":"(iterator : Iterator(Value), condition : AST::ExpressionNode, env : Crinja, item_vars : Array(String))","args_html":"(iterator : Iterator(<a href=\"../../../Crinja/Value.html\">Value</a>), condition : AST::ExpressionNode, env : <a href=\"../../../Crinja.html\">Crinja</a>, item_vars : Array(<a href=\"../../../String.html\">String</a>))","location":{"filename":"src/lib/tag/for.cr","line_number":112,"url":null},"def":{"name":"new","args":[{"name":"iterator","external_name":"iterator","restriction":"Iterator(Value)"},{"name":"condition","external_name":"condition","restriction":"AST::ExpressionNode"},{"name":"env","external_name":"env","restriction":"Crinja"},{"name":"item_vars","external_name":"item_vars","restriction":"Array(String)"}],"visibility":"Public","body":"_ = allocate\n_.initialize(iterator, condition, env, item_vars)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"next-instance-method","name":"next","doc":"Returns the next element in this iterator, or `Iterator::Stop::INSTANCE` if there\nare no more elements.","summary":"<p>Returns the next element in this iterator, or <code>Iterator::Stop::INSTANCE</code> if there are no more elements.</p>","abstract":false,"location":{"filename":"src/lib/tag/for.cr","line_number":115,"url":null},"def":{"name":"next","visibility":"Public","body":"loop do\n  value = wrapped_next.as(Value)\n  @env.context[LOOP_VARIABLE] = StrictUndefined.new(LOOP_VARIABLE)\n  @env.context.unpack(@item_vars, value)\n\n  if (@env.evaluator.value(@condition)).truthy?\n    return value\n  end\nend"},"external_var":false}]},{"html_id":"crinja/Crinja/Tag/For/ForLoop","path":"Crinja/Tag/For/ForLoop.html","kind":"class","full_name":"Crinja::Tag::For::ForLoop","name":"ForLoop","abstract":false,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Crinja/Object","kind":"module","full_name":"Crinja::Object","name":"Object"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/util/for_loop.cr","line_number":3,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Object","kind":"module","full_name":"Crinja::Object","name":"Object"}],"subclasses":[{"html_id":"crinja/Crinja/Tag/For/ForLoop/Recursive","kind":"class","full_name":"Crinja::Tag::For::ForLoop::Recursive","name":"Recursive"}],"namespace":{"html_id":"crinja/Crinja/Tag/For","kind":"class","full_name":"Crinja::Tag::For","name":"For"},"constructors":[{"html_id":"new(iterator:Iterator(Value),length:Int32)-class-method","name":"new","abstract":false,"args":[{"name":"iterator","external_name":"iterator","restriction":"Iterator(Value)"},{"name":"length","external_name":"length","restriction":"Int32"}],"args_string":"(iterator : Iterator(Value), length : Int32)","args_html":"(iterator : Iterator(<a href=\"../../../Crinja/Value.html\">Value</a>), length : Int32)","location":{"filename":"src/lib/util/for_loop.cr","line_number":74,"url":null},"def":{"name":"new","args":[{"name":"iterator","external_name":"iterator","restriction":"Iterator(Value)"},{"name":"length","external_name":"length","restriction":"Int32"}],"visibility":"Public","body":"_ = allocate\n_.initialize(iterator, length)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(collection:Value):self-class-method","name":"new","abstract":false,"args":[{"name":"collection","external_name":"collection","restriction":"Value"}],"args_string":"(collection : Value) : self","args_html":"(collection : <a href=\"../../../Crinja/Value.html\">Value</a>) : <span class=\"k\">self</span>","location":{"filename":"src/lib/util/for_loop.cr","line_number":64,"url":null},"def":{"name":"new","args":[{"name":"collection","external_name":"collection","restriction":"Value"}],"return_type":"self","visibility":"Public","body":"raw = collection.raw\n\nif raw.is_a?(Iterator(Value))\n  new(raw)\nelse\n  new(collection.each, collection.size)\nend\n"},"external_var":false},{"html_id":"new(iterator:Iterator(Value))-class-method","name":"new","abstract":false,"args":[{"name":"iterator","external_name":"iterator","restriction":"Iterator(Value)"}],"args_string":"(iterator : Iterator(Value))","args_html":"(iterator : Iterator(<a href=\"../../../Crinja/Value.html\">Value</a>))","location":{"filename":"src/lib/util/for_loop.cr","line_number":86,"url":null},"def":{"name":"new","args":[{"name":"iterator","external_name":"iterator","restriction":"Iterator(Value)"}],"visibility":"Public","body":"_ = allocate\n_.initialize(iterator)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"crinja_attribute(attr:Value):Value-instance-method","name":"crinja_attribute","abstract":false,"args":[{"name":"attr","external_name":"attr","restriction":"Value"}],"args_string":"(attr : Value) : Value","args_html":"(attr : <a href=\"../../../Crinja/Value.html\">Value</a>) : <a href=\"../../../Crinja/Value.html\">Value</a>","location":{"filename":"src/lib/util/for_loop.cr","line_number":34,"url":null},"def":{"name":"crinja_attribute","args":[{"name":"attr","external_name":"attr","restriction":"Value"}],"return_type":"Value","visibility":"Public","body":"value = case attr.to_string\nwhen \"length\"\n  self.length\nwhen \"index0\"\n  self.index0\nwhen \"revindex0\"\n  self.revindex0\nwhen \"first\"\n  self.first\nwhen \"last\"\n  self.last\nwhen \"index\"\n  self.index\nwhen \"revindex\"\n  self.revindex\nwhen \"cycle\"\n  self.cycle\nelse\n  Crinja::Undefined.new(attr.to_s)\nend\n\nCrinja::Value.new(value)\n"},"external_var":false},{"html_id":"cycle-instance-method","name":"cycle","abstract":false,"location":{"filename":"src/lib/util/for_loop.cr","line_number":129,"url":null},"def":{"name":"cycle","visibility":"Public","body":"CycleMethod.new(self)"},"external_var":false},{"html_id":"each(&)-instance-method","name":"each","abstract":false,"location":{"filename":"src/lib/util/for_loop.cr","line_number":92,"url":null},"def":{"name":"each","yields":1,"block_arity":1,"visibility":"Public","body":"value = iterator.next\n\nwhile true\n  if value.is_a?(Iterator::Stop)\n    break\n  else\n    @index0 = @index0 + 1\n    if @length == Int32::MIN\n    else\n      @revindex0 = @revindex0 - 1\n    end\n\n    next_value = iterator.next\n    if next_value.is_a?(Iterator::Stop)\n      @last = true\n      @length = index\n      @revindex0 = 0\n    end\n\n    yield value.as(Value)\n\n    value = next_value\n\n    @first = false\n  end\nend\n"},"external_var":false},{"html_id":"first:Bool-instance-method","name":"first","abstract":false,"location":{"filename":"src/lib/util/for_loop.cr","line_number":25,"url":null},"def":{"name":"first","visibility":"Public","body":"@first"},"external_var":false},{"html_id":"index-instance-method","name":"index","abstract":false,"location":{"filename":"src/lib/util/for_loop.cr","line_number":119,"url":null},"def":{"name":"index","visibility":"Public","body":"index0 + 1"},"external_var":false},{"html_id":"index0:Int32-instance-method","name":"index0","abstract":false,"location":{"filename":"src/lib/util/for_loop.cr","line_number":15,"url":null},"def":{"name":"index0","visibility":"Public","body":"@index0"},"external_var":false},{"html_id":"iterator:Iterator(Crinja::Value)-instance-method","name":"iterator","abstract":false,"location":{"filename":"src/lib/util/for_loop.cr","line_number":6,"url":null},"def":{"name":"iterator","visibility":"Public","body":"@iterator"},"external_var":false},{"html_id":"last:Bool-instance-method","name":"last","abstract":false,"location":{"filename":"src/lib/util/for_loop.cr","line_number":30,"url":null},"def":{"name":"last","visibility":"Public","body":"@last"},"external_var":false},{"html_id":"length:Int32-instance-method","name":"length","abstract":false,"location":{"filename":"src/lib/util/for_loop.cr","line_number":9,"url":null},"def":{"name":"length","visibility":"Public","body":"@length"},"external_var":false},{"html_id":"revindex-instance-method","name":"revindex","abstract":false,"location":{"filename":"src/lib/util/for_loop.cr","line_number":124,"url":null},"def":{"name":"revindex","visibility":"Public","body":"revindex0 == Int32::MIN ? Int32::MIN : revindex0 + 1"},"external_var":false},{"html_id":"revindex0:Int32-instance-method","name":"revindex0","abstract":false,"location":{"filename":"src/lib/util/for_loop.cr","line_number":20,"url":null},"def":{"name":"revindex0","visibility":"Public","body":"@revindex0"},"external_var":false}],"types":[{"html_id":"crinja/Crinja/Tag/For/ForLoop/CycleMethod","path":"Crinja/Tag/For/ForLoop/CycleMethod.html","kind":"class","full_name":"Crinja::Tag::For::ForLoop::CycleMethod","name":"CycleMethod","abstract":false,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Crinja/Callable","kind":"module","full_name":"Crinja::Callable","name":"Callable"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/util/for_loop.cr","line_number":133,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Callable","kind":"module","full_name":"Crinja::Callable","name":"Callable"}],"namespace":{"html_id":"crinja/Crinja/Tag/For/ForLoop","kind":"class","full_name":"Crinja::Tag::For::ForLoop","name":"ForLoop"},"constructors":[{"html_id":"new(loop:ForLoop)-class-method","name":"new","abstract":false,"args":[{"name":"loop","external_name":"loop","restriction":"ForLoop"}],"args_string":"(loop : ForLoop)","args_html":"(loop : <a href=\"../../../../Crinja/Tag/For/ForLoop.html\">ForLoop</a>)","location":{"filename":"src/lib/util/for_loop.cr","line_number":136,"url":null},"def":{"name":"new","args":[{"name":"loop","external_name":"loop","restriction":"ForLoop"}],"visibility":"Public","body":"_ = allocate\n_.initialize(loop)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"call(arguments:Arguments):Value-instance-method","name":"call","abstract":false,"args":[{"name":"arguments","external_name":"arguments","restriction":"Arguments"}],"args_string":"(arguments : Arguments) : Value","args_html":"(arguments : <a href=\"../../../../Crinja/Arguments.html\">Arguments</a>) : <a href=\"../../../../Crinja/Value.html\">Value</a>","location":{"filename":"src/lib/util/for_loop.cr","line_number":139,"url":null},"def":{"name":"call","args":[{"name":"arguments","external_name":"arguments","restriction":"Arguments"}],"return_type":"Value","visibility":"Public","body":"arguments.varargs[@loop.index0 % arguments.varargs.size]"},"external_var":false}]},{"html_id":"crinja/Crinja/Tag/For/ForLoop/Recursive","path":"Crinja/Tag/For/ForLoop/Recursive.html","kind":"class","full_name":"Crinja::Tag::For::ForLoop::Recursive","name":"Recursive","abstract":false,"superclass":{"html_id":"crinja/Crinja/Tag/For/ForLoop","kind":"class","full_name":"Crinja::Tag::For::ForLoop","name":"ForLoop"},"ancestors":[{"html_id":"crinja/Crinja/Callable","kind":"module","full_name":"Crinja::Callable","name":"Callable"},{"html_id":"crinja/Crinja/Tag/For/ForLoop","kind":"class","full_name":"Crinja::Tag::For::ForLoop","name":"ForLoop"},{"html_id":"crinja/Crinja/Object","kind":"module","full_name":"Crinja::Object","name":"Object"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/util/for_loop.cr","line_number":144,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Callable","kind":"module","full_name":"Crinja::Callable","name":"Callable"}],"namespace":{"html_id":"crinja/Crinja/Tag/For/ForLoop","kind":"class","full_name":"Crinja::Tag::For::ForLoop","name":"ForLoop"},"constructors":[{"html_id":"new(loop_runner:Crinja::Tag::For::Runner,iterator:Iterator(Value),length:Int32)-class-method","name":"new","abstract":false,"args":[{"name":"loop_runner","external_name":"loop_runner","restriction":"::Crinja::Tag::For::Runner"},{"name":"iterator","external_name":"iterator","restriction":"Iterator(Value)"},{"name":"length","external_name":"length","restriction":"Int32"}],"args_string":"(loop_runner : Crinja::Tag::For::Runner, iterator : Iterator(Value), length : Int32)","args_html":"(loop_runner : <a href=\"../../../../Crinja/Tag/For/Runner.html\">Crinja::Tag::For::Runner</a>, iterator : Iterator(<a href=\"../../../../Crinja/Value.html\">Value</a>), length : Int32)","location":{"filename":"src/lib/util/for_loop.cr","line_number":178,"url":null},"def":{"name":"new","args":[{"name":"loop_runner","external_name":"loop_runner","restriction":"::Crinja::Tag::For::Runner"},{"name":"iterator","external_name":"iterator","restriction":"Iterator(Value)"},{"name":"length","external_name":"length","restriction":"Int32"}],"visibility":"Public","body":"_ = allocate\n_.initialize(loop_runner, iterator, length)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(loop_runner,collection:Value):self-class-method","name":"new","abstract":false,"args":[{"name":"loop_runner","external_name":"loop_runner","restriction":""},{"name":"collection","external_name":"collection","restriction":"Value"}],"args_string":"(loop_runner, collection : Value) : self","args_html":"(loop_runner, collection : <a href=\"../../../../Crinja/Value.html\">Value</a>) : <span class=\"k\">self</span>","location":{"filename":"src/lib/util/for_loop.cr","line_number":169,"url":null},"def":{"name":"new","args":[{"name":"loop_runner","external_name":"loop_runner","restriction":""},{"name":"collection","external_name":"collection","restriction":"Value"}],"return_type":"self","visibility":"Public","body":"raw = collection.raw\nif raw.is_a?(Iterator(Value))\n  new(loop_runner, raw)\nelse\n  new(loop_runner, collection.each, collection.size)\nend\n"},"external_var":false},{"html_id":"new(loop_runner:Crinja::Tag::For::Runner,iterator:Iterator(Value))-class-method","name":"new","abstract":false,"args":[{"name":"loop_runner","external_name":"loop_runner","restriction":"::Crinja::Tag::For::Runner"},{"name":"iterator","external_name":"iterator","restriction":"Iterator(Value)"}],"args_string":"(loop_runner : Crinja::Tag::For::Runner, iterator : Iterator(Value))","args_html":"(loop_runner : <a href=\"../../../../Crinja/Tag/For/Runner.html\">Crinja::Tag::For::Runner</a>, iterator : Iterator(<a href=\"../../../../Crinja/Value.html\">Value</a>))","location":{"filename":"src/lib/util/for_loop.cr","line_number":182,"url":null},"def":{"name":"new","args":[{"name":"loop_runner","external_name":"loop_runner","restriction":"::Crinja::Tag::For::Runner"},{"name":"iterator","external_name":"iterator","restriction":"Iterator(Value)"}],"visibility":"Public","body":"_ = allocate\n_.initialize(loop_runner, iterator)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"call(arguments:Arguments)-instance-method","name":"call","abstract":false,"args":[{"name":"arguments","external_name":"arguments","restriction":"Arguments"}],"args_string":"(arguments : Arguments)","args_html":"(arguments : <a href=\"../../../../Crinja/Arguments.html\">Arguments</a>)","location":{"filename":"src/lib/util/for_loop.cr","line_number":186,"url":null},"def":{"name":"call","args":[{"name":"arguments","external_name":"arguments","restriction":"Arguments"}],"visibility":"Public","body":"sub_iterator = arguments.varargs.first\n\nsub_loop = self.class.new(@loop_runner, sub_iterator)\nsub_loop.depth0 = self.depth\n\nSafeString.build do |io|\n  io << (@loop_runner.run_loop(sub_loop)).value\nend\n"},"external_var":false},{"html_id":"crinja_attribute(attr:Value):Value-instance-method","name":"crinja_attribute","abstract":false,"args":[{"name":"attr","external_name":"attr","restriction":"Value"}],"args_string":"(attr : Value) : Value","args_html":"(attr : <a href=\"../../../../Crinja/Value.html\">Value</a>) : <a href=\"../../../../Crinja/Value.html\">Value</a>","location":{"filename":"src/lib/util/for_loop.cr","line_number":149,"url":null},"def":{"name":"crinja_attribute","args":[{"name":"attr","external_name":"attr","restriction":"Value"}],"return_type":"Value","visibility":"Public","body":"value = case attr.to_string\nwhen \"depth\"\n  Crinja::Value.new(self.depth)\nwhen \"depth0\"\n  Crinja::Value.new(self.depth0)\nelse\n  super(attr)\nend"},"external_var":false},{"html_id":"depth-instance-method","name":"depth","abstract":false,"location":{"filename":"src/lib/util/for_loop.cr","line_number":198,"url":null},"def":{"name":"depth","visibility":"Public","body":"depth0 + 1"},"external_var":false},{"html_id":"depth0:Int32-instance-method","name":"depth0","abstract":false,"location":{"filename":"src/lib/util/for_loop.cr","line_number":163,"url":null},"def":{"name":"depth0","visibility":"Public","body":"@depth0"},"external_var":false},{"html_id":"depth0=(depth0:Int32)-instance-method","name":"depth0=","abstract":false,"args":[{"name":"depth0","external_name":"depth0","restriction":"Int32"}],"args_string":"(depth0 : Int32)","args_html":"(depth0 : Int32)","location":{"filename":"src/lib/util/for_loop.cr","line_number":147,"url":null},"def":{"name":"depth0=","args":[{"name":"depth0","external_name":"depth0","restriction":"Int32"}],"visibility":"Public","body":"@depth0 = depth0"},"external_var":false}]}]},{"html_id":"crinja/Crinja/Tag/For/Runner","path":"Crinja/Tag/For/Runner.html","kind":"class","full_name":"Crinja::Tag::For::Runner","name":"Runner","abstract":false,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag/for.cr","line_number":75,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Tag/For","kind":"class","full_name":"Crinja::Tag::For","name":"For"},"constructors":[{"html_id":"new(renderer:Renderer,tag_node:TagNode,item_vars:Array(String))-class-method","name":"new","abstract":false,"args":[{"name":"renderer","external_name":"renderer","restriction":"Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"},{"name":"item_vars","external_name":"item_vars","restriction":"Array(String)"}],"args_string":"(renderer : Renderer, tag_node : TagNode, item_vars : Array(String))","args_html":"(renderer : Renderer, tag_node : TagNode, item_vars : Array(<a href=\"../../../String.html\">String</a>))","location":{"filename":"src/lib/tag/for.cr","line_number":76,"url":null},"def":{"name":"new","args":[{"name":"renderer","external_name":"renderer","restriction":"Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"},{"name":"item_vars","external_name":"item_vars","restriction":"Array(String)"}],"visibility":"Public","body":"_ = allocate\n_.initialize(renderer, tag_node, item_vars)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"render_children(else_branch=false)-instance-method","name":"render_children","abstract":false,"args":[{"name":"else_branch","default_value":"false","external_name":"else_branch","restriction":""}],"args_string":"(else_branch = false)","args_html":"(else_branch = <span class=\"n\">false</span>)","location":{"filename":"src/lib/tag/for.cr","line_number":94,"url":null},"def":{"name":"render_children","args":[{"name":"else_branch","default_value":"false","external_name":"else_branch","restriction":""}],"visibility":"Public","body":"Renderer::OutputList.new.tap do |output|\n  @tag_node.block.children.each do |node|\n    if node.is_a?(TagNode) && (\"else\" == node.name)\n      if else_branch\n      else\n        break\n      end\n      else_branch = false\n    end\n\n    if else_branch\n    else\n      output << (@renderer.render(node))\n    end\n  end\nend"},"external_var":false},{"html_id":"render_else-instance-method","name":"render_else","abstract":false,"location":{"filename":"src/lib/tag/for.cr","line_number":90,"url":null},"def":{"name":"render_else","visibility":"Public","body":"render_children(true)"},"external_var":false},{"html_id":"run_loop(looper)-instance-method","name":"run_loop","abstract":false,"args":[{"name":"looper","external_name":"looper","restriction":""}],"args_string":"(looper)","args_html":"(looper)","location":{"filename":"src/lib/tag/for.cr","line_number":79,"url":null},"def":{"name":"run_loop","args":[{"name":"looper","external_name":"looper","restriction":""}],"visibility":"Public","body":"Renderer::OutputList.new.tap do |output|\n  looper.each do |value|\n    @renderer.env.with_scope({LOOP_VARIABLE => looper}) do |context|\n      context.unpack(@item_vars, value)\n      output << render_children\n    end\n  end\nend"},"external_var":false}]}]},{"html_id":"crinja/Crinja/Tag/From","path":"Crinja/Tag/From.html","kind":"class","full_name":"Crinja::Tag::From","name":"From","abstract":false,"superclass":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"ancestors":[{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag/from.cr","line_number":6,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"doc":"Crinja supports putting often used code into macros. These macros can go into different templates\nand get imported from there. It’s important to know that imports can be cached and imported templates\ndon’t have access to the current template variables, just the globals by default.\n\nSee [Jinja2 Template Documentation](http://jinja.pocoo.org/docs/2.9/templates/#import) for details.","summary":"<p>Crinja supports putting often used code into macros.</p>","instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/tag/from.cr","line_number":7,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/tag/from.cr","line_number":7,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"\"from\""},"external_var":false}]},{"html_id":"crinja/Crinja/Tag/If","path":"Crinja/Tag/If.html","kind":"class","full_name":"Crinja::Tag::If","name":"If","abstract":false,"superclass":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"ancestors":[{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag/if.cr","line_number":16,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"doc":"The `if` tag is a conditional statement. The block content will only be evaluated if the test\ncondition is truthy. Condition can be an arbitrary `Expression`. `elif` and `else` allow for\nmultiple branches.\n\n```\n{% if kenny.sick %}\n  Kenny is sick.\n{% elif kenny.dead %}\n  You killed Kenny!  You bastard!!!\n{% else %}\n  Kenny looks okay --- so far\n{% endif %}\n```\n\nSee [Jinja2 Template Documentation](http://jinja.pocoo.org/docs/2.9/templates/#if) for details.","summary":"<p>The <code>if</code> tag is a conditional statement.</p>","instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/tag/if.cr","line_number":17,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"\"endif\""},"external_var":false},{"html_id":"evaluate_node(tag_node,env:Crinja)-instance-method","name":"evaluate_node","abstract":false,"args":[{"name":"tag_node","external_name":"tag_node","restriction":""},{"name":"env","external_name":"env","restriction":"Crinja"}],"args_string":"(tag_node, env : Crinja)","args_html":"(tag_node, env : <a href=\"../../Crinja.html\">Crinja</a>)","location":{"filename":"src/lib/tag/if.cr","line_number":34,"url":null},"def":{"name":"evaluate_node","args":[{"name":"tag_node","external_name":"tag_node","restriction":""},{"name":"env","external_name":"env","restriction":"Crinja"}],"visibility":"Public","body":"if tag_node.name == \"else\"\n  return true\nend\n\narguments = ArgumentsParser.new(tag_node.arguments, env.config)\nexpression = arguments.parse_expression\n\nif expression.is_a?(AST::Empty)\n  raise(TemplateSyntaxError.new(tag_node, \"#{tag_node.name} tag missing condition\"))\nend\n\narguments.close\n\nvalue = env.evaluator.value(expression)\nvalue.truthy?\n"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/tag/if.cr","line_number":17,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"\"if\""},"external_var":false}],"types":[{"html_id":"crinja/Crinja/Tag/If/Elif","path":"Crinja/Tag/If/Elif.html","kind":"class","full_name":"Crinja::Tag::If::Elif","name":"Elif","abstract":false,"superclass":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"ancestors":[{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag/if.cr","line_number":61,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Tag/If","kind":"class","full_name":"Crinja::Tag::If","name":"If"},"instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/tag/if.cr","line_number":62,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"interpret(io:IO,renderer:Crinja::Renderer,tag_node:TagNode)-instance-method","name":"interpret","doc":"Do nothing, interpretation is implemented by `If#interpret`.","summary":"<p>Do nothing, interpretation is implemented by <code>If#interpret</code>.</p>","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"},{"name":"renderer","external_name":"renderer","restriction":"Crinja::Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"}],"args_string":"(io : IO, renderer : Crinja::Renderer, tag_node : TagNode)","args_html":"(io : IO, renderer : Crinja::Renderer, tag_node : TagNode)","location":{"filename":"src/lib/tag/if.cr","line_number":65,"url":null},"def":{"name":"interpret","args":[{"name":"io","external_name":"io","restriction":"IO"},{"name":"renderer","external_name":"renderer","restriction":"Crinja::Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/tag/if.cr","line_number":62,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"\"elif\""},"external_var":false}]},{"html_id":"crinja/Crinja/Tag/If/Else","path":"Crinja/Tag/If/Else.html","kind":"class","full_name":"Crinja::Tag::If::Else","name":"Else","abstract":false,"superclass":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"ancestors":[{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag/if.cr","line_number":53,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Tag/If","kind":"class","full_name":"Crinja::Tag::If","name":"If"},"instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/tag/if.cr","line_number":54,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"interpret(io:IO,renderer:Crinja::Renderer,tag_node:TagNode)-instance-method","name":"interpret","doc":"Do nothing, interpretation is implemented by `If#interpret`.","summary":"<p>Do nothing, interpretation is implemented by <code>If#interpret</code>.</p>","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"},{"name":"renderer","external_name":"renderer","restriction":"Crinja::Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"}],"args_string":"(io : IO, renderer : Crinja::Renderer, tag_node : TagNode)","args_html":"(io : IO, renderer : Crinja::Renderer, tag_node : TagNode)","location":{"filename":"src/lib/tag/if.cr","line_number":57,"url":null},"def":{"name":"interpret","args":[{"name":"io","external_name":"io","restriction":"IO"},{"name":"renderer","external_name":"renderer","restriction":"Crinja::Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/tag/if.cr","line_number":54,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"\"else\""},"external_var":false}]}]},{"html_id":"crinja/Crinja/Tag/Import","path":"Crinja/Tag/Import.html","kind":"class","full_name":"Crinja::Tag::Import","name":"Import","abstract":false,"superclass":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"ancestors":[{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag/import.cr","line_number":6,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"doc":"Crinja supports putting often used code into macros. These macros can go into different templates\nand get imported from there. It’s important to know that imports can be cached and imported templates\ndon’t have access to the current template variables, just the globals by default.\n\nSee [Jinja2 Template Documentation](http://jinja.pocoo.org/docs/2.9/templates/#import) for details.","summary":"<p>Crinja supports putting often used code into macros.</p>","instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/tag/import.cr","line_number":7,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/tag/import.cr","line_number":7,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"\"import\""},"external_var":false}]},{"html_id":"crinja/Crinja/Tag/Include","path":"Crinja/Tag/Include.html","kind":"class","full_name":"Crinja::Tag::Include","name":"Include","abstract":false,"superclass":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"ancestors":[{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag/include.cr","line_number":11,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"doc":"The include statement is useful to include a template and return the rendered contents of that\nfile into the current namespace:\n\n```\n{% include 'header.html' %}\n    Body\n{% include 'footer.html' %}\n```\n\nSee [Jinja2 Template Documentation](http://jinja.pocoo.org/docs/2.9/templates/#include) for details.","summary":"<p>The include statement is useful to include a template and return the rendered contents of that file into the current namespace:</p>","instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/tag/include.cr","line_number":12,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/tag/include.cr","line_number":12,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"\"include\""},"external_var":false}]},{"html_id":"crinja/Crinja/Tag/Library","path":"Crinja/Tag/Library.html","kind":"class","full_name":"Crinja::Tag::Library","name":"Library","abstract":false,"superclass":{"html_id":"crinja/Crinja/FeatureLibrary","kind":"class","full_name":"Crinja::FeatureLibrary","name":"FeatureLibrary"},"ancestors":[{"html_id":"crinja/Crinja/FeatureLibrary","kind":"class","full_name":"Crinja::FeatureLibrary","name":"FeatureLibrary"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag.cr","line_number":69,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"TAGS","name":"TAGS","value":"[If, If::Else, If::Elif, For, Set, Filter, With, Autoescape, Macro, Call, Raw, Include, From, Import, Extends, Block, Do]"}],"namespace":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"class_methods":[{"html_id":"alias(from,to)-class-method","name":"alias","abstract":false,"args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""}],"args_string":"(from, to)","args_html":"(from, to)","location":{"filename":"src/lib/tag.cr","line_number":69,"url":null},"def":{"name":"alias","args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""}],"visibility":"Public","body":"@@aliases[from.to_s] = to.to_s"},"external_var":false},{"html_id":"defaults-class-method","name":"defaults","abstract":false,"def":{"name":"defaults","visibility":"Public","body":"@@defaults"},"external_var":false}],"constructors":[{"html_id":"new(register_defaults=true,disabled=[]ofString)-class-method","name":"new","doc":"Creates a new feature library.\nIf *register_defaults* is set to `false`, this library will be empty. Otherwise it is populated\nwith registered default features.\nA list of *disabled* features can be provided, if a feature name in this list is accessed,\nit will raise a `SecurityError`.","summary":"<p>Creates a new feature library.</p>","abstract":false,"args":[{"name":"register_defaults","default_value":"true","external_name":"register_defaults","restriction":""},{"name":"disabled","default_value":"[] of String","external_name":"disabled","restriction":""}],"args_string":"(register_defaults = true, disabled = [] of String)","args_html":"(register_defaults = <span class=\"n\">true</span>, disabled = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>)","location":{"filename":"src/lib/feature_library.cr","line_number":19,"url":null},"def":{"name":"new","args":[{"name":"register_defaults","default_value":"true","external_name":"register_defaults","restriction":""},{"name":"disabled","default_value":"[] of String","external_name":"disabled","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(register_defaults, disabled)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"<<(tag)-instance-method","name":"<<","abstract":false,"args":[{"name":"tag","external_name":"tag","restriction":""}],"args_string":"(tag)","args_html":"(tag)","location":{"filename":"src/lib/tag.cr","line_number":84,"url":null},"def":{"name":"<<","args":[{"name":"tag","external_name":"tag","restriction":""}],"visibility":"Public","body":"super(tag)\nif (end_tag = tag.end_tag).nil?\nelse\n  super(EndTag.new(tag, end_tag))\nend\n"},"external_var":false},{"html_id":"register_defaults-instance-method","name":"register_defaults","doc":"Create a local method in a subclass to allow the usage of `previous_def`.","summary":"<p>Create a local method in a subclass to allow the usage of <code>previous_def</code>.</p>","abstract":false,"location":{"filename":"src/lib/tag.cr","line_number":77,"url":null},"def":{"name":"register_defaults","visibility":"Public","body":"TAGS.each do |name|\n  tag = name.new\n  self << tag\nend"},"external_var":false}]},{"html_id":"crinja/Crinja/Tag/Macro","path":"Crinja/Tag/Macro.html","kind":"class","full_name":"Crinja::Tag::Macro","name":"Macro","abstract":false,"superclass":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"ancestors":[{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag/macro.cr","line_number":20,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"doc":"Macros are comparable with functions in regular programming languages. They are useful to put\noften used idioms into reusable functions to not repeat yourself (“DRY”).\n\nHere’s a small example of a macro that renders a form element:\n\n```\n{% macro input(name, value='', type='text', size=20) -%}\n    <input type=\"{{ type }}\" name=\"{{ name }}\" value=\"{{\n        value|e }}\" size=\"{{ size }}\">\n{%- endmacro %}\n```\n\nThe macro can then be called like a function in the namespace:\n\n```\n{{ input('username') }}\n```\n\nSee [Jinja2 Template Documentation](http://jinja.pocoo.org/docs/2.9/templates/#macros) for details.","summary":"<p>Macros are comparable with functions in regular programming languages.</p>","instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/tag/macro.cr","line_number":21,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"\"endmacro\""},"external_var":false},{"html_id":"interpret_output(renderer:Renderer,tag_node:TagNode)-instance-method","name":"interpret_output","abstract":false,"args":[{"name":"renderer","external_name":"renderer","restriction":"Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"}],"args_string":"(renderer : Renderer, tag_node : TagNode)","args_html":"(renderer : Renderer, tag_node : TagNode)","location":{"filename":"src/lib/tag/macro.cr","line_number":23,"url":null},"def":{"name":"interpret_output","args":[{"name":"renderer","external_name":"renderer","restriction":"Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"}],"visibility":"Public","body":"env = renderer.env\nparser = Parser.new(tag_node.arguments, renderer.env.config)\n\nname, defaults = parser.parse_macro_node\n\ninstance = MacroFunction.new(name, tag_node.block, renderer)\n\ndefaults.each do |key, value|\n  instance.defaults[key] = if value.is_a?(AST::ExpressionNode)\n    env.evaluate(value)\n  else\n    env.undefined(key)\n  end\nend\n\nrenderer.template.register_macro(name, instance)\n\nRenderer::RenderedOutput.new(\"\")\n"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/tag/macro.cr","line_number":21,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"\"macro\""},"external_var":false}],"types":[{"html_id":"crinja/Crinja/Tag/Macro/MacroFunction","path":"Crinja/Tag/Macro/MacroFunction.html","kind":"class","full_name":"Crinja::Tag::Macro::MacroFunction","name":"MacroFunction","abstract":false,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Crinja/Callable","kind":"module","full_name":"Crinja::Callable","name":"Callable"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag/macro.cr","line_number":100,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Crinja/Callable","kind":"module","full_name":"Crinja::Callable","name":"Callable"}],"namespace":{"html_id":"crinja/Crinja/Tag/Macro","kind":"class","full_name":"Crinja::Tag::Macro","name":"Macro"},"constructors":[{"html_id":"new(name:String,children:AST::NodeList,renderer:Renderer,defaults:Hash(String,Crinja::Value)=Variables.new,caller:Bool=false)-class-method","name":"new","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"children","external_name":"children","restriction":"AST::NodeList"},{"name":"renderer","external_name":"renderer","restriction":"Renderer"},{"name":"defaults","default_value":"Variables.new","external_name":"defaults","restriction":"::Hash(::String, ::Crinja::Value)"},{"name":"caller","default_value":"false","external_name":"caller","restriction":"::Bool"}],"args_string":"(name : String, children : AST::NodeList, renderer : Renderer, defaults : Hash(String, Crinja::Value) = Variables.new, caller : Bool = false)","args_html":"(name : <a href=\"../../../String.html\">String</a>, children : AST::NodeList, renderer : Renderer, defaults : Hash(<a href=\"../../../String.html\">String</a>, <a href=\"../../../Crinja/Value.html\">Crinja::Value</a>) = <span class=\"t\">Variables</span>.new, caller : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/lib/tag/macro.cr","line_number":105,"url":null},"def":{"name":"new","args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"children","external_name":"children","restriction":"AST::NodeList"},{"name":"renderer","external_name":"renderer","restriction":"Renderer"},{"name":"defaults","default_value":"Variables.new","external_name":"defaults","restriction":"::Hash(::String, ::Crinja::Value)"},{"name":"caller","default_value":"false","external_name":"caller","restriction":"::Bool"}],"visibility":"Public","body":"_ = allocate\n_.initialize(name, children, renderer, defaults, caller)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"arguments-instance-method","name":"arguments","abstract":false,"location":{"filename":"src/lib/tag/macro.cr","line_number":125,"url":null},"def":{"name":"arguments","visibility":"Public","body":"defaults.keys"},"external_var":false},{"html_id":"call(arguments:Arguments)-instance-method","name":"call","abstract":false,"args":[{"name":"arguments","external_name":"arguments","restriction":"Arguments"}],"args_string":"(arguments : Arguments)","args_html":"(arguments : <a href=\"../../../Crinja/Arguments.html\">Arguments</a>)","location":{"filename":"src/lib/tag/macro.cr","line_number":110,"url":null},"def":{"name":"call","args":[{"name":"arguments","external_name":"arguments","restriction":"Arguments"}],"visibility":"Public","body":"arguments.defaults = @defaults\n\narguments.env.with_scope(arguments.to_h) do |context|\n  context.merge!({\"varargs\" => arguments.varargs, \"kwargs\" => arguments.kwargs})\n\n  SafeString.build do |io|\n    ((Crinja::Renderer.new(@renderer.template, arguments.env)).render(children)).value(io)\n  end\nend\n"},"external_var":false},{"html_id":"caller:Bool-instance-method","name":"caller","abstract":false,"location":{"filename":"src/lib/tag/macro.cr","line_number":103,"url":null},"def":{"name":"caller","visibility":"Public","body":"@caller"},"external_var":false},{"html_id":"catch_kwargs:Bool-instance-method","name":"catch_kwargs","abstract":false,"location":{"filename":"src/lib/tag/macro.cr","line_number":103,"url":null},"def":{"name":"catch_kwargs","visibility":"Public","body":"@catch_kwargs"},"external_var":false},{"html_id":"catch_varargs:Bool-instance-method","name":"catch_varargs","abstract":false,"location":{"filename":"src/lib/tag/macro.cr","line_number":103,"url":null},"def":{"name":"catch_varargs","visibility":"Public","body":"@catch_varargs"},"external_var":false},{"html_id":"children:Crinja::AST::NodeList-instance-method","name":"children","abstract":false,"location":{"filename":"src/lib/tag/macro.cr","line_number":103,"url":null},"def":{"name":"children","visibility":"Public","body":"@children"},"external_var":false},{"html_id":"defaults:Hash(String,Crinja::Value)-instance-method","name":"defaults","abstract":false,"location":{"filename":"src/lib/tag/macro.cr","line_number":103,"url":null},"def":{"name":"defaults","visibility":"Public","body":"@defaults"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/tag/macro.cr","line_number":103,"url":null},"def":{"name":"name","visibility":"Public","body":"@name"},"external_var":false}]}]},{"html_id":"crinja/Crinja/Tag/Raw","path":"Crinja/Tag/Raw.html","kind":"class","full_name":"Crinja::Tag::Raw","name":"Raw","abstract":false,"superclass":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"ancestors":[{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag/raw.cr","line_number":1,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/tag/raw.cr","line_number":2,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"\"endraw\""},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/tag/raw.cr","line_number":2,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"\"raw\""},"external_var":false}]},{"html_id":"crinja/Crinja/Tag/Set","path":"Crinja/Tag/Set.html","kind":"class","full_name":"Crinja::Tag::Set","name":"Set","abstract":false,"superclass":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"ancestors":[{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag/set.cr","line_number":23,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"doc":"Inside code blocks, you can also assign values to variables. Assignments at top level (outside of\nblocks, macros or loops) are exported from the template like top level macros and can be imported\nby other templates.\n\nAssignments use the set tag and can have multiple targets:\n\n```\n{% set navigation = [('index.html', 'Index'), ('about.html', 'About')] %}\n{% set key, value = call_something() %}\n```\n\nIt is also possible to use block assignments to capture the contents of a `set` block into a\nvariable name. Instead of using an equals sign and a value, you just write the variable name and\nthen everything until `{% endset %}` is captured.\n\n{% set navigation %}\n    <li><a href=\"/\">Index</a>\n    <li><a href=\"/downloads\">Downloads</a>\n{% endset %}\n```\n\nSee [Jinja2 Template Documentation](http://jinja.pocoo.org/docs/2.9/templates/#assignments) for details.","summary":"<p>Inside code blocks, you can also assign values to variables.</p>","instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/tag/set.cr","line_number":24,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"\"endset\""},"external_var":false},{"html_id":"has_block?(node:TagNode)-instance-method","name":"has_block?","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"TagNode"}],"args_string":"(node : TagNode)","args_html":"(node : TagNode)","location":{"filename":"src/lib/tag/set.cr","line_number":47,"url":null},"def":{"name":"has_block?","args":[{"name":"node","external_name":"node","restriction":"TagNode"}],"visibility":"Public","body":"node.arguments.size <= 2"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/tag/set.cr","line_number":24,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"\"set\""},"external_var":false}]},{"html_id":"crinja/Crinja/Tag/With","path":"Crinja/Tag/With.html","kind":"class","full_name":"Crinja::Tag::With","name":"With","abstract":false,"superclass":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"ancestors":[{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/tag/with.cr","line_number":27,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Tag","kind":"class","full_name":"Crinja::Tag","name":"Tag"},"doc":"The `with` statement makes it possible to create a new inner scope. Variables set within this\nscope are not visible outside of the scope.\n\n```\n{% with %}\n    {% set foo = 42 %}\n    {{ foo }}           # => foo is 42 here\n{% endwith %}\n{{ foo }}               # => undefined\n```\n\nBecause it is common to set variables at the beginning of the scope, you can do that within the\nwith statement. The following two examples are equivalent:\n\n```\n{% with foo = 42 %}\n    {{ foo }}\n{% endwith %}\n\n{% with %}\n    {% set foo = 42 %}\n    {{ foo }}\n{% endwith %}\n```\n\nSee [Jinja2 Template Documentation](http://jinja.pocoo.org/docs/2.9/templates/#with-statement) for details.","summary":"<p>The <code>with</code> statement makes it possible to create a new inner scope.</p>","instance_methods":[{"html_id":"end_tag:String|Nil-instance-method","name":"end_tag","abstract":false,"location":{"filename":"src/lib/tag/with.cr","line_number":28,"url":null},"def":{"name":"end_tag","return_type":"String | ::Nil","visibility":"Public","body":"\"endwith\""},"external_var":false},{"html_id":"interpret_output(renderer:Crinja::Renderer,tag_node:TagNode)-instance-method","name":"interpret_output","abstract":false,"args":[{"name":"renderer","external_name":"renderer","restriction":"Crinja::Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"}],"args_string":"(renderer : Crinja::Renderer, tag_node : TagNode)","args_html":"(renderer : Crinja::Renderer, tag_node : TagNode)","location":{"filename":"src/lib/tag/with.cr","line_number":30,"url":null},"def":{"name":"interpret_output","args":[{"name":"renderer","external_name":"renderer","restriction":"Crinja::Renderer"},{"name":"tag_node","external_name":"tag_node","restriction":"TagNode"}],"visibility":"Public","body":"env = renderer.env\nargs = Parser.new(tag_node.arguments, env.config)\n\nvar_defs = Variables.new\nargs.parse_with_tag_arguments.each do |variable, expression|\n  var_defs[variable.name] = env.evaluate(expression)\nend\n\nenv.with_scope(var_defs) do\n  renderer.render(tag_node.block)\nend\n"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/lib/tag/with.cr","line_number":28,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"\"with\""},"external_var":false}]}]},{"html_id":"crinja/Crinja/Template","path":"Crinja/Template.html","kind":"class","full_name":"Crinja::Template","name":"Template","abstract":false,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/template.cr","line_number":10,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"doc":"This class represents a compiled template and is used to evaluate it.\n\nNormally the template object is generated from an `Crinja` environment\nby `Crinja#from_string` or `Crinja#get_template`. But it also has a constructor\nthat makes it possible to create a template instance directly.\n\nEvery template object has a few methods and members that are guaranteed to exist.\nHowever it’s important that a template object should be considered immutable.\nModifications on the object are not supported.","summary":"<p>This class represents a compiled template and is used to evaluate it.</p>","constructors":[{"html_id":"new(source:String,env:Crinja=Crinja.new,name:String=\"\",filename:String|Nil=nil,run_parser=true)-class-method","name":"new","doc":"Creates a new template.","summary":"<p>Creates a new template.</p>","abstract":false,"args":[{"name":"source","external_name":"source","restriction":"String"},{"name":"env","default_value":"Crinja.new","external_name":"env","restriction":"Crinja"},{"name":"name","default_value":"\"\"","external_name":"name","restriction":"String"},{"name":"filename","default_value":"nil","external_name":"filename","restriction":"String | ::Nil"},{"name":"run_parser","default_value":"true","external_name":"run_parser","restriction":""}],"args_string":"(source : String, env : Crinja = Crinja.new, name : String = \"\", filename : String | Nil = nil, run_parser = true)","args_html":"(source : <a href=\"../String.html\">String</a>, env : <a href=\"../Crinja.html\">Crinja</a> = <span class=\"t\">Crinja</span>.new, name : <a href=\"../String.html\">String</a> = <span class=\"s\">&quot;&quot;</span>, filename : <a href=\"../String.html\">String</a> | Nil = <span class=\"n\">nil</span>, run_parser = <span class=\"n\">true</span>)","location":{"filename":"src/template.cr","line_number":30,"url":null},"def":{"name":"new","args":[{"name":"source","external_name":"source","restriction":"String"},{"name":"env","default_value":"Crinja.new","external_name":"env","restriction":"Crinja"},{"name":"name","default_value":"\"\"","external_name":"name","restriction":"String"},{"name":"filename","default_value":"nil","external_name":"filename","restriction":"String | ::Nil"},{"name":"run_parser","default_value":"true","external_name":"run_parser","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(source, env, name, filename, run_parser)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"dynamic?-instance-method","name":"dynamic?","doc":"Returns `true` if this template contains a template expression. If `false`, this template is a fixed string and will always render the same output.","summary":"<p>Returns <code>true</code> if this template contains a template expression.</p>","abstract":false,"location":{"filename":"src/template.cr","line_number":76,"url":null},"def":{"name":"dynamic?","visibility":"Public","body":"@nodes.children.any? do |node| !node.is_a?(AST::FixedString) end"},"external_var":false},{"html_id":"env:Crinja-instance-method","name":"env","doc":"Crinja environment in which this template is loaded.","summary":"<p>Crinja environment in which this template is loaded.</p>","abstract":false,"location":{"filename":"src/template.cr","line_number":27,"url":null},"def":{"name":"env","return_type":"Crinja","visibility":"Public","body":"@env"},"external_var":false},{"html_id":"filename:String?-instance-method","name":"filename","doc":"The filename of the template on the file system if it was loaded from there. Otherwise this is `nil`.","summary":"<p>The filename of the template on the file system if it was loaded from there.</p>","abstract":false,"location":{"filename":"src/template.cr","line_number":21,"url":null},"def":{"name":"filename","visibility":"Public","body":"@filename"},"external_var":false},{"html_id":"macros:Hash(String,Tag::Macro::MacroFunction)-instance-method","name":"macros","doc":"This hash gives access to all macros defined by this template.","summary":"<p>This hash gives access to all macros defined by this template.</p>","abstract":false,"location":{"filename":"src/template.cr","line_number":12,"url":null},"def":{"name":"macros","return_type":"Hash(String, Tag::Macro::MacroFunction)","visibility":"Public","body":"@macros"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","doc":"The loading name of the template. If the template was loaded from a string this is `nil`.","summary":"<p>The loading name of the template.</p>","abstract":false,"location":{"filename":"src/template.cr","line_number":18,"url":null},"def":{"name":"name","visibility":"Public","body":"@name"},"external_var":false},{"html_id":"nodes:AST::NodeList-instance-method","name":"nodes","doc":"Returns the root node of this template's abstract syntax tree.","summary":"<p>Returns the root node of this template's abstract syntax tree.</p>","abstract":false,"location":{"filename":"src/template.cr","line_number":24,"url":null},"def":{"name":"nodes","return_type":"AST::NodeList","visibility":"Public","body":"@nodes"},"external_var":false},{"html_id":"render(io:IO,env:Crinja)-instance-method","name":"render","doc":"Renders this template to *io* in the environment *env*.\nThis method might return unexpected results if *env* differs from the original environment this template was parsed with.","summary":"<p>Renders this template to <em>io</em> in the environment <em>env</em>.</p>","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"},{"name":"env","external_name":"env","restriction":"Crinja"}],"args_string":"(io : IO, env : Crinja)","args_html":"(io : IO, env : <a href=\"../Crinja.html\">Crinja</a>)","location":{"filename":"src/template.cr","line_number":67,"url":null},"def":{"name":"render","args":[{"name":"io","external_name":"io","restriction":"IO"},{"name":"env","external_name":"env","restriction":"Crinja"}],"visibility":"Public","body":"begin\n  renderer = Renderer.new(self)\n  renderer.render(io, self)\nrescue e : Crinja::Error\n  e.template || (e.template = self)\n  raise(e)\nend"},"external_var":false},{"html_id":"render(io:IO,bindings=nil)-instance-method","name":"render","doc":"Renders this template to *io* using *bindings* as local variables scope.","summary":"<p>Renders this template to <em>io</em> using <em>bindings</em> as local variables scope.</p>","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"},{"name":"bindings","default_value":"nil","external_name":"bindings","restriction":""}],"args_string":"(io : IO, bindings = nil)","args_html":"(io : IO, bindings = <span class=\"n\">nil</span>)","location":{"filename":"src/template.cr","line_number":59,"url":null},"def":{"name":"render","args":[{"name":"io","external_name":"io","restriction":"IO"},{"name":"bindings","default_value":"nil","external_name":"bindings","restriction":""}],"visibility":"Public","body":"env.with_scope(bindings) do\n  self.render(io, env)\nend"},"external_var":false},{"html_id":"render(bindings=nil)-instance-method","name":"render","doc":"Renders this template as a `String` using *bindings* as local variables scope.","summary":"<p>Renders this template as a <code><a href=\"../String.html\">String</a></code> using <em>bindings</em> as local variables scope.</p>","abstract":false,"args":[{"name":"bindings","default_value":"nil","external_name":"bindings","restriction":""}],"args_string":"(bindings = nil)","args_html":"(bindings = <span class=\"n\">nil</span>)","location":{"filename":"src/template.cr","line_number":52,"url":null},"def":{"name":"render","args":[{"name":"bindings","default_value":"nil","external_name":"bindings","restriction":""}],"visibility":"Public","body":"String.build do |io|\n  self.render(io, bindings)\nend"},"external_var":false},{"html_id":"source:String-instance-method","name":"source","doc":"Source string of this template.","summary":"<p>Source string of this template.</p>","abstract":false,"location":{"filename":"src/template.cr","line_number":15,"url":null},"def":{"name":"source","visibility":"Public","body":"@source"},"external_var":false}]},{"html_id":"crinja/Crinja/TemplateCache","path":"Crinja/TemplateCache.html","kind":"class","full_name":"Crinja::TemplateCache","name":"TemplateCache","abstract":true,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/util/template_cache.cr","line_number":2,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"crinja/Crinja/TemplateCache/InMemory","kind":"class","full_name":"Crinja::TemplateCache::InMemory","name":"InMemory"},{"html_id":"crinja/Crinja/TemplateCache/NoCache","kind":"class","full_name":"Crinja::TemplateCache::NoCache","name":"NoCache"}],"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"doc":"Caching for parsed `Template` objects.","summary":"<p>Caching for parsed <code><a href=\"../Crinja/Template.html\">Template</a></code> objects.</p>","instance_methods":[{"html_id":"fetch(env,name,file_name,source,&)-instance-method","name":"fetch","doc":"Try to fetch template from cache. If not found, this method yields and in the attached block\nthe template should be initialized. Implementing classes should store the value from the\nyield and return it to the caller.","summary":"<p>Try to fetch template from cache.</p>","abstract":true,"args":[{"name":"env","external_name":"env","restriction":""},{"name":"name","external_name":"name","restriction":""},{"name":"file_name","external_name":"file_name","restriction":""},{"name":"source","external_name":"source","restriction":""}],"args_string":"(env, name, file_name, source, &)","args_html":"(env, name, file_name, source, &)","location":{"filename":"src/util/template_cache.cr","line_number":6,"url":null},"def":{"name":"fetch","args":[{"name":"env","external_name":"env","restriction":""},{"name":"name","external_name":"name","restriction":""},{"name":"file_name","external_name":"file_name","restriction":""},{"name":"source","external_name":"source","restriction":""}],"yields":0,"block_arity":0,"visibility":"Public","body":""},"external_var":false}],"types":[{"html_id":"crinja/Crinja/TemplateCache/InMemory","path":"Crinja/TemplateCache/InMemory.html","kind":"class","full_name":"Crinja::TemplateCache::InMemory","name":"InMemory","abstract":false,"superclass":{"html_id":"crinja/Crinja/TemplateCache","kind":"class","full_name":"Crinja::TemplateCache","name":"TemplateCache"},"ancestors":[{"html_id":"crinja/Crinja/TemplateCache","kind":"class","full_name":"Crinja::TemplateCache","name":"TemplateCache"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/util/template_cache.cr","line_number":16,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/TemplateCache","kind":"class","full_name":"Crinja::TemplateCache","name":"TemplateCache"},"doc":"This cache stores `Template` objects in a `Hash`.","summary":"<p>This cache stores <code><a href=\"../../Crinja/Template.html\">Template</a></code> objects in a <code>Hash</code>.</p>","instance_methods":[{"html_id":"fetch(env,name,file_name,source,&)-instance-method","name":"fetch","doc":"Try to fetch template from cache. If not found, this method yields and in the attached block\nthe template should be initialized. Implementing classes should store the value from the\nyield and return it to the caller.","summary":"<p>Try to fetch template from cache.</p>","abstract":false,"args":[{"name":"env","external_name":"env","restriction":""},{"name":"name","external_name":"name","restriction":""},{"name":"file_name","external_name":"file_name","restriction":""},{"name":"source","external_name":"source","restriction":""}],"args_string":"(env, name, file_name, source, &)","args_html":"(env, name, file_name, source, &)","location":{"filename":"src/util/template_cache.cr","line_number":19,"url":null},"def":{"name":"fetch","args":[{"name":"env","external_name":"env","restriction":""},{"name":"name","external_name":"name","restriction":""},{"name":"file_name","external_name":"file_name","restriction":""},{"name":"source","external_name":"source","restriction":""}],"yields":0,"block_arity":0,"visibility":"Public","body":"id = {env, name, file_name, source}\n\n@cache.fetch(id) do\n  @cache[id] = yield\nend\n"},"external_var":false}]},{"html_id":"crinja/Crinja/TemplateCache/NoCache","path":"Crinja/TemplateCache/NoCache.html","kind":"class","full_name":"Crinja::TemplateCache::NoCache","name":"NoCache","abstract":false,"superclass":{"html_id":"crinja/Crinja/TemplateCache","kind":"class","full_name":"Crinja::TemplateCache","name":"TemplateCache"},"ancestors":[{"html_id":"crinja/Crinja/TemplateCache","kind":"class","full_name":"Crinja::TemplateCache","name":"TemplateCache"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/util/template_cache.cr","line_number":9,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/TemplateCache","kind":"class","full_name":"Crinja::TemplateCache","name":"TemplateCache"},"doc":"This cache does not cache anything.","summary":"<p>This cache does not cache anything.</p>","instance_methods":[{"html_id":"fetch(env,name,file_name,source,&)-instance-method","name":"fetch","doc":"Try to fetch template from cache. If not found, this method yields and in the attached block\nthe template should be initialized. Implementing classes should store the value from the\nyield and return it to the caller.","summary":"<p>Try to fetch template from cache.</p>","abstract":false,"args":[{"name":"env","external_name":"env","restriction":""},{"name":"name","external_name":"name","restriction":""},{"name":"file_name","external_name":"file_name","restriction":""},{"name":"source","external_name":"source","restriction":""}],"args_string":"(env, name, file_name, source, &)","args_html":"(env, name, file_name, source, &)","location":{"filename":"src/util/template_cache.cr","line_number":10,"url":null},"def":{"name":"fetch","args":[{"name":"env","external_name":"env","restriction":""},{"name":"name","external_name":"name","restriction":""},{"name":"file_name","external_name":"file_name","restriction":""},{"name":"source","external_name":"source","restriction":""}],"yields":0,"block_arity":0,"visibility":"Public","body":"yield"},"external_var":false}]}]},{"html_id":"crinja/Crinja/TemplateError","path":"Crinja/TemplateError.html","kind":"class","full_name":"Crinja::TemplateError","name":"TemplateError","abstract":false,"superclass":{"html_id":"crinja/Crinja/Error","kind":"class","full_name":"Crinja::Error","name":"Error"},"ancestors":[{"html_id":"crinja/Crinja/Error","kind":"class","full_name":"Crinja::Error","name":"Error"},{"html_id":"crinja/Crinja/SourceAttached","kind":"module","full_name":"Crinja::SourceAttached","name":"SourceAttached"},{"html_id":"crinja/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/error.cr","line_number":99,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"crinja/Crinja/TemplateSyntaxError","kind":"class","full_name":"Crinja::TemplateSyntaxError","name":"TemplateSyntaxError"}],"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"constructors":[{"html_id":"new(token:Parser::Token,cause:Exception|Nil=nil,template=nil)-class-method","name":"new","abstract":false,"args":[{"name":"token","external_name":"token","restriction":"Parser::Token"},{"name":"cause","default_value":"nil","external_name":"cause","restriction":"Exception | ::Nil"},{"name":"template","default_value":"nil","external_name":"template","restriction":""}],"args_string":"(token : Parser::Token, cause : Exception | Nil = nil, template = nil)","args_html":"(token : Parser::Token, cause : Exception | Nil = <span class=\"n\">nil</span>, template = <span class=\"n\">nil</span>)","location":{"filename":"src/error.cr","line_number":100,"url":null},"def":{"name":"new","args":[{"name":"token","external_name":"token","restriction":"Parser::Token"},{"name":"cause","default_value":"nil","external_name":"cause","restriction":"Exception | ::Nil"},{"name":"template","default_value":"nil","external_name":"template","restriction":""}],"visibility":"Public","body":"new(token, nil, cause, template)"},"external_var":false},{"html_id":"new(message:String|Nil=nil,cause=nil)-class-method","name":"new","abstract":false,"args":[{"name":"message","default_value":"nil","external_name":"message","restriction":"String | ::Nil"},{"name":"cause","default_value":"nil","external_name":"cause","restriction":""}],"args_string":"(message : String | Nil = nil, cause = nil)","args_html":"(message : <a href=\"../String.html\">String</a> | Nil = <span class=\"n\">nil</span>, cause = <span class=\"n\">nil</span>)","location":{"filename":"src/error.cr","line_number":104,"url":null},"def":{"name":"new","args":[{"name":"message","default_value":"nil","external_name":"message","restriction":"String | ::Nil"},{"name":"cause","default_value":"nil","external_name":"cause","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(message, cause)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(token:Parser::Token,message:String|Nil=nil,cause=nil,template=nil)-class-method","name":"new","abstract":false,"args":[{"name":"token","external_name":"token","restriction":"Parser::Token"},{"name":"message","default_value":"nil","external_name":"message","restriction":"String | ::Nil"},{"name":"cause","default_value":"nil","external_name":"cause","restriction":""},{"name":"template","default_value":"nil","external_name":"template","restriction":""}],"args_string":"(token : Parser::Token, message : String | Nil = nil, cause = nil, template = nil)","args_html":"(token : Parser::Token, message : <a href=\"../String.html\">String</a> | Nil = <span class=\"n\">nil</span>, cause = <span class=\"n\">nil</span>, template = <span class=\"n\">nil</span>)","location":{"filename":"src/error.cr","line_number":108,"url":null},"def":{"name":"new","args":[{"name":"token","external_name":"token","restriction":"Parser::Token"},{"name":"message","default_value":"nil","external_name":"message","restriction":"String | ::Nil"},{"name":"cause","default_value":"nil","external_name":"cause","restriction":""},{"name":"template","default_value":"nil","external_name":"template","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(token, message, cause, template)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(node:AST::ASTNode,message:String|Nil=nil,cause=nil,template=nil)-class-method","name":"new","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"AST::ASTNode"},{"name":"message","default_value":"nil","external_name":"message","restriction":"String | ::Nil"},{"name":"cause","default_value":"nil","external_name":"cause","restriction":""},{"name":"template","default_value":"nil","external_name":"template","restriction":""}],"args_string":"(node : AST::ASTNode, message : String | Nil = nil, cause = nil, template = nil)","args_html":"(node : AST::ASTNode, message : <a href=\"../String.html\">String</a> | Nil = <span class=\"n\">nil</span>, cause = <span class=\"n\">nil</span>, template = <span class=\"n\">nil</span>)","location":{"filename":"src/error.cr","line_number":114,"url":null},"def":{"name":"new","args":[{"name":"node","external_name":"node","restriction":"AST::ASTNode"},{"name":"message","default_value":"nil","external_name":"message","restriction":"String | ::Nil"},{"name":"cause","default_value":"nil","external_name":"cause","restriction":""},{"name":"template","default_value":"nil","external_name":"template","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(node, message, cause, template)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}]},{"html_id":"crinja/Crinja/TemplateNotFoundError","path":"Crinja/TemplateNotFoundError.html","kind":"class","full_name":"Crinja::TemplateNotFoundError","name":"TemplateNotFoundError","abstract":false,"superclass":{"html_id":"crinja/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"crinja/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/error.cr","line_number":121,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"constructors":[{"html_id":"new(templates:Array,loader,cause:Exception|Nil=nil)-class-method","name":"new","abstract":false,"args":[{"name":"templates","external_name":"templates","restriction":"Array"},{"name":"loader","external_name":"loader","restriction":""},{"name":"cause","default_value":"nil","external_name":"cause","restriction":"Exception | ::Nil"}],"args_string":"(templates : Array, loader, cause : Exception | Nil = nil)","args_html":"(templates : Array, loader, cause : Exception | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/error.cr","line_number":126,"url":null},"def":{"name":"new","args":[{"name":"templates","external_name":"templates","restriction":"Array"},{"name":"loader","external_name":"loader","restriction":""},{"name":"cause","default_value":"nil","external_name":"cause","restriction":"Exception | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(templates, loader, cause)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(name,loader=nil,message=\"\",cause:Exception|Nil=nil)-class-method","name":"new","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""},{"name":"loader","default_value":"nil","external_name":"loader","restriction":""},{"name":"message","default_value":"\"\"","external_name":"message","restriction":""},{"name":"cause","default_value":"nil","external_name":"cause","restriction":"Exception | ::Nil"}],"args_string":"(name, loader = nil, message = \"\", cause : Exception | Nil = nil)","args_html":"(name, loader = <span class=\"n\">nil</span>, message = <span class=\"s\">&quot;&quot;</span>, cause : Exception | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/error.cr","line_number":122,"url":null},"def":{"name":"new","args":[{"name":"name","external_name":"name","restriction":""},{"name":"loader","default_value":"nil","external_name":"loader","restriction":""},{"name":"message","default_value":"\"\"","external_name":"message","restriction":""},{"name":"cause","default_value":"nil","external_name":"cause","restriction":"Exception | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(name, loader, message, cause)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}]},{"html_id":"crinja/Crinja/TemplateSyntaxError","path":"Crinja/TemplateSyntaxError.html","kind":"class","full_name":"Crinja::TemplateSyntaxError","name":"TemplateSyntaxError","abstract":false,"superclass":{"html_id":"crinja/Crinja/TemplateError","kind":"class","full_name":"Crinja::TemplateError","name":"TemplateError"},"ancestors":[{"html_id":"crinja/Crinja/TemplateError","kind":"class","full_name":"Crinja::TemplateError","name":"TemplateError"},{"html_id":"crinja/Crinja/Error","kind":"class","full_name":"Crinja::Error","name":"Error"},{"html_id":"crinja/Crinja/SourceAttached","kind":"module","full_name":"Crinja::SourceAttached","name":"SourceAttached"},{"html_id":"crinja/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/error.cr","line_number":131,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"}},{"html_id":"crinja/Crinja/Test","path":"Crinja/Test.html","kind":"module","full_name":"Crinja::Test","name":"Test","abstract":false,"locations":[{"filename":"src/lib/test.cr","line_number":40,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"doc":"Beside filters, there are also so-called “tests” available.\nTests can be used to test a variable against a common expression. To test a variable or expression,\nyou add `is` plus the name of the test after the variable. For example, to find out if a variable\nis defined, you can do `name is defined`, which will then return true or false depending on\nwhether name is defined in the current template context.\n\nTests can accept arguments, too. If the test only takes one argument, you can leave out the\nparentheses. For example, the following two expressions do the same thing:\n\n```crinja\n{% if loop.index is divisibleby 3 %}\n{% if loop.index is divisibleby(3) %}\n```\n\n## Builtin Tests\n\nThe following tests are available in the default library:\n\n* `**[callable](http://jinja.pocoo.org/docs/2.9/templates/#callable)**(<em></em>)`\n* `**[defined](http://jinja.pocoo.org/docs/2.9/templates/#defined)**(<em></em>)`\n* `**[divisibleby](http://jinja.pocoo.org/docs/2.9/templates/#divisibleby)**(<em>num</em>)`\n* `**[equalto](http://jinja.pocoo.org/docs/2.9/templates/#equalto)**(<em>other</em>)`\n* `**[escaped](http://jinja.pocoo.org/docs/2.9/templates/#escaped)**(<em></em>)`\n* `**[even](http://jinja.pocoo.org/docs/2.9/templates/#even)**(<em></em>)`\n* `**[greaterthan](http://jinja.pocoo.org/docs/2.9/templates/#greaterthan)**(<em>other=0</em>)`\n* `**[in](http://jinja.pocoo.org/docs/2.9/templates/#in)**(<em>seq=[]</em>)`\n* `**[iterable](http://jinja.pocoo.org/docs/2.9/templates/#iterable)**(<em></em>)`\n* `**[lessthan](http://jinja.pocoo.org/docs/2.9/templates/#lessthan)**(<em>other=0</em>)`\n* `**[lower](http://jinja.pocoo.org/docs/2.9/templates/#lower)**(<em></em>)`\n* `**[mapping](http://jinja.pocoo.org/docs/2.9/templates/#mapping)**(<em></em>)`\n* `**[nil](http://jinja.pocoo.org/docs/2.9/templates/#nil)**(<em></em>)`\n* `**[none](http://jinja.pocoo.org/docs/2.9/templates/#none)**(<em></em>)`\n* `**[number](http://jinja.pocoo.org/docs/2.9/templates/#number)**(<em></em>)`\n* `**[odd](http://jinja.pocoo.org/docs/2.9/templates/#odd)**(<em></em>)`\n* `**[sameas](http://jinja.pocoo.org/docs/2.9/templates/#sameas)**(<em>other</em>)`\n* `**[sequence](http://jinja.pocoo.org/docs/2.9/templates/#sequence)**(<em></em>)`\n* `**[string](http://jinja.pocoo.org/docs/2.9/templates/#string)**(<em></em>)`\n* `**[undefined](http://jinja.pocoo.org/docs/2.9/templates/#undefined)**(<em></em>)`\n* `**[upper](http://jinja.pocoo.org/docs/2.9/templates/#upper)**(<em></em>)`","summary":"<p>Beside filters, there are also so-called “tests” available.</p>","types":[{"html_id":"crinja/Crinja/Test/Library","path":"Crinja/Test/Library.html","kind":"class","full_name":"Crinja::Test::Library","name":"Library","abstract":false,"superclass":{"html_id":"crinja/Crinja/FeatureLibrary","kind":"class","full_name":"Crinja::FeatureLibrary","name":"FeatureLibrary"},"ancestors":[{"html_id":"crinja/Crinja/FeatureLibrary","kind":"class","full_name":"Crinja::FeatureLibrary","name":"FeatureLibrary"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/lib/test.cr","line_number":41,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Test","kind":"module","full_name":"Crinja::Test","name":"Test"},"class_methods":[{"html_id":"alias(from,to)-class-method","name":"alias","abstract":false,"args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""}],"args_string":"(from, to)","args_html":"(from, to)","location":{"filename":"src/lib/test.cr","line_number":41,"url":null},"def":{"name":"alias","args":[{"name":"from","external_name":"from","restriction":""},{"name":"to","external_name":"to","restriction":""}],"visibility":"Public","body":"@@aliases[from.to_s] = to.to_s"},"external_var":false},{"html_id":"defaults-class-method","name":"defaults","abstract":false,"def":{"name":"defaults","visibility":"Public","body":"@@defaults"},"external_var":false}],"constructors":[{"html_id":"new(register_defaults=true,disabled=[]ofString)-class-method","name":"new","doc":"Creates a new feature library.\nIf *register_defaults* is set to `false`, this library will be empty. Otherwise it is populated\nwith registered default features.\nA list of *disabled* features can be provided, if a feature name in this list is accessed,\nit will raise a `SecurityError`.","summary":"<p>Creates a new feature library.</p>","abstract":false,"args":[{"name":"register_defaults","default_value":"true","external_name":"register_defaults","restriction":""},{"name":"disabled","default_value":"[] of String","external_name":"disabled","restriction":""}],"args_string":"(register_defaults = true, disabled = [] of String)","args_html":"(register_defaults = <span class=\"n\">true</span>, disabled = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">String</span>)","location":{"filename":"src/lib/feature_library.cr","line_number":19,"url":null},"def":{"name":"new","args":[{"name":"register_defaults","default_value":"true","external_name":"register_defaults","restriction":""},{"name":"disabled","default_value":"[] of String","external_name":"disabled","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(register_defaults, disabled)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"register_defaults-instance-method","name":"register_defaults","doc":"Create a local method in a subclass to allow the usage of `previous_def`.","summary":"<p>Create a local method in a subclass to allow the usage of <code>previous_def</code>.</p>","abstract":false,"location":{"filename":"src/lib/test.cr","line_number":41,"url":null},"def":{"name":"register_defaults","visibility":"Public","body":"@@defaults.each do |callable|\n  self << callable\nend\n@aliases.merge!(@@aliases)\n"},"external_var":false}]}]},{"html_id":"crinja/Crinja/Tuple","path":"Crinja/Tuple.html","kind":"class","full_name":"Crinja::Tuple","name":"Tuple","abstract":false,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Crinja/Object","kind":"module","full_name":"Crinja::Object","name":"Object"},{"html_id":"crinja/Indexable","kind":"module","full_name":"Indexable","name":"Indexable"},{"html_id":"crinja/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"crinja/Iterable","kind":"module","full_name":"Iterable","name":"Iterable"},{"html_id":"crinja/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/runtime/tuple.cr","line_number":4,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"crinja/Crinja/Object","kind":"module","full_name":"Crinja::Object","name":"Object"},{"html_id":"crinja/Indexable","kind":"module","full_name":"Indexable","name":"Indexable"}],"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"doc":"Implementation of a Python Tuple","summary":"<p>Implementation of a Python Tuple</p>","class_methods":[{"html_id":"from(data:Iterable,*add)-class-method","name":"from","abstract":false,"args":[{"name":"data","external_name":"data","restriction":"Iterable"},{"name":"add","external_name":"add","restriction":""}],"args_string":"(data : Iterable, *add)","args_html":"(data : Iterable, *add)","location":{"filename":"src/runtime/tuple.cr","line_number":51,"url":null},"def":{"name":"from","args":[{"name":"data","external_name":"data","restriction":"Iterable"},{"name":"add","external_name":"add","restriction":""}],"splat_index":1,"visibility":"Public","body":"new((data.each_with_object([] of Value) do |item, arr|\n  arr << (Value.new(item))\nend).tap do |arr|\n  add.each do |item| arr << (Value.new(item)) end\nend)"},"external_var":false}],"constructors":[{"html_id":"new(data:Array(Value)=Array(Value).new)-class-method","name":"new","abstract":false,"args":[{"name":"data","default_value":"Array(Value).new","external_name":"data","restriction":"Array(Value)"}],"args_string":"(data : Array(Value) = Array(Value).new)","args_html":"(data : Array(<a href=\"../Crinja/Value.html\">Value</a>) = <span class=\"t\">Array</span>(<span class=\"t\">Value</span>).new)","location":{"filename":"src/runtime/tuple.cr","line_number":9,"url":null},"def":{"name":"new","args":[{"name":"data","default_value":"Array(Value).new","external_name":"data","restriction":"Array(Value)"}],"visibility":"Public","body":"_ = allocate\n_.initialize(data)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(*data)-class-method","name":"new","abstract":false,"args":[{"name":"data","external_name":"data","restriction":""}],"args_string":"(*data)","args_html":"(*data)","location":{"filename":"src/runtime/tuple.cr","line_number":59,"url":null},"def":{"name":"new","args":[{"name":"data","external_name":"data","restriction":""}],"splat_index":0,"visibility":"Public","body":"new(data.each_with_object([] of Value) do |item, arr|\n  arr << (Value.new(item))\nend)"},"external_var":false}],"instance_methods":[{"html_id":"+(item:Value)-instance-method","name":"+","abstract":false,"args":[{"name":"item","external_name":"item","restriction":"Value"}],"args_string":"(item : Value)","args_html":"(item : <a href=\"../Crinja/Value.html\">Value</a>)","location":{"filename":"src/runtime/tuple.cr","line_number":24,"url":null},"def":{"name":"+","args":[{"name":"item","external_name":"item","restriction":"Value"}],"visibility":"Public","body":"Crinja::Tuple.from(@data, item)"},"external_var":false},{"html_id":"+(other:Crinja::Tuple)-instance-method","name":"+","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"Crinja::Tuple"}],"args_string":"(other : Crinja::Tuple)","args_html":"(other : <a href=\"../Crinja/Tuple.html\">Crinja::Tuple</a>)","location":{"filename":"src/runtime/tuple.cr","line_number":28,"url":null},"def":{"name":"+","args":[{"name":"other","external_name":"other","restriction":"Crinja::Tuple"}],"visibility":"Public","body":"Crinja::Tuple.from(@data + (other.@data))"},"external_var":false},{"html_id":"<=>(*args,**options)-instance-method","name":"<=>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/runtime/tuple.cr","line_number":12,"url":null},"def":{"name":"<=>","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@data.<=>(*args, **options)"},"external_var":false},{"html_id":"<=>(*args,**options,&)-instance-method","name":"<=>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/runtime/tuple.cr","line_number":12,"url":null},"def":{"name":"<=>","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@data.<=>(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"==(other:Crinja::Tuple)-instance-method","name":"==","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"Crinja::Tuple"}],"args_string":"(other : Crinja::Tuple)","args_html":"(other : <a href=\"../Crinja/Tuple.html\">Crinja::Tuple</a>)","location":{"filename":"src/runtime/tuple.cr","line_number":32,"url":null},"def":{"name":"==","args":[{"name":"other","external_name":"other","restriction":"Crinja::Tuple"}],"visibility":"Public","body":"self == (other.@data)"},"external_var":false},{"html_id":"==(*args,**options)-instance-method","name":"==","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/runtime/tuple.cr","line_number":12,"url":null},"def":{"name":"==","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@data.==(*args, **options)"},"external_var":false},{"html_id":"==(*args,**options,&)-instance-method","name":"==","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/runtime/tuple.cr","line_number":12,"url":null},"def":{"name":"==","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@data.==(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"pretty_print(pp):Nil-instance-method","name":"pretty_print","abstract":false,"args":[{"name":"pp","external_name":"pp","restriction":""}],"args_string":"(pp) : Nil","args_html":"(pp) : Nil","location":{"filename":"src/runtime/tuple.cr","line_number":47,"url":null},"def":{"name":"pretty_print","args":[{"name":"pp","external_name":"pp","restriction":""}],"return_type":"Nil","visibility":"Public","body":"pp.list(\"((\", self, \"))\")"},"external_var":false},{"html_id":"size(*args,**options)-instance-method","name":"size","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/runtime/tuple.cr","line_number":12,"url":null},"def":{"name":"size","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@data.size(*args, **options)"},"external_var":false},{"html_id":"size(*args,**options,&)-instance-method","name":"size","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/runtime/tuple.cr","line_number":12,"url":null},"def":{"name":"size","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@data.size(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"to_s(io)-instance-method","name":"to_s","abstract":false,"args":[{"name":"io","external_name":"io","restriction":""}],"args_string":"(io)","args_html":"(io)","location":{"filename":"src/runtime/tuple.cr","line_number":36,"url":null},"def":{"name":"to_s","args":[{"name":"io","external_name":"io","restriction":""}],"visibility":"Public","body":"io << \"((\"\njoin(io, \", \", &.inspect(io))\nio << \"))\"\n"},"external_var":false},{"html_id":"to_s(*args,**options)-instance-method","name":"to_s","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/runtime/tuple.cr","line_number":12,"url":null},"def":{"name":"to_s","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@data.to_s(*args, **options)"},"external_var":false},{"html_id":"to_s(*args,**options,&)-instance-method","name":"to_s","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/runtime/tuple.cr","line_number":12,"url":null},"def":{"name":"to_s","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@data.to_s(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"unsafe_fetch(index:Int):Value-instance-method","name":"unsafe_fetch","doc":"Returns the element at the given *index*, without doing any bounds check.\n\n`Indexable` makes sure to invoke this method with *index* in `0...size`,\nso converting negative indices to positive ones is not needed here.\n\nClients never invoke this method directly. Instead, they access\nelements with `#[](index)` and `#[]?(index)`.\n\nThis method should only be directly invoked if you are absolutely\nsure the index is in bounds, to avoid a bounds check for a small boost\nof performance.","summary":"<p>Returns the element at the given <em>index</em>, without doing any bounds check.</p>","abstract":false,"args":[{"name":"index","external_name":"index","restriction":"Int"}],"args_string":"(index : Int) : Value","args_html":"(index : Int) : <a href=\"../Crinja/Value.html\">Value</a>","location":{"filename":"src/runtime/tuple.cr","line_number":14,"url":null},"def":{"name":"unsafe_fetch","args":[{"name":"index","external_name":"index","restriction":"Int"}],"return_type":"Value","visibility":"Public","body":"@data.unsafe_fetch(index)"},"external_var":false}]},{"html_id":"crinja/Crinja/TypeError","path":"Crinja/TypeError.html","kind":"class","full_name":"Crinja::TypeError","name":"TypeError","abstract":false,"superclass":{"html_id":"crinja/Crinja/RuntimeError","kind":"class","full_name":"Crinja::RuntimeError","name":"RuntimeError"},"ancestors":[{"html_id":"crinja/Crinja/RuntimeError","kind":"class","full_name":"Crinja::RuntimeError","name":"RuntimeError"},{"html_id":"crinja/Crinja/Error","kind":"class","full_name":"Crinja::Error","name":"Error"},{"html_id":"crinja/Crinja/SourceAttached","kind":"module","full_name":"Crinja::SourceAttached","name":"SourceAttached"},{"html_id":"crinja/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/error.cr","line_number":137,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"constructors":[{"html_id":"new(value:Value,msg=\"\",cause:Exception|Nil=nil)-class-method","name":"new","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"Value"},{"name":"msg","default_value":"\"\"","external_name":"msg","restriction":""},{"name":"cause","default_value":"nil","external_name":"cause","restriction":"Exception | ::Nil"}],"args_string":"(value : Value, msg = \"\", cause : Exception | Nil = nil)","args_html":"(value : <a href=\"../Crinja/Value.html\">Value</a>, msg = <span class=\"s\">&quot;&quot;</span>, cause : Exception | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/error.cr","line_number":140,"url":null},"def":{"name":"new","args":[{"name":"value","external_name":"value","restriction":"Value"},{"name":"msg","default_value":"\"\"","external_name":"msg","restriction":""},{"name":"cause","default_value":"nil","external_name":"cause","restriction":"Exception | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(value, msg, cause)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(msg=\"\",cause:Exception|Nil=nil)-class-method","name":"new","abstract":false,"args":[{"name":"msg","default_value":"\"\"","external_name":"msg","restriction":""},{"name":"cause","default_value":"nil","external_name":"cause","restriction":"Exception | ::Nil"}],"args_string":"(msg = \"\", cause : Exception | Nil = nil)","args_html":"(msg = <span class=\"s\">&quot;&quot;</span>, cause : Exception | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/error.cr","line_number":144,"url":null},"def":{"name":"new","args":[{"name":"msg","default_value":"\"\"","external_name":"msg","restriction":""},{"name":"cause","default_value":"nil","external_name":"cause","restriction":"Exception | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(msg, cause)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"value:Value|Nil-instance-method","name":"value","abstract":false,"location":{"filename":"src/error.cr","line_number":138,"url":null},"def":{"name":"value","return_type":"Value | ::Nil","visibility":"Public","body":"@value"},"external_var":false}]},{"html_id":"crinja/Crinja/Undefined","path":"Crinja/Undefined.html","kind":"class","full_name":"Crinja::Undefined","name":"Undefined","abstract":false,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/runtime/undefined.cr","line_number":5,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"crinja/Crinja/StrictUndefined","kind":"class","full_name":"Crinja::StrictUndefined","name":"StrictUndefined"}],"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"doc":"The default undefined type.","summary":"<p>The default undefined type.</p>","constructors":[{"html_id":"new(name:String=\"\")-class-method","name":"new","abstract":false,"args":[{"name":"name","default_value":"\"\"","external_name":"name","restriction":"::String"}],"args_string":"(name : String = \"\")","args_html":"(name : <a href=\"../String.html\">String</a> = <span class=\"s\">&quot;&quot;</span>)","location":{"filename":"src/runtime/undefined.cr","line_number":8,"url":null},"def":{"name":"new","args":[{"name":"name","default_value":"\"\"","external_name":"name","restriction":"::String"}],"visibility":"Public","body":"_ = allocate\n_.initialize(name)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"==(other:self)-instance-method","name":"==","doc":"Returns `true` if this reference is the same as *other*. Invokes `same?`.","summary":"<p>Returns <code>true</code> if this reference is the same as <em>other</em>.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"self"}],"args_string":"(other : self)","args_html":"(other : <span class=\"k\">self</span>)","def":{"name":"==","args":[{"name":"other","external_name":"other","restriction":"self"}],"visibility":"Public","body":"if same?(other)\n  return true\nend\n\n\nif @name == (other.@name)\nelse\n  return false\nend\n\ntrue\n"},"external_var":false},{"html_id":"hash(hasher)-instance-method","name":"hash","doc":"See `Object#hash(hasher)`","summary":"<p>See <code>Object#hash(hasher)</code></p>","abstract":false,"args":[{"name":"hasher","external_name":"hasher","restriction":""}],"args_string":"(hasher)","args_html":"(hasher)","def":{"name":"hash","args":[{"name":"hasher","external_name":"hasher","restriction":""}],"visibility":"Public","body":"hasher = @name.hash(hasher)\n\nhasher\n"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/runtime/undefined.cr","line_number":6,"url":null},"def":{"name":"name","visibility":"Public","body":"@name"},"external_var":false},{"html_id":"name=(name:String)-instance-method","name":"name=","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"::String"}],"args_string":"(name : String)","args_html":"(name : <a href=\"../String.html\">String</a>)","location":{"filename":"src/runtime/undefined.cr","line_number":6,"url":null},"def":{"name":"name=","args":[{"name":"name","external_name":"name","restriction":"::String"}],"visibility":"Public","body":"@name = name"},"external_var":false},{"html_id":"size-instance-method","name":"size","abstract":false,"location":{"filename":"src/runtime/undefined.cr","line_number":20,"url":null},"def":{"name":"size","visibility":"Public","body":"0"},"external_var":false},{"html_id":"to_json(json:JSON::Builder)-instance-method","name":"to_json","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"args_string":"(json : JSON::Builder)","args_html":"(json : JSON::Builder)","location":{"filename":"src/runtime/undefined.cr","line_number":16,"url":null},"def":{"name":"to_json","args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"visibility":"Public","body":"json.null"},"external_var":false},{"html_id":"to_s(io)-instance-method","name":"to_s","abstract":false,"args":[{"name":"io","external_name":"io","restriction":""}],"args_string":"(io)","args_html":"(io)","location":{"filename":"src/runtime/undefined.cr","line_number":11,"url":null},"def":{"name":"to_s","args":[{"name":"io","external_name":"io","restriction":""}],"visibility":"Public","body":""},"external_var":false}]},{"html_id":"crinja/Crinja/UndefinedError","path":"Crinja/UndefinedError.html","kind":"class","full_name":"Crinja::UndefinedError","name":"UndefinedError","abstract":false,"superclass":{"html_id":"crinja/Crinja/RuntimeError","kind":"class","full_name":"Crinja::RuntimeError","name":"RuntimeError"},"ancestors":[{"html_id":"crinja/Crinja/RuntimeError","kind":"class","full_name":"Crinja::RuntimeError","name":"RuntimeError"},{"html_id":"crinja/Crinja/Error","kind":"class","full_name":"Crinja::Error","name":"Error"},{"html_id":"crinja/Crinja/SourceAttached","kind":"module","full_name":"Crinja::SourceAttached","name":"SourceAttached"},{"html_id":"crinja/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/error.cr","line_number":149,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"constructors":[{"html_id":"new(undefined:Undefined,msg=\"\",cause:Exception|Nil=nil)-class-method","name":"new","abstract":false,"args":[{"name":"undefined","external_name":"undefined","restriction":"Undefined"},{"name":"msg","default_value":"\"\"","external_name":"msg","restriction":""},{"name":"cause","default_value":"nil","external_name":"cause","restriction":"Exception | ::Nil"}],"args_string":"(undefined : Undefined, msg = \"\", cause : Exception | Nil = nil)","args_html":"(undefined : <a href=\"../Crinja/Undefined.html\">Undefined</a>, msg = <span class=\"s\">&quot;&quot;</span>, cause : Exception | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/error.cr","line_number":156,"url":null},"def":{"name":"new","args":[{"name":"undefined","external_name":"undefined","restriction":"Undefined"},{"name":"msg","default_value":"\"\"","external_name":"msg","restriction":""},{"name":"cause","default_value":"nil","external_name":"cause","restriction":"Exception | ::Nil"}],"visibility":"Public","body":"new(undefined.name, msg, cause)"},"external_var":false},{"html_id":"new(variable_name:String,msg=\"\",cause:Exception|Nil=nil)-class-method","name":"new","abstract":false,"args":[{"name":"variable_name","external_name":"variable_name","restriction":"::String"},{"name":"msg","default_value":"\"\"","external_name":"msg","restriction":""},{"name":"cause","default_value":"nil","external_name":"cause","restriction":"Exception | ::Nil"}],"args_string":"(variable_name : String, msg = \"\", cause : Exception | Nil = nil)","args_html":"(variable_name : <a href=\"../String.html\">String</a>, msg = <span class=\"s\">&quot;&quot;</span>, cause : Exception | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/error.cr","line_number":152,"url":null},"def":{"name":"new","args":[{"name":"variable_name","external_name":"variable_name","restriction":"::String"},{"name":"msg","default_value":"\"\"","external_name":"msg","restriction":""},{"name":"cause","default_value":"nil","external_name":"cause","restriction":"Exception | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(variable_name, msg, cause)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"message-instance-method","name":"message","abstract":false,"location":{"filename":"src/error.cr","line_number":160,"url":null},"def":{"name":"message","visibility":"Public","body":"\"#{variable_name} is undefined.#{super()}\""},"external_var":false},{"html_id":"variable_name:String-instance-method","name":"variable_name","abstract":false,"location":{"filename":"src/error.cr","line_number":150,"url":null},"def":{"name":"variable_name","return_type":"String","visibility":"Public","body":"@variable_name"},"external_var":false}]},{"html_id":"crinja/Crinja/Util","path":"Crinja/Util.html","kind":"module","full_name":"Crinja::Util","name":"Util","abstract":false,"locations":[{"filename":"src/lib/filter/html.cr","line_number":62,"url":null},{"filename":"src/lib/filter/string.cr","line_number":129,"url":null},{"filename":"src/util/scope_map.cr","line_number":1,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"AUTO_LINK_RE","name":"AUTO_LINK_RE","value":"/\\\n              (?: ([0-9A-Za-z+.:-]+:)\\/\\/ | www\\. )\n              [^\\s<]+\n            /x","doc":"https://github.com/tenderlove/rails_autolink/blob/master/lib/rails_autolink/helpers.rb","summary":"<p>https://github.com/tenderlove/rails_autolink/blob/master/lib/rails_autolink/helpers.rb</p>"},{"id":"REGEX_WORD","name":"REGEX_WORD","value":"/\\s\\-\\(\\{\\[\\</"}],"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"class_methods":[{"html_id":"urlize(text,trim_url_limit,rel,target)-class-method","name":"urlize","abstract":false,"args":[{"name":"text","external_name":"text","restriction":""},{"name":"trim_url_limit","external_name":"trim_url_limit","restriction":""},{"name":"rel","external_name":"rel","restriction":""},{"name":"target","external_name":"target","restriction":""}],"args_string":"(text, trim_url_limit, rel, target)","args_html":"(text, trim_url_limit, rel, target)","location":{"filename":"src/lib/filter/html.cr","line_number":69,"url":null},"def":{"name":"urlize","args":[{"name":"text","external_name":"text","restriction":""},{"name":"trim_url_limit","external_name":"trim_url_limit","restriction":""},{"name":"rel","external_name":"rel","restriction":""},{"name":"target","external_name":"target","restriction":""}],"visibility":"Public","body":"rel_attr = \"\"\nif rel.empty?\nelse\n  rel_attr = \" rel=\\\"%s\\\"\" % (HTML.escape(rel.join(' ')))\nend\n\ntarget_attr = \"\"\nif target.nil? || target.empty?\nelse\n  target_attr = \" target=\\\"%s\\\"\" % (HTML.escape(target))\nend\n\nSafeString.build do |io|\n  text.each_line do |line|\n    io << (line.gsub(AUTO_LINK_RE) do\n      all = $~\n      url = all[0]\n      display = url\n      if trim_url_limit.nil? || display.size < trim_url_limit\n      else\n        display = display[0..(trim_url_limit - 3)] + \"...\"\n      end\n      \"<a href=\\\"#{url}\\\"#{rel_attr}#{target_attr}>#{display}</a>\"\n    end)\n  end\nend\n"},"external_var":false}],"types":[{"html_id":"crinja/Crinja/Util/ScopeMap","path":"Crinja/Util/ScopeMap.html","kind":"class","full_name":"Crinja::Util::ScopeMap(K, V)","name":"ScopeMap","abstract":false,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/util/scope_map.cr","line_number":1,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"crinja/Crinja/Context","kind":"class","full_name":"Crinja::Context","name":"Context"}],"namespace":{"html_id":"crinja/Crinja/Util","kind":"module","full_name":"Crinja::Util","name":"Util"},"constructors":[{"html_id":"new(parent:Crinja::Util::ScopeMap(K,V)|Nil=nil,scope=nil)-class-method","name":"new","abstract":false,"args":[{"name":"parent","default_value":"nil","external_name":"parent","restriction":"::Crinja::Util::ScopeMap(K, V) | ::Nil"},{"name":"scope","default_value":"nil","external_name":"scope","restriction":""}],"args_string":"(parent : Crinja::Util::ScopeMap(K, V) | Nil = nil, scope = nil)","args_html":"(parent : <a href=\"../../Crinja/Util/ScopeMap.html\">Crinja::Util::ScopeMap</a>(K, V) | Nil = <span class=\"n\">nil</span>, scope = <span class=\"n\">nil</span>)","location":{"filename":"src/util/scope_map.cr","line_number":7,"url":null},"def":{"name":"new","args":[{"name":"parent","default_value":"nil","external_name":"parent","restriction":"::Crinja::Util::ScopeMap(K, V) | ::Nil"},{"name":"scope","default_value":"nil","external_name":"scope","restriction":""}],"visibility":"Public","body":"_ = ScopeMap(K, V).allocate\n_.initialize(parent, scope)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"[](key:K)-instance-method","name":"[]","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"K"}],"args_string":"(key : K)","args_html":"(key : K)","location":{"filename":"src/util/scope_map.cr","line_number":31,"url":null},"def":{"name":"[]","args":[{"name":"key","external_name":"key","restriction":"K"}],"visibility":"Public","body":"if scope.has_key?(key)\n  return scope[key]\nend\n\nparent.try(&.[](key)) || undefined\n"},"external_var":false},{"html_id":"[]=(*args,**options)-instance-method","name":"[]=","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/util/scope_map.cr","line_number":11,"url":null},"def":{"name":"[]=","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"scope[*args] = **options"},"external_var":false},{"html_id":"[]=(*args,**options,&)-instance-method","name":"[]=","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/util/scope_map.cr","line_number":11,"url":null},"def":{"name":"[]=","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"scope.[]=(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"clear(*args,**options)-instance-method","name":"clear","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/util/scope_map.cr","line_number":11,"url":null},"def":{"name":"clear","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"scope.clear(*args, **options)"},"external_var":false},{"html_id":"clear(*args,**options,&)-instance-method","name":"clear","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/util/scope_map.cr","line_number":11,"url":null},"def":{"name":"clear","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"scope.clear(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"delete(*args,**options)-instance-method","name":"delete","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/util/scope_map.cr","line_number":11,"url":null},"def":{"name":"delete","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"scope.delete(*args, **options)"},"external_var":false},{"html_id":"delete(*args,**options,&)-instance-method","name":"delete","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/util/scope_map.cr","line_number":11,"url":null},"def":{"name":"delete","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"scope.delete(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"entries-instance-method","name":"entries","abstract":false,"location":{"filename":"src/util/scope_map.cr","line_number":57,"url":null},"def":{"name":"entries","visibility":"Public","body":"keys.map do |key|\n  {key, self[key]}\nend"},"external_var":false},{"html_id":"has_key?(key:K)-instance-method","name":"has_key?","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"K"}],"args_string":"(key : K)","args_html":"(key : K)","location":{"filename":"src/util/scope_map.cr","line_number":17,"url":null},"def":{"name":"has_key?","args":[{"name":"key","external_name":"key","restriction":"K"}],"visibility":"Public","body":"(scope.has_key?(key)) || parent.try(&.has_key?(key))"},"external_var":false},{"html_id":"has_value?(value:V)-instance-method","name":"has_value?","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"V"}],"args_string":"(value : V)","args_html":"(value : V)","location":{"filename":"src/util/scope_map.cr","line_number":21,"url":null},"def":{"name":"has_value?","args":[{"name":"value","external_name":"value","restriction":"V"}],"visibility":"Public","body":"if scope.has_value?\n  return true\nend\n\nif parent.nil?\nelse\n  return parent.has_value?(value)\nend\n\nreturn false\n"},"external_var":false},{"html_id":"inspect(io:IO)-instance-method","name":"inspect","doc":"Appends a String representation of this object\nwhich includes its class name, its object address\nand the values of all instance variables.\n\n```\nclass Person\n  def initialize(@name : String, @age : Int32)\n  end\nend\n\nPerson.new(\"John\", 32).inspect # => #<Person:0x10fd31f20 @name=\"John\", @age=32>\n```","summary":"<p>Appends a String representation of this object which includes its class name, its object address and the values of all instance variables.</p>","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/util/scope_map.cr","line_number":63,"url":null},"def":{"name":"inspect","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"io << \"<\"\nio << self.class.name\nio << \" @scope=\"\nscope.inspect(io)\n\nif parent.nil?\nelse\n  io << \" @parent=\"\n  parent.inspect(io)\nend\n\nio << \">\"\n"},"external_var":false},{"html_id":"keys-instance-method","name":"keys","abstract":false,"location":{"filename":"src/util/scope_map.cr","line_number":43,"url":null},"def":{"name":"keys","visibility":"Public","body":"keys = scope.keys\n\nif p = parent\n  keys = keys + p.keys\nend\n\nkeys\n"},"external_var":false},{"html_id":"merge!(*args,**options)-instance-method","name":"merge!","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/util/scope_map.cr","line_number":11,"url":null},"def":{"name":"merge!","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"scope.merge!(*args, **options)"},"external_var":false},{"html_id":"merge!(*args,**options,&)-instance-method","name":"merge!","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/util/scope_map.cr","line_number":11,"url":null},"def":{"name":"merge!","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"scope.merge!(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"parent-instance-method","name":"parent","abstract":false,"location":{"filename":"src/util/scope_map.cr","line_number":5,"url":null},"def":{"name":"parent","visibility":"Public","body":"@parent"},"external_var":false},{"html_id":"scope-instance-method","name":"scope","abstract":false,"location":{"filename":"src/util/scope_map.cr","line_number":5,"url":null},"def":{"name":"scope","visibility":"Public","body":"@scope"},"external_var":false},{"html_id":"size-instance-method","name":"size","abstract":false,"location":{"filename":"src/util/scope_map.cr","line_number":13,"url":null},"def":{"name":"size","visibility":"Public","body":"keys.size"},"external_var":false},{"html_id":"undefined-instance-method","name":"undefined","abstract":false,"location":{"filename":"src/util/scope_map.cr","line_number":39,"url":null},"def":{"name":"undefined","visibility":"Public","body":"nil"},"external_var":false},{"html_id":"values-instance-method","name":"values","abstract":false,"location":{"filename":"src/util/scope_map.cr","line_number":53,"url":null},"def":{"name":"values","visibility":"Public","body":"entries.map(&.[](0))"},"external_var":false}]},{"html_id":"crinja/Crinja/Util/StringTrimmer","path":"Crinja/Util/StringTrimmer.html","kind":"module","full_name":"Crinja::Util::StringTrimmer","name":"StringTrimmer","abstract":false,"locations":[{"filename":"src/util/string_trimmer.cr","line_number":1,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Util","kind":"module","full_name":"Crinja::Util","name":"Util"},"class_methods":[{"html_id":"trim(string,left=true,right=true,strip_newline_left=false,strip_newline_right=false)-class-method","name":"trim","abstract":false,"args":[{"name":"string","external_name":"string","restriction":""},{"name":"left","default_value":"true","external_name":"left","restriction":""},{"name":"right","default_value":"true","external_name":"right","restriction":""},{"name":"strip_newline_left","default_value":"false","external_name":"strip_newline_left","restriction":""},{"name":"strip_newline_right","default_value":"false","external_name":"strip_newline_right","restriction":""}],"args_string":"(string, left = true, right = true, strip_newline_left = false, strip_newline_right = false)","args_html":"(string, left = <span class=\"n\">true</span>, right = <span class=\"n\">true</span>, strip_newline_left = <span class=\"n\">false</span>, strip_newline_right = <span class=\"n\">false</span>)","location":{"filename":"src/util/string_trimmer.cr","line_number":11,"url":null},"def":{"name":"trim","args":[{"name":"string","external_name":"string","restriction":""},{"name":"left","default_value":"true","external_name":"left","restriction":""},{"name":"right","default_value":"true","external_name":"right","restriction":""},{"name":"strip_newline_left","default_value":"false","external_name":"strip_newline_left","restriction":""},{"name":"strip_newline_right","default_value":"false","external_name":"strip_newline_right","restriction":""}],"visibility":"Public","body":"if left || right\nelse\n  return string\nend\n\nString.build do |io|\n  if left\n    first_line, nl_first, string = string.partition(\"\\n\")\n\n    if nl_first.empty?\n      string = first_line.lstrip\n    else\n      first_line = first_line.lstrip\n      io << first_line\n      if strip_newline_left\n      else\n        io << nl_first\n      end\n    end\n  end\n\n  if right\n    middle, nl, last_line = string.rpartition(\"\\n\")\n    io << middle\n    last_trimmed = last_line.rstrip\n\n\n\n\n\n\n    if strip_newline_right\n    else\n      io << nl\n    end\n    io << last_trimmed\n  else\n    io << string\n  end\nend\n"},"external_var":false},{"html_id":"trim_simple(string,left=true,right=true)-class-method","name":"trim_simple","abstract":false,"args":[{"name":"string","external_name":"string","restriction":""},{"name":"left","default_value":"true","external_name":"left","restriction":""},{"name":"right","default_value":"true","external_name":"right","restriction":""}],"args_string":"(string, left = true, right = true)","args_html":"(string, left = <span class=\"n\">true</span>, right = <span class=\"n\">true</span>)","location":{"filename":"src/util/string_trimmer.cr","line_number":2,"url":null},"def":{"name":"trim_simple","args":[{"name":"string","external_name":"string","restriction":""},{"name":"left","default_value":"true","external_name":"left","restriction":""},{"name":"right","default_value":"true","external_name":"right","restriction":""}],"visibility":"Public","body":"if left || right\nelse\n  return string\nend\n\nif left\n  string = string.lstrip\nend\nif right\n  string = string.rstrip\nend\n\nstring\n"},"external_var":false}]}]},{"html_id":"crinja/Crinja/Value","path":"Crinja/Value.html","kind":"struct","full_name":"Crinja::Value","name":"Value","abstract":false,"superclass":{"html_id":"crinja/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"crinja/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"crinja/Iterable","kind":"module","full_name":"Iterable","name":"Iterable"},{"html_id":"crinja/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"crinja/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"crinja/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/runtime/value.cr","line_number":2,"url":null},{"filename":"src/runtime/value.cr","line_number":102,"url":null},{"filename":"src/runtime/value.cr","line_number":601,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"UNDEFINED","name":"UNDEFINED","value":"new(Undefined.new)"}],"included_modules":[{"html_id":"crinja/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"crinja/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"crinja/Iterable","kind":"module","full_name":"Iterable","name":"Iterable"}],"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"doc":"`Value` represents an object inside the Crinja runtime.\n\nIt wraps a Crystal value in `#raw` and defines methods to access\nproperties of the wrapped value while being agnostic about the\nactual type of the wrapped raw value.","summary":"<p><code><a href=\"../Crinja/Value.html\">Value</a></code> represents an object inside the Crinja runtime.</p>","constructors":[{"html_id":"new(value:self):self-class-method","name":"new","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"self"}],"args_string":"(value : self) : self","args_html":"(value : <span class=\"k\">self</span>) : <span class=\"k\">self</span>","location":{"filename":"src/runtime/value.cr","line_number":109,"url":null},"def":{"name":"new","args":[{"name":"value","external_name":"value","restriction":"self"}],"return_type":"self","visibility":"Public","body":"value"},"external_var":false},{"html_id":"new(raw:Raw)-class-method","name":"new","abstract":false,"args":[{"name":"raw","external_name":"raw","restriction":"Raw"}],"args_string":"(raw : Raw)","args_html":"(raw : <a href=\"../Crinja/Raw.html\">Raw</a>)","location":{"filename":"src/runtime/value.cr","line_number":117,"url":null},"def":{"name":"new","args":[{"name":"raw","external_name":"raw","restriction":"Raw"}],"visibility":"Public","body":"_ = allocate\n_.initialize(raw)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(value):self-class-method","name":"new","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value) : self","args_html":"(value) : <span class=\"k\">self</span>","location":{"filename":"src/runtime/value.cr","line_number":113,"url":null},"def":{"name":"new","args":[{"name":"value","external_name":"value","restriction":""}],"return_type":"self","visibility":"Public","body":"Crinja.value(value)"},"external_var":false}],"instance_methods":[{"html_id":"<=>(other:Value)-instance-method","name":"<=>","doc":"Compares this value to *other*.\n\nTODO: Enable proper comparison.","summary":"<p>Compares this value to <em>other</em>.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"Value"}],"args_string":"(other : Value)","args_html":"(other : <a href=\"../Crinja/Value.html\">Value</a>)","location":{"filename":"src/runtime/value.cr","line_number":469,"url":null},"def":{"name":"<=>","args":[{"name":"other","external_name":"other","restriction":"Value"}],"visibility":"Public","body":"compare(raw, other.raw)"},"external_var":false},{"html_id":"==(other:Value)-instance-method","name":"==","doc":"Returns `true` if both `self` and *other*'s raw object are equal.","summary":"<p>Returns <code>true</code> if both <code>self</code> and <em>other</em>'s raw object are equal.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"Value"}],"args_string":"(other : Value)","args_html":"(other : <a href=\"../Crinja/Value.html\">Value</a>)","location":{"filename":"src/runtime/value.cr","line_number":443,"url":null},"def":{"name":"==","args":[{"name":"other","external_name":"other","restriction":"Value"}],"visibility":"Public","body":"@raw == other.raw"},"external_var":false},{"html_id":"==(other)-instance-method","name":"==","doc":"Returns `true` if the raw object is equal to *other*.","summary":"<p>Returns <code>true</code> if the raw object is equal to <em>other</em>.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/runtime/value.cr","line_number":448,"url":null},"def":{"name":"==","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"@raw == other"},"external_var":false},{"html_id":"[](index:Int):Value-instance-method","name":"[]","doc":"Assumes the underlying value is an `Indexable` or `String` returns the element\nat the given index.\nRaises if the underlying value is not an `Indexable` or `String`.","summary":"<p>Assumes the underlying value is an <code>Indexable</code> or <code><a href=\"../String.html\">String</a></code> returns the element at the given index.</p>","abstract":false,"args":[{"name":"index","external_name":"index","restriction":"Int"}],"args_string":"(index : Int) : Value","args_html":"(index : Int) : <a href=\"../Crinja/Value.html\">Value</a>","location":{"filename":"src/runtime/value.cr","line_number":133,"url":null},"def":{"name":"[]","args":[{"name":"index","external_name":"index","restriction":"Int"}],"return_type":"Value","visibility":"Public","body":"case object = @raw\nwhen Indexable\n  Value.new(object[index])\nwhen String\n  Value.new(object[index].to_s)\nelse\n  raise(TypeError.new(self, \"expected Array for #[](index : Int), not #{object.class}\"))\nend"},"external_var":false},{"html_id":"[](key:String):Value-instance-method","name":"[]","doc":"Assumes the underlying value has an hash-like accessor and returns the element\nwith the given key.\nRaises if the underlying value is not hash-like.","summary":"<p>Assumes the underlying value has an hash-like accessor and returns the element with the given key.</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String) : Value","args_html":"(key : <a href=\"../String.html\">String</a>) : <a href=\"../Crinja/Value.html\">Value</a>","location":{"filename":"src/runtime/value.cr","line_number":163,"url":null},"def":{"name":"[]","args":[{"name":"key","external_name":"key","restriction":"String"}],"return_type":"Value","visibility":"Public","body":"Value.new(Resolver.resolve_attribute(key, @raw))"},"external_var":false},{"html_id":"[]?(index:Int):Value|Nil-instance-method","name":"[]?","doc":"Assumes the underlying value is an `Indexable` or `String` and returns the element\nat the given index, or `nil` if out of bounds.\nRaises if the underlying value is not an `Indexable` or `String`.","summary":"<p>Assumes the underlying value is an <code>Indexable</code> or <code><a href=\"../String.html\">String</a></code> and returns the element at the given index, or <code>nil</code> if out of bounds.</p>","abstract":false,"args":[{"name":"index","external_name":"index","restriction":"Int"}],"args_string":"(index : Int) : Value | Nil","args_html":"(index : Int) : <a href=\"../Crinja/Value.html\">Value</a> | Nil","location":{"filename":"src/runtime/value.cr","line_number":147,"url":null},"def":{"name":"[]?","args":[{"name":"index","external_name":"index","restriction":"Int"}],"return_type":"Value | ::Nil","visibility":"Public","body":"case object = @raw\nwhen Indexable\n  value = object[index]?\n  value ? Value.new(value) : nil\nwhen String, SafeString\n  value = object[index]?\n  value ? Value.new(value.to_s) : nil\nelse\n  raise(TypeError.new(self, \"expected Indexable for #[]?(index : Int), not #{object.class}\"))\nend"},"external_var":false},{"html_id":"[]?(key:String):Value|Nil-instance-method","name":"[]?","doc":"Assumes the underlying value has an hash-like accessor returns the element\nwith the given key, or `nil` if the key is not present.\nRaises if the underlying value is not hash-like.","summary":"<p>Assumes the underlying value has an hash-like accessor returns the element with the given key, or <code>nil</code> if the key is not present.</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String) : Value | Nil","args_html":"(key : <a href=\"../String.html\">String</a>) : <a href=\"../Crinja/Value.html\">Value</a> | Nil","location":{"filename":"src/runtime/value.cr","line_number":170,"url":null},"def":{"name":"[]?","args":[{"name":"key","external_name":"key","restriction":"String"}],"return_type":"Value | ::Nil","visibility":"Public","body":"Value.new(Resolver.resolve_attribute(key, @raw))"},"external_var":false},{"html_id":"as_a:Array(Value)-instance-method","name":"as_a","doc":"Checks that the underlying value is `Array`, and returns its value. Raises otherwise.","summary":"<p>Checks that the underlying value is <code>Array</code>, and returns its value.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":341,"url":null},"def":{"name":"as_a","return_type":"Array(Value)","visibility":"Public","body":"raw_as(Array)"},"external_var":false},{"html_id":"as_callable-instance-method","name":"as_callable","doc":"Checks that the underlaying value is a `Callable | Callable::Proc` and retuns its value. Raises otherwise.","summary":"<p>Checks that the underlaying value is a <code><a href=\"../Crinja/Callable.html\">Callable</a> | <a href=\"../Crinja/Callable/Proc.html\">Callable::Proc</a></code> and retuns its value.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":371,"url":null},"def":{"name":"as_callable","visibility":"Public","body":"raw_as(Callable | Callable::Proc)"},"external_var":false},{"html_id":"as_h:Dictionary-instance-method","name":"as_h","doc":"Checks that the underlying value is `Hash`, and returns its value. Raises otherwise.","summary":"<p>Checks that the underlying value is <code>Hash</code>, and returns its value.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":346,"url":null},"def":{"name":"as_h","return_type":"Dictionary","visibility":"Public","body":"raw_as(Hash)"},"external_var":false},{"html_id":"as_indexable-instance-method","name":"as_indexable","doc":"Checks that the underlaying value is a `Indexable` and retuns its value. Raises otherwise.","summary":"<p>Checks that the underlaying value is a <code>Indexable</code> and retuns its value.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":366,"url":null},"def":{"name":"as_indexable","visibility":"Public","body":"raw.as(Indexable)"},"external_var":false},{"html_id":"as_iterable-instance-method","name":"as_iterable","doc":"Checks that the underlaying value is a `Iterable` and retuns its value. Raises otherwise.","summary":"<p>Checks that the underlaying value is a <code>Iterable</code> and retuns its value.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":361,"url":null},"def":{"name":"as_iterable","visibility":"Public","body":"raw_as(Iterable)"},"external_var":false},{"html_id":"as_nil:Nil-instance-method","name":"as_nil","doc":"Checks that the underlying value is `Nil`, and returns `nil`. Raises otherwise.","summary":"<p>Checks that the underlying value is <code>Nil</code>, and returns <code>nil</code>.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":311,"url":null},"def":{"name":"as_nil","return_type":"Nil","visibility":"Public","body":"raw_as(Nil)"},"external_var":false},{"html_id":"as_number:Number-instance-method","name":"as_number","doc":"Checks that the underlying value is a `Crinja::Number`, and returns its value. Raises otherwise.","summary":"<p>Checks that the underlying value is a <code>Crinja::Number</code>, and returns its value.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":351,"url":null},"def":{"name":"as_number","return_type":"Number","visibility":"Public","body":"raw_as(Number)"},"external_var":false},{"html_id":"as_s-instance-method","name":"as_s","doc":"Checks that the underlying value is `String`, and returns the value as `String`. Raises otherwise.\n\nIf the value is `SafeString` it is unwrapped as `String`.","summary":"<p>Checks that the underlying value is <code><a href=\"../String.html\">String</a></code>, and returns the value as <code><a href=\"../String.html\">String</a></code>.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":330,"url":null},"def":{"name":"as_s","visibility":"Public","body":"(@raw.as(String | SafeString)).to_s"},"external_var":false},{"html_id":"as_s!-instance-method","name":"as_s!","doc":"Checks that the underlying value is `String`, and returns the value as `String`. Raises otherwise.\n\nIf the value is `SafeString` it is unwrapped as `String`.","summary":"<p>Checks that the underlying value is <code><a href=\"../String.html\">String</a></code>, and returns the value as <code><a href=\"../String.html\">String</a></code>.</p>\n<p><span class=\"flag red\">DEPRECATED</span>  Use <code><a href=\"../Crinja/Value.html#as_s-instance-method\">#as_s</a></code> instead</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":336,"url":null},"def":{"name":"as_s!","visibility":"Public","body":"as_s"},"external_var":false},{"html_id":"as_s?-instance-method","name":"as_s?","doc":"Checks that the underlying value is `String | SafeString | Nil`, and returns the value as `String`. Raises otherwise.\n\nIf the value is `SafeString` it is unwrapped as `String`.","summary":"<p>Checks that the underlying value is <code><a href=\"../String.html\">String</a> | <a href=\"../Crinja/SafeString.html\">SafeString</a> | Nil</code>, and returns the value as <code><a href=\"../String.html\">String</a></code>.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":323,"url":null},"def":{"name":"as_s?","visibility":"Public","body":"(@raw.as(String | SafeString | Nil)).try(&.to_s)"},"external_var":false},{"html_id":"as_s_or_safe-instance-method","name":"as_s_or_safe","doc":"Checks that the underlying value is `String | SafeString`, and returns its value. Raises otherwise.","summary":"<p>Checks that the underlying value is <code><a href=\"../String.html\">String</a> | <a href=\"../Crinja/SafeString.html\">SafeString</a></code>, and returns its value.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":316,"url":null},"def":{"name":"as_s_or_safe","visibility":"Public","body":"raw_as(String | SafeString)"},"external_var":false},{"html_id":"as_time-instance-method","name":"as_time","doc":"Checks that the underlaying value is a `Time` object and retuns its value. Raises otherwise.","summary":"<p>Checks that the underlaying value is a <code>Time</code> object and retuns its value.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":356,"url":null},"def":{"name":"as_time","visibility":"Public","body":"raw_as(Time)"},"external_var":false},{"html_id":"as_undefined-instance-method","name":"as_undefined","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":375,"url":null},"def":{"name":"as_undefined","visibility":"Public","body":"raw_as(Undefined)"},"external_var":false},{"html_id":"callable?-instance-method","name":"callable?","doc":"Returns `true` if this value is a `Callable`","summary":"<p>Returns <code>true</code> if this value is a <code><a href=\"../Crinja/Callable.html\">Callable</a></code></p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":537,"url":null},"def":{"name":"callable?","visibility":"Public","body":"@raw.is_a?(Callable | Callable::Proc)"},"external_var":false},{"html_id":"each-instance-method","name":"each","doc":"Returns an iterator for the underlying value if it is an `Iterable`, `String` or `Undefined`\nwhich iterates through the items as `Value`.","summary":"<p>Returns an iterator for the underlying value if it is an <code>Iterable</code>, <code><a href=\"../String.html\">String</a></code> or <code><a href=\"../Crinja/Undefined.html\">Undefined</a></code> which iterates through the items as <code><a href=\"../Crinja/Value.html\">Value</a></code>.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":230,"url":null},"def":{"name":"each","visibility":"Public","body":"Iterator.new(raw_each)"},"external_var":false},{"html_id":"each(&)-instance-method","name":"each","doc":"Assumes the underlying value is an `Iterable` and yields each\nof the elements or key/values, always as `Value`.","summary":"<p>Assumes the underlying value is an <code>Iterable</code> and yields each of the elements or key/values, always as <code><a href=\"../Crinja/Value.html\">Value</a></code>.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":256,"url":null},"def":{"name":"each","yields":1,"block_arity":1,"visibility":"Public","body":"raw_each do |raw|\n  yield Value.new(raw)\nend"},"external_var":false},{"html_id":"first-instance-method","name":"first","doc":"Assumes the underlying value is an `Iterable`, `Hash` or `String` and returns the first\nitem in the list or the first character of the string.","summary":"<p>Assumes the underlying value is an <code>Iterable</code>, <code>Hash</code> or <code><a href=\"../String.html\">String</a></code> and returns the first item in the list or the first character of the string.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":176,"url":null},"def":{"name":"first","visibility":"Public","body":"case object = @raw\nwhen Dictionary\n  Value.new(Crinja::Tuple.new(object.first_key, object.first_value))\nwhen Iterable\n  Value.new(object.first)\nwhen String\n  Value.new(object[0, 1])\nelse\n  raise(TypeError.new(self, \"expected Iterable, Hash or String for #first, not #{object.class}\"))\nend"},"external_var":false},{"html_id":"indexable?-instance-method","name":"indexable?","doc":"Returns `true` if the value is a list (`Array`).","summary":"<p>Returns <code>true</code> if the value is a list (<code>Array</code>).</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":553,"url":null},"def":{"name":"indexable?","visibility":"Public","body":"@raw.is_a?(Indexable)"},"external_var":false},{"html_id":"iterable?-instance-method","name":"iterable?","doc":"Returns `true` if the value is iteraable.","summary":"<p>Returns <code>true</code> if the value is iteraable.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":558,"url":null},"def":{"name":"iterable?","visibility":"Public","body":"@raw.is_a?(Iterable)"},"external_var":false},{"html_id":"last-instance-method","name":"last","doc":"Assumes the underlying value is a `String` or responds to `last` and returns the last\nitem in the list or the last character of the string.","summary":"<p>Assumes the underlying value is a <code><a href=\"../String.html\">String</a></code> or responds to <code><a href=\"../Crinja/Value.html#last-instance-method\">#last</a></code> and returns the last item in the list or the last character of the string.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":191,"url":null},"def":{"name":"last","visibility":"Public","body":"object = @raw\n\nif object.responds_to?(:last)\n  Value.new(object.last)\nelsif object.is_a?(String)\n  Value.new(object[-1, 1])\nelse\n  raise(TypeError.new(self, \"expected Enumerable or String for #last, not #{object.class}\"))\nend\n"},"external_var":false},{"html_id":"mapping?-instance-method","name":"mapping?","doc":"Returns `true` if the object is a mapping (Hash or Crinja::Object).","summary":"<p>Returns <code>true</code> if the object is a mapping (Hash or Crinja::Object).</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":568,"url":null},"def":{"name":"mapping?","visibility":"Public","body":"@raw.is_a?(Hash) || (@raw.responds_to?(:crinja_attribute))"},"external_var":false},{"html_id":"none?-instance-method","name":"none?","doc":"Returns `true` if the value is nil.","summary":"<p>Returns <code>true</code> if the value is nil.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":578,"url":null},"def":{"name":"none?","visibility":"Public","body":"@raw.nil?"},"external_var":false},{"html_id":"number?-instance-method","name":"number?","doc":"Returns `true` if this value is a `Number`","summary":"<p>Returns <code>true</code> if this value is a <code>Number</code></p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":542,"url":null},"def":{"name":"number?","visibility":"Public","body":"@raw.is_a?(Number)"},"external_var":false},{"html_id":"pretty_print(pp:Crinja::PrettyPrint)-instance-method","name":"pretty_print","abstract":false,"args":[{"name":"pp","external_name":"pp","restriction":"Crinja::PrettyPrint"}],"args_string":"(pp : Crinja::PrettyPrint)","args_html":"(pp : Crinja::PrettyPrint)","location":{"filename":"src/runtime/value.cr","line_number":414,"url":null},"def":{"name":"pretty_print","args":[{"name":"pp","external_name":"pp","restriction":"Crinja::PrettyPrint"}],"visibility":"Public","body":"@raw.pretty_print(pp)"},"external_var":false},{"html_id":"raw:Raw-instance-method","name":"raw","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":107,"url":null},"def":{"name":"raw","return_type":"Raw","visibility":"Public","body":"@raw"},"external_var":false},{"html_id":"raw_as(type:T.class)forallT-instance-method","name":"raw_as","abstract":false,"args":[{"name":"type","external_name":"type","restriction":"T.class"}],"args_string":"(type : T.class) forall T","args_html":"(type : <span class=\"t\">T</span>.<span class=\"k\">class</span>) forall T","location":{"filename":"src/runtime/value.cr","line_number":379,"url":null},"def":{"name":"raw_as","args":[{"name":"type","external_name":"type","restriction":"T.class"}],"visibility":"Public","body":"if type == Undefined\nelse\n  raise_undefined!\nend\n\nbegin\n  @raw.as(T)\nrescue exc : TypeCastError\n  raise(Crinja::Error.new(\"Unexpected type in Crinja value\", cause: exc))\nend\n"},"external_var":false},{"html_id":"raw_each:::Iterator-instance-method","name":"raw_each","doc":"Returns an iterator for the underlying value if it is an `Iterable`, `String` or `Undefined`\nwhich iterates through the items as `Value`.","summary":"<p>Returns an iterator for the underlying value if it is an <code>Iterable</code>, <code><a href=\"../String.html\">String</a></code> or <code><a href=\"../Crinja/Undefined.html\">Undefined</a></code> which iterates through the items as <code><a href=\"../Crinja/Value.html\">Value</a></code>.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":205,"url":null},"def":{"name":"raw_each","return_type":"::Iterator","visibility":"Public","body":"case object = @raw\nwhen Hash\n  HashTupleIterator.new(object.each)\nwhen Iterable(Value)\n  RawIterator.new(object.each)\nwhen Iterable\n  object.each\nwhen ::Iterator(Value)\n  RawIterator.new(object)\nwhen ::Iterator\n  object\nwhen String\n  object.each_char.map do |char| char.to_s end\nwhen StrictUndefined\n  raise(TypeError.new(self, \"can't iterate over undefined\"))\nwhen Undefined\n  ([] of Nil).each\nelse\n  raise(TypeError.new(self, \"#{object.class} is not iterable\"))\nend"},"external_var":false},{"html_id":"raw_each(&)-instance-method","name":"raw_each","doc":"Assumes the underlying value is an `Iterable` and yields each\nof the elements or key/values, always as `Value`.","summary":"<p>Assumes the underlying value is an <code>Iterable</code> and yields each of the elements or key/values, always as <code><a href=\"../Crinja/Value.html\">Value</a></code>.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":236,"url":null},"def":{"name":"raw_each","yields":1,"block_arity":1,"visibility":"Public","body":"case object = @raw\nwhen Hash\n  object.each do |key, value| yield Crinja::Tuple.from({key, value}) end\nwhen Iterable(Value), ::Iterator(Value)\n  object.each do |value| yield (value.as(Value)).raw end\nwhen Iterable, ::Iterator\n  object.each do |value| yield value end\nwhen String\n  object.each_char do |char| yield char.to_s end\nwhen StrictUndefined\n  raise(TypeError.new(self, \"can't iterate over undefined\"))\nwhen Undefined\nelse\n  raise(TypeError.new(self, \"#{object.class} is not iterable\"))\nend"},"external_var":false},{"html_id":"sameas?(other)-instance-method","name":"sameas?","doc":"Returns true if","summary":"<p>Returns true if</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/runtime/value.cr","line_number":583,"url":null},"def":{"name":"sameas?","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"raw = @raw\nif (raw.is_a?(Reference))\n  if ((oraw = other.raw).is_a?(Reference))\n    raw.same?(oraw)\n  else\n    false\n  end\nelse\n  (!other.raw.is_a?(Reference)) && (self == other)\nend\n"},"external_var":false},{"html_id":"sequence?-instance-method","name":"sequence?","doc":"Returns `true` if the value is a sequence.\nTODO: Improve implementation based on crinja_item","summary":"<p>Returns <code>true</code> if the value is a sequence.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":548,"url":null},"def":{"name":"sequence?","visibility":"Public","body":"(@raw.is_a?(Iterable) || (@raw.responds_to?(:each))) || string?"},"external_var":false},{"html_id":"size:Int-instance-method","name":"size","doc":"Assumes the underlying value responds to `size` and returns\nits size.","summary":"<p>Assumes the underlying value responds to <code><a href=\"../Crinja/Value.html#size%3AInt-instance-method\">#size</a></code> and returns its size.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":122,"url":null},"def":{"name":"size","return_type":"Int","visibility":"Public","body":"if (object = @raw).responds_to?(:size)\n  object.size\nelse\n  raise(TypeError.new(self, \"#{object.class} does not respond to #size\"))\nend"},"external_var":false},{"html_id":"string?-instance-method","name":"string?","doc":"Returns `true` if the value is a string.","summary":"<p>Returns <code>true</code> if the value is a string.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":563,"url":null},"def":{"name":"string?","visibility":"Public","body":"@raw.is_a?(String | SafeString)"},"external_var":false},{"html_id":"time?-instance-method","name":"time?","doc":"Returns `true` if the value is a time object.","summary":"<p>Returns <code>true</code> if the value is a time object.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":573,"url":null},"def":{"name":"time?","visibility":"Public","body":"@raw.is_a(Time)"},"external_var":false},{"html_id":"to_a-instance-method","name":"to_a","doc":"Returns an `Array` with all the elements in the collection.\n\n```\n(1..5).to_a # => [1, 2, 3, 4, 5]\n```","summary":"<p>Returns an <code>Array</code> with all the elements in the collection.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":395,"url":null},"def":{"name":"to_a","visibility":"Public","body":"if (raw = @raw).is_a?(Array)\n  return raw\nend\n\narray = [] of Value\neach do |item|\n  array << item\nend\narray\n"},"external_var":false},{"html_id":"to_f-instance-method","name":"to_f","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":516,"url":null},"def":{"name":"to_f","visibility":"Public","body":"raise_undefined!\nraw = @raw\nif raw.responds_to?(:to_f)\n  raw.to_f\nelse\n  raise(TypeError.new(\"can't convert #{raw.inspect} to Float32\"))\nend\n"},"external_var":false},{"html_id":"to_i-instance-method","name":"to_i","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":506,"url":null},"def":{"name":"to_i","visibility":"Public","body":"raise_undefined!\nraw = @raw\nif raw.responds_to?(:to_i)\n  raw.to_i\nelse\n  raise(TypeError.new(\"can't convert #{raw.inspect} to Int32\"))\nend\n"},"external_var":false},{"html_id":"to_json(builder:JSON::Builder)-instance-method","name":"to_json","abstract":false,"args":[{"name":"builder","external_name":"builder","restriction":"JSON::Builder"}],"args_string":"(builder : JSON::Builder)","args_html":"(builder : JSON::Builder)","location":{"filename":"src/runtime/value.cr","line_number":432,"url":null},"def":{"name":"to_json","args":[{"name":"builder","external_name":"builder","restriction":"JSON::Builder"}],"visibility":"Public","body":"Crinja::JsonBuilder.to_json(builder, self)"},"external_var":false},{"html_id":"to_string-instance-method","name":"to_string","doc":"Transform the value into a string representation.","summary":"<p>Transform the value into a string representation.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":437,"url":null},"def":{"name":"to_string","visibility":"Public","body":"raise_undefined!\nFinalizer.stringify(@raw)\n"},"external_var":false},{"html_id":"truthy?-instance-method","name":"truthy?","doc":"Returns `true` unless this value is `false`, `0`, `nil` or `#undefined?`","summary":"<p>Returns <code>true</code> unless this value is <code>false</code>, <code>0</code>, <code>nil</code> or <code><a href=\"../Crinja/Value.html#undefined%3F-instance-method\">#undefined?</a></code></p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":527,"url":null},"def":{"name":"truthy?","visibility":"Public","body":"!((((@raw == false) || (@raw == 0)) || @raw.nil?) || undefined?)"},"external_var":false},{"html_id":"undefined?-instance-method","name":"undefined?","doc":"Returns `true` if this value is a `Undefined`","summary":"<p>Returns <code>true</code> if this value is a <code><a href=\"../Crinja/Undefined.html\">Undefined</a></code></p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":532,"url":null},"def":{"name":"undefined?","visibility":"Public","body":"@raw.is_a?(Undefined)"},"external_var":false}],"types":[{"html_id":"crinja/Crinja/Value/Iterator","path":"Crinja/Value/Iterator.html","kind":"class","full_name":"Crinja::Value::Iterator(T)","name":"Iterator","abstract":false,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Iterator/IteratorWrapper","kind":"module","full_name":"Iterator::IteratorWrapper","name":"IteratorWrapper"},{"html_id":"crinja/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"},{"html_id":"crinja/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/runtime/value.cr","line_number":285,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"},{"html_id":"crinja/Iterator/IteratorWrapper","kind":"module","full_name":"Iterator::IteratorWrapper","name":"IteratorWrapper"}],"namespace":{"html_id":"crinja/Crinja/Value","kind":"struct","full_name":"Crinja::Value","name":"Value"},"constructors":[{"html_id":"new(iterator:T)-class-method","name":"new","abstract":false,"args":[{"name":"iterator","external_name":"iterator","restriction":"T"}],"args_string":"(iterator : T)","args_html":"(iterator : T)","location":{"filename":"src/runtime/value.cr","line_number":291,"url":null},"def":{"name":"new","args":[{"name":"iterator","external_name":"iterator","restriction":"T"}],"visibility":"Public","body":"_ = Iterator(T).allocate\n_.initialize(iterator)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"==(other:Iterator)-instance-method","name":"==","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"Iterator"}],"args_string":"(other : Iterator)","args_html":"(other : <a href=\"../../Crinja/Value/Iterator.html\">Iterator</a>)","location":{"filename":"src/runtime/value.cr","line_number":294,"url":null},"def":{"name":"==","args":[{"name":"other","external_name":"other","restriction":"Iterator"}],"visibility":"Public","body":"@iterator == (other.@iterator)"},"external_var":false},{"html_id":"next:Value|Iterator::Stop-instance-method","name":"next","doc":"Returns the next element in this iterator, or `Iterator::Stop::INSTANCE` if there\nare no more elements.","summary":"<p>Returns the next element in this iterator, or <code>Iterator::Stop::INSTANCE</code> if there are no more elements.</p>","abstract":false,"location":{"filename":"src/runtime/value.cr","line_number":298,"url":null},"def":{"name":"next","return_type":"Value | Iterator::Stop","visibility":"Public","body":"value = wrapped_next\n\ncase value\nwhen Iterator::Stop\n  stop\nelse\n  Value.new(value)\nend\n"},"external_var":false}]}]},{"html_id":"crinja/Crinja/Variables","path":"Crinja/Variables.html","kind":"alias","full_name":"Crinja::Variables","name":"Variables","abstract":false,"locations":[{"filename":"src/runtime/value.cr","line_number":40,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":true,"aliased":"Hash(String, Crinja::Value)","aliased_html":"Hash(<a href=\"../String.html\">String</a>, <a href=\"../Crinja/Value.html\">Crinja::Value</a>)","const":false,"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"}},{"html_id":"crinja/Crinja/Visitor","path":"Crinja/Visitor.html","kind":"class","full_name":"Crinja::Visitor(T)","name":"Visitor","abstract":true,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/visitor/visitor.cr","line_number":1,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"crinja/Crinja/Visitor/Inspector","kind":"class","full_name":"Crinja::Visitor::Inspector","name":"Inspector"}],"namespace":{"html_id":"crinja/Crinja","kind":"class","full_name":"Crinja","name":"Crinja"},"macros":[{"html_id":"visit(*node_types)-macro","name":"visit","abstract":false,"args":[{"name":"node_types","external_name":"node_types","restriction":""}],"args_string":"(*node_types)","args_html":"(*node_types)","location":{"filename":"src/visitor/visitor.cr","line_number":2,"url":null},"def":{"name":"visit","args":[{"name":"node_types","external_name":"node_types","restriction":""}],"splat_index":0,"visibility":"Public","body":"    def visit(node : \n{{ \n  ((node_types.map do |type|\n    \"AST::#{type.id}\"\n  end).join(\" | \")).id\n }}\n)\n      \n{{ yield }}\n\n    \nend\n  \n"}}],"types":[{"html_id":"crinja/Crinja/Visitor/HTML","path":"Crinja/Visitor/HTML.html","kind":"class","full_name":"Crinja::Visitor::HTML","name":"HTML","abstract":false,"superclass":{"html_id":"crinja/Crinja/Visitor/Source","kind":"class","full_name":"Crinja::Visitor::Source","name":"Source"},"ancestors":[{"html_id":"crinja/Crinja/Visitor/Source","kind":"class","full_name":"Crinja::Visitor::Source","name":"Source"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/visitor/html.cr","line_number":4,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Visitor","kind":"class","full_name":"Crinja::Visitor(T)","name":"Visitor"}},{"html_id":"crinja/Crinja/Visitor/Inspector","path":"Crinja/Visitor/Inspector.html","kind":"class","full_name":"Crinja::Visitor::Inspector","name":"Inspector","abstract":false,"superclass":{"html_id":"crinja/Crinja/Visitor","kind":"class","full_name":"Crinja::Visitor","name":"Visitor"},"ancestors":[{"html_id":"crinja/Crinja/Visitor","kind":"class","full_name":"Crinja::Visitor","name":"Visitor"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/visitor/inspector.cr","line_number":5,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"crinja/Crinja/Visitor","kind":"class","full_name":"Crinja::Visitor(T)","name":"Visitor"},"doc":"This visitor prints the node tree into an xml-like string for debugging purposes.","summary":"<p>This visitor prints the node tree into an xml-like string for debugging purposes.</p>","constructors":[{"html_id":"new(io:IO,indent:Int32=0)-class-method","name":"new","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"},{"name":"indent","default_value":"0","external_name":"indent","restriction":"::Int32"}],"args_string":"(io : IO, indent : Int32 = 0)","args_html":"(io : IO, indent : Int32 = <span class=\"n\">0</span>)","location":{"filename":"src/visitor/inspector.cr","line_number":6,"url":null},"def":{"name":"new","args":[{"name":"io","external_name":"io","restriction":"IO"},{"name":"indent","default_value":"0","external_name":"indent","restriction":"::Int32"}],"visibility":"Public","body":"_ = allocate\n_.initialize(io, indent)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"inspect_arguments(node)-instance-method","name":"inspect_arguments","abstract":false,"args":[{"name":"node","external_name":"node","restriction":""}],"args_string":"(node)","args_html":"(node)","location":{"filename":"src/visitor/inspector.cr","line_number":96,"url":null},"def":{"name":"inspect_arguments","args":[{"name":"node","external_name":"node","restriction":""}],"visibility":"Public","body":"if node.varargs.empty?\nelse\n  nl\n  open(\"varargs\")\n  node.varargs.each do |arg|\n    nl\n    arg.accept(self)\n  end\n  close(\"varargs\")\nend\nif node.kwargs.empty?\nelse\n  nl\n  node.kwargs.each do |kw, arg|\n    open(\"kwarg\") do ((@io << \" name=\\\"\") << kw) << \"\\\"\" end\n    nl\n    arg.accept(self)\n    close(\"kwarg\")\n  end\nend\n"},"external_var":false},{"html_id":"inspect_children(node:Node)-instance-method","name":"inspect_children","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Node"}],"args_string":"(node : Node)","args_html":"(node : Node)","location":{"filename":"src/visitor/inspector.cr","line_number":68,"url":null},"def":{"name":"inspect_children","args":[{"name":"node","external_name":"node","restriction":"Node"}],"visibility":"Public","body":"node.children.each do |child_node|\n  nl\n  child_node.accept(self)\nend"},"external_var":false},{"html_id":"inspect_children(node:Node::Expression)-instance-method","name":"inspect_children","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Node::Expression"}],"args_string":"(node : Node::Expression)","args_html":"(node : Node::Expression)","location":{"filename":"src/visitor/inspector.cr","line_number":75,"url":null},"def":{"name":"inspect_children","args":[{"name":"node","external_name":"node","restriction":"Node::Expression"}],"visibility":"Public","body":"node.statement.accept(self)"},"external_var":false},{"html_id":"inspect_children(node:Statement)-instance-method","name":"inspect_children","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Statement"}],"args_string":"(node : Statement)","args_html":"(node : Statement)","location":{"filename":"src/visitor/inspector.cr","line_number":168,"url":null},"def":{"name":"inspect_children","args":[{"name":"node","external_name":"node","restriction":"Statement"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"inspect_children(node:Statement::List)-instance-method","name":"inspect_children","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Statement::List"}],"args_string":"(node : Statement::List)","args_html":"(node : Statement::List)","location":{"filename":"src/visitor/inspector.cr","line_number":221,"url":null},"def":{"name":"inspect_children","args":[{"name":"node","external_name":"node","restriction":"Statement::List"}],"visibility":"Public","body":"node.children.each do |child|\n  (@io << \"\\n\") << (\"  \" * (@indent + 1))\n  child.accept(self)\nend"},"external_var":false},{"html_id":"inspect_children(node:Statement::Operator)-instance-method","name":"inspect_children","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Statement::Operator"}],"args_string":"(node : Statement::Operator)","args_html":"(node : Statement::Operator)","location":{"filename":"src/visitor/inspector.cr","line_number":243,"url":null},"def":{"name":"inspect_children","args":[{"name":"node","external_name":"node","restriction":"Statement::Operator"}],"visibility":"Public","body":"node.operands.each do |op|\n  nl\n  op.accept(self)\nend"},"external_var":false},{"html_id":"inspect_children(node:Statement::SplashOperator)-instance-method","name":"inspect_children","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Statement::SplashOperator"}],"args_string":"(node : Statement::SplashOperator)","args_html":"(node : Statement::SplashOperator)","location":{"filename":"src/visitor/inspector.cr","line_number":257,"url":null},"def":{"name":"inspect_children","args":[{"name":"node","external_name":"node","restriction":"Statement::SplashOperator"}],"visibility":"Public","body":"node.operand.try(&.accept(self))"},"external_var":false},{"html_id":"inspect_children(node:Statement::Subexpression)-instance-method","name":"inspect_children","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Statement::Subexpression"}],"args_string":"(node : Statement::Subexpression)","args_html":"(node : Statement::Subexpression)","location":{"filename":"src/visitor/inspector.cr","line_number":261,"url":null},"def":{"name":"inspect_children","args":[{"name":"node","external_name":"node","restriction":"Statement::Subexpression"}],"visibility":"Public","body":"if (child = node.child).nil?\nelse\n  nl\n  child.accept(self)\nend"},"external_var":false},{"html_id":"inspect_children(node:Statement::Tuple)-instance-method","name":"inspect_children","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Statement::Tuple"}],"args_string":"(node : Statement::Tuple)","args_html":"(node : Statement::Tuple)","location":{"filename":"src/visitor/inspector.cr","line_number":268,"url":null},"def":{"name":"inspect_children","args":[{"name":"node","external_name":"node","restriction":"Statement::Tuple"}],"visibility":"Public","body":"node.children.each do |child|\n  nl\n  child.accept(self)\nend"},"external_var":false},{"html_id":"inspect_content(node:Node)-instance-method","name":"inspect_content","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Node"}],"args_string":"(node : Node)","args_html":"(node : Node)","location":{"filename":"src/visitor/inspector.cr","line_number":48,"url":null},"def":{"name":"inspect_content","args":[{"name":"node","external_name":"node","restriction":"Node"}],"visibility":"Public","body":"inspect_children(node)"},"external_var":false},{"html_id":"inspect_content(node:Node::Tag)-instance-method","name":"inspect_content","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Node::Tag"}],"args_string":"(node : Node::Tag)","args_html":"(node : Node::Tag)","location":{"filename":"src/visitor/inspector.cr","line_number":91,"url":null},"def":{"name":"inspect_content","args":[{"name":"node","external_name":"node","restriction":"Node::Tag"}],"visibility":"Public","body":"inspect_arguments(node)\ninspect_children(node)\n"},"external_var":false},{"html_id":"inspect_content(node:Node::Text)-instance-method","name":"inspect_content","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Node::Text"}],"args_string":"(node : Node::Text)","args_html":"(node : Node::Text)","location":{"filename":"src/visitor/inspector.cr","line_number":141,"url":null},"def":{"name":"inspect_content","args":[{"name":"node","external_name":"node","restriction":"Node::Text"}],"visibility":"Public","body":"node.token.value.to_s(@io)"},"external_var":false},{"html_id":"inspect_content(node:Statement)-instance-method","name":"inspect_content","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Statement"}],"args_string":"(node : Statement)","args_html":"(node : Statement)","location":{"filename":"src/visitor/inspector.cr","line_number":164,"url":null},"def":{"name":"inspect_content","args":[{"name":"node","external_name":"node","restriction":"Statement"}],"visibility":"Public","body":"inspect_children(node)"},"external_var":false},{"html_id":"inspect_content(node:Statement::Dict::Entry)-instance-method","name":"inspect_content","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Statement::Dict::Entry"}],"args_string":"(node : Statement::Dict::Entry)","args_html":"(node : Statement::Dict::Entry)","location":{"filename":"src/visitor/inspector.cr","line_number":171,"url":null},"def":{"name":"inspect_content","args":[{"name":"node","external_name":"node","restriction":"Statement::Dict::Entry"}],"visibility":"Public","body":"nl << \"- \"\nnode.key.accept(self)\nnl << \"- \"\nnode.value.try(&.accept(self))\n"},"external_var":false},{"html_id":"inspect_content(node:Statment::ArgumentsList)-instance-method","name":"inspect_content","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Statment::ArgumentsList"}],"args_string":"(node : Statment::ArgumentsList)","args_html":"(node : Statment::ArgumentsList)","location":{"filename":"src/visitor/inspector.cr","line_number":178,"url":null},"def":{"name":"inspect_content","args":[{"name":"node","external_name":"node","restriction":"Statment::ArgumentsList"}],"visibility":"Public","body":"inspect_arguments(node)\ninspect_children(node)\n"},"external_var":false},{"html_id":"inspect_content(node:Statement::Attribute)-instance-method","name":"inspect_content","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Statement::Attribute"}],"args_string":"(node : Statement::Attribute)","args_html":"(node : Statement::Attribute)","location":{"filename":"src/visitor/inspector.cr","line_number":188,"url":null},"def":{"name":"inspect_content","args":[{"name":"node","external_name":"node","restriction":"Statement::Attribute"}],"visibility":"Public","body":"(@io << \"\\n\") << (\"  \" * (@indent + 1))\nnode.base.accept(self)\n(@io << \"\\n\") << (\"  \" * (@indent + 1))\nnode.attribute.try(&.accept(self))\n"},"external_var":false},{"html_id":"inspect_content(node:Statement::Call)-instance-method","name":"inspect_content","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Statement::Call"}],"args_string":"(node : Statement::Call)","args_html":"(node : Statement::Call)","location":{"filename":"src/visitor/inspector.cr","line_number":195,"url":null},"def":{"name":"inspect_content","args":[{"name":"node","external_name":"node","restriction":"Statement::Call"}],"visibility":"Public","body":"open(\"callable\")\nnode.target.accept(self)\nclose(\"callable\")\n\ninspect_children(node)\n"},"external_var":false},{"html_id":"inspect_content(node:Statement::Filter)-instance-method","name":"inspect_content","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Statement::Filter"}],"args_string":"(node : Statement::Filter)","args_html":"(node : Statement::Filter)","location":{"filename":"src/visitor/inspector.cr","line_number":208,"url":null},"def":{"name":"inspect_content","args":[{"name":"node","external_name":"node","restriction":"Statement::Filter"}],"visibility":"Public","body":"open(\"target\")\nnode.target.accept(self)\nclose(\"target\")\n\ninspect_children(node)\n"},"external_var":false},{"html_id":"inspect_content(node:Statement::Literal)-instance-method","name":"inspect_content","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Statement::Literal"}],"args_string":"(node : Statement::Literal)","args_html":"(node : Statement::Literal)","location":{"filename":"src/visitor/inspector.cr","line_number":228,"url":null},"def":{"name":"inspect_content","args":[{"name":"node","external_name":"node","restriction":"Statement::Literal"}],"visibility":"Public","body":"nl\nnode.token.value.to_s(@io)\n"},"external_var":false},{"html_id":"inspect_end_attributes(node:Node)-instance-method","name":"inspect_end_attributes","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Node"}],"args_string":"(node : Node)","args_html":"(node : Node)","location":{"filename":"src/visitor/inspector.cr","line_number":65,"url":null},"def":{"name":"inspect_end_attributes","args":[{"name":"node","external_name":"node","restriction":"Node"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"inspect_end_attributes(node:Node::Tag)-instance-method","name":"inspect_end_attributes","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Node::Tag"}],"args_string":"(node : Node::Tag)","args_html":"(node : Node::Tag)","location":{"filename":"src/visitor/inspector.cr","line_number":117,"url":null},"def":{"name":"inspect_end_attributes","args":[{"name":"node","external_name":"node","restriction":"Node::Tag"}],"visibility":"Public","body":"if (end_tag = node.end_tag).nil?\nelse\n  inspect_token_arguments(end_tag)\nend"},"external_var":false},{"html_id":"inspect_start_attributes(node:Node)-instance-method","name":"inspect_start_attributes","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Node"}],"args_string":"(node : Node)","args_html":"(node : Node)","location":{"filename":"src/visitor/inspector.cr","line_number":52,"url":null},"def":{"name":"inspect_start_attributes","args":[{"name":"node","external_name":"node","restriction":"Node"}],"visibility":"Public","body":"inspect_token_arguments(node)"},"external_var":false},{"html_id":"inspect_start_attributes(node:Node::Tag)-instance-method","name":"inspect_start_attributes","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Node::Tag"}],"args_string":"(node : Node::Tag)","args_html":"(node : Node::Tag)","location":{"filename":"src/visitor/inspector.cr","line_number":79,"url":null},"def":{"name":"inspect_start_attributes","args":[{"name":"node","external_name":"node","restriction":"Node::Tag"}],"visibility":"Public","body":"inspect_token_arguments(node)\n\n(@io << \" tag=\") << node.tag.name\n@io << \" trim?=\"\n@io << (if node.trim_right?\n  node.trim_left? ? \"both\" : \"right\"\nelse\n  node.trim_left? ? \"left\" : \"none\"\nend)\n"},"external_var":false},{"html_id":"inspect_start_attributes(node:Node::Text)-instance-method","name":"inspect_start_attributes","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Node::Text"}],"args_string":"(node : Node::Text)","args_html":"(node : Node::Text)","location":{"filename":"src/visitor/inspector.cr","line_number":123,"url":null},"def":{"name":"inspect_start_attributes","args":[{"name":"node","external_name":"node","restriction":"Node::Text"}],"visibility":"Public","body":"@io << \" trim=\"\n@io << (if node.trim_right\n  if node.trim_left\n    \"both\"\n  else\n    \"right\"\n  end\nelsif node.trim_left\n  \"left\"\nelse\n  \"none\"\nend)\n\nif node.left_is_block\n  @io << \" left_is_block\"\nend\nif node.right_is_block\n  @io << \" right_is_block\"\nend\n"},"external_var":false},{"html_id":"inspect_start_attributes(node:Statement)-instance-method","name":"inspect_start_attributes","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Statement"}],"args_string":"(node : Statement)","args_html":"(node : Statement)","location":{"filename":"src/visitor/inspector.cr","line_number":155,"url":null},"def":{"name":"inspect_start_attributes","args":[{"name":"node","external_name":"node","restriction":"Statement"}],"visibility":"Public","body":"inspect_token(node.token)"},"external_var":false},{"html_id":"inspect_start_attributes(node:Statement::Attribute)-instance-method","name":"inspect_start_attributes","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Statement::Attribute"}],"args_string":"(node : Statement::Attribute)","args_html":"(node : Statement::Attribute)","location":{"filename":"src/visitor/inspector.cr","line_number":183,"url":null},"def":{"name":"inspect_start_attributes","args":[{"name":"node","external_name":"node","restriction":"Statement::Attribute"}],"visibility":"Public","body":"inspect_token(node.token)\nif node.member_operator\n  @io << \" member_operator\"\nend\n"},"external_var":false},{"html_id":"inspect_start_attributes(node:Statement::Filter)-instance-method","name":"inspect_start_attributes","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Statement::Filter"}],"args_string":"(node : Statement::Filter)","args_html":"(node : Statement::Filter)","location":{"filename":"src/visitor/inspector.cr","line_number":203,"url":null},"def":{"name":"inspect_start_attributes","args":[{"name":"node","external_name":"node","restriction":"Statement::Filter"}],"visibility":"Public","body":"inspect_token(node.token)\n(@io << \" name=\") << node.name\n"},"external_var":false},{"html_id":"inspect_start_attributes(node:Statement::Function)-instance-method","name":"inspect_start_attributes","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Statement::Function"}],"args_string":"(node : Statement::Function)","args_html":"(node : Statement::Function)","location":{"filename":"src/visitor/inspector.cr","line_number":216,"url":null},"def":{"name":"inspect_start_attributes","args":[{"name":"node","external_name":"node","restriction":"Statement::Function"}],"visibility":"Public","body":"inspect_token(node.token)\n(@io << \" name=\") << node.name\n"},"external_var":false},{"html_id":"inspect_start_attributes(node:Statement::Name)-instance-method","name":"inspect_start_attributes","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Statement::Name"}],"args_string":"(node : Statement::Name)","args_html":"(node : Statement::Name)","location":{"filename":"src/visitor/inspector.cr","line_number":233,"url":null},"def":{"name":"inspect_start_attributes","args":[{"name":"node","external_name":"node","restriction":"Statement::Name"}],"visibility":"Public","body":"inspect_token(node.token)\n@io << \" name=\"\n@io << node.token.value\n"},"external_var":false},{"html_id":"inspect_start_attributes(node:Statement::Operator)-instance-method","name":"inspect_start_attributes","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Statement::Operator"}],"args_string":"(node : Statement::Operator)","args_html":"(node : Statement::Operator)","location":{"filename":"src/visitor/inspector.cr","line_number":239,"url":null},"def":{"name":"inspect_start_attributes","args":[{"name":"node","external_name":"node","restriction":"Statement::Operator"}],"visibility":"Public","body":"(@io << \" operator=\") << node.operator"},"external_var":false},{"html_id":"inspect_token(token)-instance-method","name":"inspect_token","abstract":false,"args":[{"name":"token","external_name":"token","restriction":""}],"args_string":"(token)","args_html":"(token)","location":{"filename":"src/visitor/inspector.cr","line_number":159,"url":null},"def":{"name":"inspect_token","args":[{"name":"token","external_name":"token","restriction":""}],"visibility":"Public","body":"@io << \" token=\"\ntoken.inspect(@io)\n"},"external_var":false},{"html_id":"inspect_token_arguments(node:Node)-instance-method","name":"inspect_token_arguments","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Node"}],"args_string":"(node : Node)","args_html":"(node : Node)","location":{"filename":"src/visitor/inspector.cr","line_number":56,"url":null},"def":{"name":"inspect_token_arguments","args":[{"name":"node","external_name":"node","restriction":"Node"}],"visibility":"Public","body":"@io << \" start=\"\nnode.token.inspect(@io)\nif (end_token = node.end_token).nil?\nelse\n  @io << \" end=\"\n  end_token.inspect(@io)\nend\n"},"external_var":false},{"html_id":"visit(node:Node)-instance-method","name":"visit","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Node"}],"args_string":"(node : Node)","args_html":"(node : Node)","location":{"filename":"src/visitor/inspector.cr","line_number":40,"url":null},"def":{"name":"visit","args":[{"name":"node","external_name":"node","restriction":"Node"}],"visibility":"Public","body":"open(node.name) do inspect_start_attributes(node) end\n\ninspect_content(node)\n\nclose(node.name) do inspect_end_attributes(node) end\n"},"external_var":false},{"html_id":"visit(node:Statement)-instance-method","name":"visit","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Statement"}],"args_string":"(node : Statement)","args_html":"(node : Statement)","location":{"filename":"src/visitor/inspector.cr","line_number":147,"url":null},"def":{"name":"visit","args":[{"name":"node","external_name":"node","restriction":"Statement"}],"visibility":"Public","body":"open(node.statement_name) do inspect_start_attributes(node) end\n\ninspect_content(node)\n\nclose(node.statement_name)\n"},"external_var":false},{"html_id":"visit(node:Statement::Root)-instance-method","name":"visit","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"Statement::Root"}],"args_string":"(node : Statement::Root)","args_html":"(node : Statement::Root)","location":{"filename":"src/visitor/inspector.cr","line_number":250,"url":null},"def":{"name":"visit","args":[{"name":"node","external_name":"node","restriction":"Statement::Root"}],"visibility":"Public","body":"node.children.each do |child|\n  nl\n  child.accept(self)\nend"},"external_var":false},{"html_id":"visit(expression)-instance-method","name":"visit","abstract":false,"args":[{"name":"expression","external_name":"expression","restriction":""}],"args_string":"(expression)","args_html":"(expression)","location":{"filename":"src/visitor/inspector.cr","line_number":9,"url":null},"def":{"name":"visit","args":[{"name":"expression","external_name":"expression","restriction":""}],"visibility":"Public","body":""},"external_var":false}]},{"html_id":"crinja/Crinja/Visitor/Source","path":"Crinja/Visitor/Source.html","kind":"class","full_name":"Crinja::Visitor::Source","name":"Source","abstract":false,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/visitor/source.cr","line_number":4,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"crinja/Crinja/Visitor/HTML","kind":"class","full_name":"Crinja::Visitor::HTML","name":"HTML"}],"namespace":{"html_id":"crinja/Crinja/Visitor","kind":"class","full_name":"Crinja::Visitor(T)","name":"Visitor"},"doc":"The source visitor transforms a template tree into Jinja source code.","summary":"<p>The source visitor transforms a template tree into Jinja source code.</p>","constructors":[{"html_id":"new(io:IO)-class-method","name":"new","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/visitor/source.cr","line_number":8,"url":null},"def":{"name":"new","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"_ = allocate\n_.initialize(io)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"visit(template:Template)-instance-method","name":"visit","abstract":false,"args":[{"name":"template","external_name":"template","restriction":"Template"}],"args_string":"(template : Template)","args_html":"(template : <a href=\"../../Crinja/Template.html\">Template</a>)","location":{"filename":"src/visitor/source.cr","line_number":11,"url":null},"def":{"name":"visit","args":[{"name":"template","external_name":"template","restriction":"Template"}],"visibility":"Public","body":"lexer = Parser::TemplateLexer.new(template.env.config, template.source)\n\nwhile token = lexer.next_token\n  if token.kind == Kind::EOF\n    break\n  end\n  visit_token(token)\nend\n"},"external_var":false},{"html_id":"visit(tokens)-instance-method","name":"visit","abstract":false,"args":[{"name":"tokens","external_name":"tokens","restriction":""}],"args_string":"(tokens)","args_html":"(tokens)","location":{"filename":"src/visitor/source.cr","line_number":20,"url":null},"def":{"name":"visit","args":[{"name":"tokens","external_name":"tokens","restriction":""}],"visibility":"Public","body":"tokens.each do |token|\n  visit_token(token)\nend"},"external_var":false}]}]}]},{"html_id":"crinja/String","path":"String.html","kind":"class","full_name":"String","name":"String","abstract":false,"superclass":{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"crinja/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"crinja/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"crinja/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/runtime/safe_string.cr","line_number":180,"url":null}],"repository_name":"crinja","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"crinja/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"}],"doc":"A `String` represents an immutable sequence of UTF-8 characters.\n\nA `String` is typically created with a string literal, enclosing UTF-8 characters\nin double quotes:\n\n```\n\"hello world\"\n```\n\nSee [`String` literals](https://crystal-lang.org/reference/syntax_and_semantics/literals/string.html) in the language reference.\n\nA backslash can be used to denote some characters inside the string:\n\n```\n\"\\\"\" # double quote\n\"\\\\\" # backslash\n\"\\e\" # escape\n\"\\f\" # form feed\n\"\\n\" # newline\n\"\\r\" # carriage return\n\"\\t\" # tab\n\"\\v\" # vertical tab\n```\n\nYou can use a backslash followed by an *u* and four hexadecimal characters to denote a unicode codepoint written:\n\n```\n\"\\u0041\" # == \"A\"\n```\n\nOr you can use curly braces and specify up to six hexadecimal numbers (0 to 10FFFF):\n\n```\n\"\\u{41}\" # == \"A\"\n```\n\nA string can span multiple lines:\n\n```\n\"hello\n      world\" # same as \"hello\\n      world\"\n```\n\nNote that in the above example trailing and leading spaces, as well as newlines,\nend up in the resulting string. To avoid this, you can split a string into multiple lines\nby joining multiple literals with a backslash:\n\n```\n\"hello \" \\\n\"world, \" \\\n\"no newlines\" # same as \"hello world, no newlines\"\n```\n\nAlternatively, a backslash followed by a newline can be inserted inside the string literal:\n\n```\n\"hello \\\n     world, \\\n     no newlines\" # same as \"hello world, no newlines\"\n```\n\nIn this case, leading whitespace is not included in the resulting string.\n\nIf you need to write a string that has many double quotes, parentheses, or similar\ncharacters, you can use alternative literals:\n\n```\n# Supports double quotes and nested parentheses\n%(hello (\"world\")) # same as \"hello (\\\"world\\\")\"\n\n# Supports double quotes and nested brackets\n%[hello [\"world\"]] # same as \"hello [\\\"world\\\"]\"\n\n# Supports double quotes and nested curlies\n%{hello {\"world\"}} # same as \"hello {\\\"world\\\"}\"\n\n# Supports double quotes and nested angles\n%<hello <\"world\">> # same as \"hello <\\\"world\\\">\"\n```\n\nTo create a `String` with embedded expressions, you can use string interpolation:\n\n```\na = 1\nb = 2\n\"sum = #{a + b}\" # \"sum = 3\"\n```\n\nThis ends up invoking `Object#to_s(IO)` on each expression enclosed by `#{...}`.\n\nIf you need to dynamically build a string, use `String#build` or `IO::Memory`.\n\n### Non UTF-8 valid strings\n\nA string might end up being composed of bytes which form an invalid\nbyte sequence according to UTF-8. This can happen if the string is created\nvia one of the constructors that accept bytes, or when getting a string\nfrom `String.build` or `IO::Memory`. No exception will be raised, but every\nbyte that doesn't start a valid UTF-8 byte sequence is interpreted as though\nit encodes the Unicode replacement character (U+FFFD) by itself. For example:\n\n```\n# here 255 is not a valid byte value in the UTF-8 encoding\nstring = String.new(Bytes[255, 97])\nstring.valid_encoding? # => false\n\n# The first char here is the unicode replacement char\nstring.chars # => ['�', 'a']\n```\n\nOne can also create strings with specific byte value in them by\nusing octal and hexadecimal escape sequences:\n\n```\n# Octal escape sequences\n\"\\101\" # # => \"A\"\n\"\\12\"  # # => \"\\n\"\n\"\\1\"   # string with one character with code point 1\n\"\\377\" # string with one byte with value 255\n\n# Hexadecimal escape sequences\n\"\\x41\" # # => \"A\"\n\"\\xFF\" # string with one byte with value 255\n```\n\nThe reason for allowing strings that don't have a valid UTF-8 sequence\nis that the world is full of content that isn't properly encoded,\nand having a program raise an exception or stop because of this\nis not good. It's better if programs are more resilient, but\nshow a replacement character when there's an error in incoming data.\n\nNote that this interpretation only applies to methods inside Crystal; calling\n`#to_slice` or `#to_unsafe`, e.g. when passing a string to a C library, will\nexpose the invalid UTF-8 byte sequences. In particular, `Regex`'s underlying\nengine may reject strings that are not valid UTF-8, or it may invoke undefined\nbehavior on invalid strings. If this is undesired, `#scrub` could be used to\nremove the offending byte sequences first.","summary":"<p>A <code><a href=\"String.html\">String</a></code> represents an immutable sequence of UTF-8 characters.</p>","instance_methods":[{"html_id":"==(other:Crinja::SafeString)-instance-method","name":"==","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"Crinja::SafeString"}],"args_string":"(other : Crinja::SafeString)","args_html":"(other : <a href=\"Crinja/SafeString.html\">Crinja::SafeString</a>)","location":{"filename":"src/runtime/safe_string.cr","line_number":181,"url":null},"def":{"name":"==","args":[{"name":"other","external_name":"other","restriction":"Crinja::SafeString"}],"visibility":"Public","body":"other == self"},"external_var":false}]}]}}